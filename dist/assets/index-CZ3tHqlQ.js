(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function eI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _p={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function tI(){if(Lb)return mu;Lb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var Ub;function nI(){return Ub||(Ub=1,_p.exports=tI()),_p.exports}var v=nI(),bp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function iI(){if(zb)return De;zb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,V={};function O(U,re,he){this.props=U,this.context=re,this.refs=V,this.updater=he||A}O.prototype.isReactComponent={},O.prototype.setState=function(U,re){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,re,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function R(){}R.prototype=O.prototype;function K(U,re,he){this.props=U,this.context=re,this.refs=V,this.updater=he||A}var q=K.prototype=new R;q.constructor=K,C(q,O.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function P(U,re,he,le,ye,Re){return he=Re.ref,{$$typeof:t,type:U,key:re,ref:he!==void 0?he:null,props:Re}}function S(U,re){return P(U.type,re,void 0,void 0,void 0,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function L(U){var re={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(he){return re[he]})}var B=/\/+/g;function F(U,re){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):re.toString(36)}function j(){}function st(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(j,j):(U.status="pending",U.then(function(re){U.status==="pending"&&(U.status="fulfilled",U.value=re)},function(re){U.status==="pending"&&(U.status="rejected",U.reason=re)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ce(U,re,he,le,ye){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(Re){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case t:case e:Ee=!0;break;case y:return Ee=U._init,ce(Ee(U._payload),re,he,le,ye)}}if(Ee)return ye=ye(U),Ee=le===""?"."+F(U,0):le,Z(ye)?(he="",Ee!=null&&(he=Ee.replace(B,"$&/")+"/"),ce(ye,re,he,"",function(Pn){return Pn})):ye!=null&&(D(ye)&&(ye=S(ye,he+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Ee)),re.push(ye)),1;Ee=0;var ut=le===""?".":le+":";if(Z(U))for(var Je=0;Je<U.length;Je++)le=U[Je],Re=ut+F(le,Je),Ee+=ce(le,re,he,Re,ye);else if(Je=E(U),typeof Je=="function")for(U=Je.call(U),Je=0;!(le=U.next()).done;)le=le.value,Re=ut+F(le,Je++),Ee+=ce(le,re,he,Re,ye);else if(Re==="object"){if(typeof U.then=="function")return ce(st(U),re,he,le,ye);throw re=String(U),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function X(U,re,he){if(U==null)return U;var le=[],ye=0;return ce(U,le,"","",function(Re){return re.call(he,Re,ye++)}),le}function ae(U){if(U._status===-1){var re=U._result;re=re(),re.then(function(he){(U._status===0||U._status===-1)&&(U._status=1,U._result=he)},function(he){(U._status===0||U._status===-1)&&(U._status=2,U._result=he)}),U._status===-1&&(U._status=0,U._result=re)}if(U._status===1)return U._result.default;throw U._result}var fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ke(){}return De.Children={map:X,forEach:function(U,re,he){X(U,function(){re.apply(this,arguments)},he)},count:function(U){var re=0;return X(U,function(){re++}),re},toArray:function(U){return X(U,function(re){return re})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},De.Component=O,De.Fragment=n,De.Profiler=a,De.PureComponent=K,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,De.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},De.cache=function(U){return function(){return U.apply(null,arguments)}},De.cloneElement=function(U,re,he){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var le=C({},U.props),ye=U.key,Re=void 0;if(re!=null)for(Ee in re.ref!==void 0&&(Re=void 0),re.key!==void 0&&(ye=""+re.key),re)!$.call(re,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&re.ref===void 0||(le[Ee]=re[Ee]);var Ee=arguments.length-2;if(Ee===1)le.children=he;else if(1<Ee){for(var ut=Array(Ee),Je=0;Je<Ee;Je++)ut[Je]=arguments[Je+2];le.children=ut}return P(U.type,ye,void 0,void 0,Re,le)},De.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},De.createElement=function(U,re,he){var le,ye={},Re=null;if(re!=null)for(le in re.key!==void 0&&(Re=""+re.key),re)$.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=re[le]);var Ee=arguments.length-2;if(Ee===1)ye.children=he;else if(1<Ee){for(var ut=Array(Ee),Je=0;Je<Ee;Je++)ut[Je]=arguments[Je+2];ye.children=ut}if(U&&U.defaultProps)for(le in Ee=U.defaultProps,Ee)ye[le]===void 0&&(ye[le]=Ee[le]);return P(U,Re,void 0,void 0,null,ye)},De.createRef=function(){return{current:null}},De.forwardRef=function(U){return{$$typeof:d,render:U}},De.isValidElement=D,De.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ae}},De.memo=function(U,re){return{$$typeof:p,type:U,compare:re===void 0?null:re}},De.startTransition=function(U){var re=M.T,he={};M.T=he;try{var le=U(),ye=M.S;ye!==null&&ye(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ke,fe)}catch(Re){fe(Re)}finally{M.T=re}},De.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},De.use=function(U){return M.H.use(U)},De.useActionState=function(U,re,he){return M.H.useActionState(U,re,he)},De.useCallback=function(U,re){return M.H.useCallback(U,re)},De.useContext=function(U){return M.H.useContext(U)},De.useDebugValue=function(){},De.useDeferredValue=function(U,re){return M.H.useDeferredValue(U,re)},De.useEffect=function(U,re,he){var le=M.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(U,re)},De.useId=function(){return M.H.useId()},De.useImperativeHandle=function(U,re,he){return M.H.useImperativeHandle(U,re,he)},De.useInsertionEffect=function(U,re){return M.H.useInsertionEffect(U,re)},De.useLayoutEffect=function(U,re){return M.H.useLayoutEffect(U,re)},De.useMemo=function(U,re){return M.H.useMemo(U,re)},De.useOptimistic=function(U,re){return M.H.useOptimistic(U,re)},De.useReducer=function(U,re,he){return M.H.useReducer(U,re,he)},De.useRef=function(U){return M.H.useRef(U)},De.useState=function(U){return M.H.useState(U)},De.useSyncExternalStore=function(U,re,he){return M.H.useSyncExternalStore(U,re,he)},De.useTransition=function(){return M.H.useTransition()},De.version="19.1.0",De}var Bb;function Xg(){return Bb||(Bb=1,bp.exports=iI()),bp.exports}var N=Xg();const ma=eI(N);var xp={exports:{}},pu={},Tp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function sI(){return Fb||(Fb=1,function(t){function e(X,ae){var fe=X.length;X.push(ae);e:for(;0<fe;){var ke=fe-1>>>1,U=X[ke];if(0<a(U,ae))X[ke]=ae,X[fe]=U,fe=ke;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],fe=X.pop();if(fe!==ae){X[0]=fe;e:for(var ke=0,U=X.length,re=U>>>1;ke<re;){var he=2*(ke+1)-1,le=X[he],ye=he+1,Re=X[ye];if(0>a(le,fe))ye<U&&0>a(Re,le)?(X[ke]=Re,X[ye]=fe,ke=ye):(X[ke]=le,X[he]=fe,ke=he);else if(ye<U&&0>a(Re,fe))X[ke]=Re,X[ye]=fe,ke=ye;else break e}}return ae}function a(X,ae){var fe=X.sortIndex-ae.sortIndex;return fe!==0?fe:X.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,b=null,E=3,A=!1,C=!1,V=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Z(X){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=X)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function M(X){if(V=!1,Z(X),!C)if(n(m)!==null)C=!0,$||($=!0,F());else{var ae=n(p);ae!==null&&ce(M,ae.startTime-X)}}var $=!1,P=-1,S=5,D=-1;function L(){return O?!0:!(t.unstable_now()-D<S)}function B(){if(O=!1,$){var X=t.unstable_now();D=X;var ae=!0;try{e:{C=!1,V&&(V=!1,K(P),P=-1),A=!0;var fe=E;try{t:{for(Z(X),b=n(m);b!==null&&!(b.expirationTime>X&&L());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,E=b.priorityLevel;var U=ke(b.expirationTime<=X);if(X=t.unstable_now(),typeof U=="function"){b.callback=U,Z(X),ae=!0;break t}b===n(m)&&s(m),Z(X)}else s(m);b=n(m)}if(b!==null)ae=!0;else{var re=n(p);re!==null&&ce(M,re.startTime-X),ae=!1}}break e}finally{b=null,E=fe,A=!1}ae=void 0}}finally{ae?F():$=!1}}}var F;if(typeof q=="function")F=function(){q(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,st=j.port2;j.port1.onmessage=B,F=function(){st.postMessage(null)}}else F=function(){R(B,0)};function ce(X,ae){P=R(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(X){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var fe=E;E=ae;try{return X()}finally{E=fe}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=E;E=X;try{return ae()}finally{E=fe}},t.unstable_scheduleCallback=function(X,ae,fe){var ke=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ke+fe:ke):fe=ke,X){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=fe+U,X={id:y++,callback:ae,priorityLevel:X,startTime:fe,expirationTime:U,sortIndex:-1},fe>ke?(X.sortIndex=fe,e(p,X),n(m)===null&&X===n(p)&&(V?(K(P),P=-1):V=!0,ce(M,fe-ke))):(X.sortIndex=U,e(m,X),C||A||(C=!0,$||($=!0,F()))),X},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(X){var ae=E;return function(){var fe=E;E=ae;try{return X.apply(this,arguments)}finally{E=fe}}}}(Ep)),Ep}var qb;function rI(){return qb||(qb=1,Tp.exports=sI()),Tp.exports}var wp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function aI(){if(Hb)return an;Hb=1;var t=Xg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.0",an}var Gb;function oI(){if(Gb)return wp.exports;Gb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wp.exports=aI(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function lI(){if(Yb)return pu;Yb=1;var t=rI(),e=Xg(),n=oI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var T=!1,w=f.child;w;){if(w===o){T=!0,o=f,u=g;break}if(w===u){T=!0,u=f,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=f;break}if(w===u){T=!0,u=g,o=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case O:return"Profiler";case V:return"StrictMode";case M:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case q:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case Z:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return r=i.displayName||null,r!==null?r:st(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return st(i(r))}catch{}}return null}var ce=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ke=[],U=-1;function re(i){return{current:i}}function he(i){0>U||(i.current=ke[U],ke[U]=null,U--)}function le(i,r){U++,ke[U]=i.current,i.current=r}var ye=re(null),Re=re(null),Ee=re(null),ut=re(null);function Je(i,r){switch(le(Ee,r),le(Re,i),le(ye,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?db(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=db(r),i=fb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}he(ye),le(ye,i)}function Pn(){he(ye),he(Re),he(Ee)}function pe(i){i.memoizedState!==null&&le(ut,i);var r=ye.current,o=fb(r,i.type);r!==o&&(le(Re,i),le(ye,o))}function Ce(i){Re.current===i&&(he(ye),he(Re)),ut.current===i&&(he(ut),uu._currentValue=fe)}var _t=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,qi=t.unstable_cancelCallback,Cr=t.unstable_shouldYield,Mt=t.unstable_requestPaint,Le=t.unstable_now,ei=t.unstable_getCurrentPriorityLevel,ol=t.unstable_ImmediatePriority,Na=t.unstable_UserBlockingPriority,Ir=t.unstable_NormalPriority,bf=t.unstable_LowPriority,Ra=t.unstable_IdlePriority,ll=t.log,bc=t.unstable_setDisableYieldValue,mt=null,We=null;function wn(i){if(typeof ll=="function"&&bc(i),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(mt,i)}catch{}}var sn=Math.clz32?Math.clz32:Nr,xc=Math.log,xf=Math.LN2;function Nr(i){return i>>>=0,i===0?32:31-(xc(i)/xf|0)|0}var Rr=256,Dr=4194304;function ti(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=ti(u):(T&=w,T!==0?f=ti(T):o||(o=w&~i,o!==0&&(f=ti(o))))):(w=u&~g,w!==0?f=ti(w):T!==0?f=ti(T):o||(o=u&~i,o!==0&&(f=ti(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Mr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ul(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),i}function hl(){var i=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),i}function Hi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Gi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function dl(i,r,o,u,f,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,k=i.expirationTimes,J=i.hiddenUpdates;for(o=T&~o;0<o;){var te=31-sn(o),ie=1<<te;w[te]=0,k[te]=-1;var W=J[te];if(W!==null)for(J[te]=null,te=0;te<W.length;te++){var Q=W[te];Q!==null&&(Q.lane&=-536870913)}o&=~ie}u!==0&&hi(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function hi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-sn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function fl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-sn(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Rs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ma(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ds(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:Mb(i.type))}function Tc(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var ot=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ot,At="__reactProps$"+ot,On="__reactContainer$"+ot,ml="__reactEvents$"+ot,Tf="__reactListeners$"+ot,Ms="__reactHandles$"+ot,Ec="__reactResources$"+ot,Pr="__reactMarker$"+ot;function Ps(i){delete i[Pt],delete i[At],delete i[ml],delete i[Tf],delete i[Ms]}function Yi(i){var r=i[Pt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[On]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=yb(i);i!==null;){if(o=i[Pt])return o;i=yb(i)}return r}i=o,o=i.parentNode}return null}function di(i){if(i=i[Pt]||i[On]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function fi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function mn(i){var r=i[Ec];return r||(r=i[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(i){i[Pr]=!0}var pl=new Set,Pa={};function ni(i,r){Ki(i,r),Ki(i+"Capture",r)}function Ki(i,r){for(Pa[i]=r,i=0;i<r.length;i++)pl.add(r[i])}var wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},Or={};function Ac(i){return _t.call(Or,i)?!0:_t.call(Sc,i)?!1:wc.test(i)?Or[i]=!0:(Sc[i]=!0,!1)}function Os(i,r,o){if(Ac(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function mi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Kt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var kr,Cc;function Xi(i){if(kr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);kr=r&&r[1]||"",Cc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+i+Cc}var Oa=!1;function ka(i,r){if(!i||Oa)return"";Oa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var W=Q}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Q){W=Q}i.call(ie.prototype)}}else{try{throw Error()}catch(Q){W=Q}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var k=T.split(`
`),J=w.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===J.length)for(u=k.length-1,f=J.length-1;1<=u&&0<=f&&k[u]!==J[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==J[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==J[f]){var te=`
`+k[u].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=u&&0<=f);break}}}finally{Oa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xi(o):""}function gl(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return ka(i.type,!1);case 11:return ka(i.type.render,!1);case 1:return ka(i.type,!0);case 31:return Xi("Activity");default:return""}}function Va(i){try{var r="";do r+=gl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ef(i){var r=yl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ja(i){i._valueTracker||(i._valueTracker=Ef(i))}function vl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=yl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Vr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wf=/[\n"\\]/g;function Ct(i){return i.replace(wf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sn(i,r,o,u,f,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+pn(r)):i.value!==""+pn(r)&&(i.value=""+pn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?ks(i,T,pn(r)):o!=null?ks(i,T,pn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+pn(w):i.removeAttribute("name")}function jr(i,r,o,u,f,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+pn(o):"",r=r!=null?""+pn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function ks(i,r,o){r==="number"&&Vr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ji(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+pn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ze(i,r,o){if(r!=null&&(r=""+pn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+pn(o):""}function Lr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ce(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=pn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function kn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ic(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Ur.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function _l(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Ic(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Ic(i,g,r[g])}function bl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(i){return Af.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wi=null;function Vn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qi=null,$i=null;function xl(i){var r=di(i);if(r&&(i=r.stateNode)){var o=i[At]||null;e:switch(i=r.stateNode,r.type){case"input":if(Sn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[At]||null;if(!f)throw Error(s(90));Sn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&vl(u)}break e;case"textarea":Ze(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ji(i,!!o.multiple,r,!1)}}}var pi=!1;function Nc(i,r,o){if(pi)return i(r,o);pi=!0;try{var u=i(r);return u}finally{if(pi=!1,(Qi!==null||$i!==null)&&(Th(),Qi&&(r=Qi,i=$i,$i=Qi=null,xl(r),i)))for(r=0;r<i.length;r++)xl(i[r])}}function zr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(ii)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{jn=!1}var gi=null,Vs=null,Zi=null;function Tl(){if(Zi)return Zi;var i,r=Vs,o=r.length,u,f="value"in gi?gi.value:gi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[g-u];u++);return Zi=f.slice(i,1<u?1-u:void 0)}function yi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function vi(){return!0}function El(){return!1}function Bt(i){function r(o,u,f,g,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vi:El,this.isPropagationStopped=El,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Bt(Ke),Fr=y({},Ke,{view:0,detail:0}),Rc=Bt(Fr),za,Ba,_i,qr=y({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_i&&(_i&&i.type==="mousemove"?(za=i.screenX-_i.screenX,Ba=i.screenY-_i.screenY):Ba=za=0,_i=i),za)},movementY:function(i){return"movementY"in i?i.movementY:Ba}}),Ln=Bt(qr),Dc=y({},qr,{dataTransfer:0}),Cf=Bt(Dc),Hr=y({},Fr,{relatedTarget:0}),Fa=Bt(Hr),wl=y({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Bt(wl),Mc=y({},Ke,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ha=Bt(Mc),If=y({},Ke,{data:0}),Sl=Bt(If),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Oc[i])?!!r[i]:!1}function Yr(){return Al}var kc=y({},Fr,{key:function(i){if(i.key){var r=Gr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=yi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(i){return i.type==="keypress"?yi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ga=Bt(kc),Vc=y({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=Bt(Vc),es=y({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),jc=Bt(es),Lc=y({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uc=Bt(Lc),zc=y({},qr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Bt(zc),gn=y({},Ke,{newState:0,oldState:0}),Bc=Bt(gn),Fc=[9,13,27,32],bi=ii&&"CompositionEvent"in window,h=null;ii&&"documentMode"in document&&(h=document.documentMode);var _=ii&&"TextEvent"in window&&!h,x=ii&&(!bi||h&&8<h&&11>=h),I=" ",G=!1;function ee(i,r){switch(i){case"keyup":return Fc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Be=!1;function Ot(i,r){switch(i){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(G=!0,I);case"textInput":return i=r.data,i===I&&G?null:i;default:return null}}function Fe(i,r){if(Be)return i==="compositionend"||!bi&&ee(i,r)?(i=Tl(),Zi=Vs=gi=null,Be=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return x&&r.locale!=="ko"?null:r.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ft[i.type]:r==="textarea"}function ts(i,r,o,u){Qi?$i?$i.push(u):$i=[u]:Qi=u,r=Ih(r,"onChange"),0<r.length&&(o=new Ua("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Xt=null,xi=null;function Il(i){ob(i,0)}function qc(i){var r=fi(i);if(vl(r))return i}function I0(i,r){if(i==="change")return r}var N0=!1;if(ii){var Nf;if(ii){var Rf="oninput"in document;if(!Rf){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),Rf=typeof R0.oninput=="function"}Nf=Rf}else Nf=!1;N0=Nf&&(!document.documentMode||9<document.documentMode)}function D0(){Xt&&(Xt.detachEvent("onpropertychange",M0),xi=Xt=null)}function M0(i){if(i.propertyName==="value"&&qc(xi)){var r=[];ts(r,xi,i,Vn(i)),Nc(Il,r)}}function RA(i,r,o){i==="focusin"?(D0(),Xt=r,xi=o,Xt.attachEvent("onpropertychange",M0)):i==="focusout"&&D0()}function DA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qc(xi)}function MA(i,r){if(i==="click")return qc(r)}function PA(i,r){if(i==="input"||i==="change")return qc(r)}function OA(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var An=typeof Object.is=="function"?Object.is:OA;function Nl(i,r){if(An(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!_t.call(r,f)||!An(i[f],r[f]))return!1}return!0}function P0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function O0(i,r){var o=P0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=P0(o)}}function k0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?k0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function V0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Vr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Vr(i.document)}return r}function Df(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var kA=ii&&"documentMode"in document&&11>=document.documentMode,Ka=null,Mf=null,Rl=null,Pf=!1;function j0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pf||Ka==null||Ka!==Vr(u)||(u=Ka,"selectionStart"in u&&Df(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rl&&Nl(Rl,u)||(Rl=u,u=Ih(Mf,"onSelect"),0<u.length&&(r=new Ua("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ka)))}function Kr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Xa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Of={},L0={};ii&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Xr(i){if(Of[i])return Of[i];if(!Xa[i])return i;var r=Xa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in L0)return Of[i]=r[o];return i}var U0=Xr("animationend"),z0=Xr("animationiteration"),B0=Xr("animationstart"),VA=Xr("transitionrun"),jA=Xr("transitionstart"),LA=Xr("transitioncancel"),F0=Xr("transitionend"),q0=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function si(i,r){q0.set(i,r),ni(r,[i])}var H0=new WeakMap;function Un(i,r){if(typeof i=="object"&&i!==null){var o=H0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Va(r)},H0.set(i,r),r)}return{value:i,source:r,stack:Va(r)}}var zn=[],Ja=0,Vf=0;function Hc(){for(var i=Ja,r=Vf=Ja=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var g=zn[r];if(zn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}g!==0&&G0(o,f,g)}}function Gc(i,r,o,u){zn[Ja++]=i,zn[Ja++]=r,zn[Ja++]=o,zn[Ja++]=u,Vf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function jf(i,r,o,u){return Gc(i,r,o,u),Yc(i)}function Wa(i,r){return Gc(i,null,null,r),Yc(i)}function G0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-sn(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Yc(i){if(50<tu)throw tu=0,qm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Qa={};function UA(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,u){return new UA(i,r,o,u)}function Lf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Y0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Kc(i,r,o,u,f,g){var T=0;if(u=i,typeof i=="function")Lf(i)&&(T=1);else if(typeof i=="string")T=BC(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Cn(31,o,r,f),i.elementType=D,i.lanes=g,i;case C:return Jr(o.children,f,g,r);case V:T=8,f|=24;break;case O:return i=Cn(12,o,r,f|2),i.elementType=O,i.lanes=g,i;case M:return i=Cn(13,o,r,f),i.elementType=M,i.lanes=g,i;case $:return i=Cn(19,o,r,f),i.elementType=$,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case q:T=10;break e;case K:T=9;break e;case Z:T=11;break e;case P:T=14;break e;case S:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Cn(T,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function Jr(i,r,o,u){return i=Cn(7,i,u,r),i.lanes=o,i}function Uf(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function zf(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var $a=[],Za=0,Xc=null,Jc=0,Bn=[],Fn=0,Wr=null,is=1,ss="";function Qr(i,r){$a[Za++]=Jc,$a[Za++]=Xc,Xc=i,Jc=r}function K0(i,r,o){Bn[Fn++]=is,Bn[Fn++]=ss,Bn[Fn++]=Wr,Wr=i;var u=is;i=ss;var f=32-sn(u)-1;u&=~(1<<f),o+=1;var g=32-sn(r)+f;if(30<g){var T=f-f%5;g=(u&(1<<T)-1).toString(32),u>>=T,f-=T,is=1<<32-sn(r)+f|o<<f|u,ss=g+i}else is=1<<g|o<<f|u,ss=i}function Bf(i){i.return!==null&&(Qr(i,1),K0(i,1,0))}function Ff(i){for(;i===Xc;)Xc=$a[--Za],$a[Za]=null,Jc=$a[--Za],$a[Za]=null;for(;i===Wr;)Wr=Bn[--Fn],Bn[Fn]=null,ss=Bn[--Fn],Bn[Fn]=null,is=Bn[--Fn],Bn[Fn]=null}var yn=null,pt=null,Ye=!1,$r=null,Ti=!1,qf=Error(s(519));function Zr(i){var r=Error(s(418,""));throw Pl(Un(r,i)),qf}function X0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Pt]=i,r[At]=u,o){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<iu.length;o++)je(iu[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),jr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ja(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Lr(r,u.value,u.defaultValue,u.children),ja(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||hb(r.textContent,o)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=Nh),r=!0):r=!1,r||Zr(i)}function J0(i){for(yn=i.return;yn;)switch(yn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:yn=yn.return}}function Dl(i){if(i!==yn)return!1;if(!Ye)return J0(i),Ye=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||rp(i.type,i.memoizedProps)),o=!o),o&&pt&&Zr(i),J0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){pt=ai(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}pt=null}}else r===27?(r=pt,$s(i.type)?(i=up,up=null,pt=i):pt=r):pt=yn?ai(i.stateNode.nextSibling):null;return!0}function Ml(){pt=yn=null,Ye=!1}function W0(){var i=$r;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),$r=null),i}function Pl(i){$r===null?$r=[i]:$r.push(i)}var Hf=re(null),ea=null,rs=null;function js(i,r,o){le(Hf,r._currentValue),r._currentValue=o}function as(i){i._currentValue=Hf.current,he(Hf)}function Gf(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Yf(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var k=0;k<r.length;k++)if(w.context===r[k]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Gf(g.return,o,i),u||(T=null);break e}g=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Gf(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ol(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;An(f.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(f===ut.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}f=f.return}i!==null&&Yf(r,i,o,u),r.flags|=262144}function Wc(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ta(i){ea=i,rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return Q0(ea,i)}function Qc(i,r){return ea===null&&ta(i),Q0(i,r)}function Q0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},rs===null){if(i===null)throw Error(s(308));rs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else rs=rs.next=r;return o}var zA=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},BA=t.unstable_scheduleCallback,FA=t.unstable_NormalPriority,Vt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new zA,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&BA(FA,function(){i.controller.abort()})}var Vl=null,Xf=0,eo=0,to=null;function qA(i,r){if(Vl===null){var o=Vl=[];Xf=0,eo=Wm(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Xf++,r.then($0,$0),r}function $0(){if(--Xf===0&&Vl!==null){to!==null&&(to.status="fulfilled");var i=Vl;Vl=null,eo=0,to=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function HA(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Z0=X.S;X.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&qA(i,r),Z0!==null&&Z0(i,r)};var na=re(null);function Jf(){var i=na.current;return i!==null?i:rt.pooledCache}function $c(i,r){r===null?le(na,na.current):le(na,r.pool)}function ev(){var i=Jf();return i===null?null:{parent:Vt._currentValue,pool:i}}var jl=Error(s(460)),tv=Error(s(474)),Zc=Error(s(542)),Wf={then:function(){}};function nv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function eh(){}function iv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(eh,eh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rv(i),i;default:if(typeof r.status=="string")r.then(eh,eh);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rv(i),i}throw Ll=r,jl}}var Ll=null;function sv(){if(Ll===null)throw Error(s(459));var i=Ll;return Ll=null,i}function rv(i){if(i===jl||i===Zc)throw Error(s(483))}var Ls=!1;function Qf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Us(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Yc(i),G0(i,null,o),r}return Gc(i,u,r,o),Yc(i)}function Ul(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,fl(i,o)}}function Zf(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var em=!1;function zl(){if(em){var i=to;if(i!==null)throw i}}function Bl(i,r,o,u){em=!1;var f=i.updateQueue;Ls=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var k=w,J=k.next;k.next=null,T===null?g=J:T.next=J,T=k;var te=i.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==T&&(w===null?te.firstBaseUpdate=J:w.next=J,te.lastBaseUpdate=k))}if(g!==null){var ie=f.baseState;T=0,te=J=k=null,w=g;do{var W=w.lane&-536870913,Q=W!==w.lane;if(Q?(qe&W)===W:(u&W)===W){W!==0&&W===eo&&(em=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=i,ve=w;W=r;var nt=o;switch(ve.tag){case 1:if(Ae=ve.payload,typeof Ae=="function"){ie=Ae.call(nt,ie,W);break e}ie=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ve.payload,W=typeof Ae=="function"?Ae.call(nt,ie,W):Ae,W==null)break e;ie=y({},ie,W);break e;case 2:Ls=!0}}W=w.callback,W!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(J=te=Q,k=ie):te=te.next=Q,T|=W;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);te===null&&(k=ie),f.baseState=k,f.firstBaseUpdate=J,f.lastBaseUpdate=te,g===null&&(f.shared.lanes=0),Xs|=T,i.lanes=T,i.memoizedState=ie}}function av(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function ov(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)av(o[i],r)}var no=re(null),th=re(0);function lv(i,r){i=fs,le(th,i),le(no,r),fs=i|r.baseLanes}function tm(){le(th,fs),le(no,no.current)}function nm(){fs=th.current,he(no),he(th)}var Bs=0,Me=null,et=null,It=null,nh=!1,io=!1,ia=!1,ih=0,Fl=0,so=null,GA=0;function Tt(){throw Error(s(321))}function im(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!An(i[o],r[o]))return!1;return!0}function sm(i,r,o,u,f,g){return Bs=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?Gv:Yv,ia=!1,g=o(u,f),ia=!1,io&&(g=cv(r,o,u,f)),uv(i),g}function uv(i){X.H=uh;var r=et!==null&&et.next!==null;if(Bs=0,It=et=Me=null,nh=!1,Fl=0,so=null,r)throw Error(s(300));i===null||qt||(i=i.dependencies,i!==null&&Wc(i)&&(qt=!0))}function cv(i,r,o,u){Me=i;var f=0;do{if(io&&(so=null),Fl=0,io=!1,25<=f)throw Error(s(301));if(f+=1,It=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=$A,g=r(o,u)}while(io);return g}function YA(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?ql(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Me.flags|=1024),r}function rm(){var i=ih!==0;return ih=0,i}function am(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function om(i){if(nh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}nh=!1}Bs=0,It=et=Me=null,io=!1,Fl=ih=0,so=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Me.memoizedState=It=i:It=It.next=i,It}function Nt(){if(et===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=It===null?Me.memoizedState:It.next;if(r!==null)It=r,et=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},It===null?Me.memoizedState=It=i:It=It.next=i}return It}function lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var r=Fl;return Fl+=1,so===null&&(so=[]),i=iv(so,i,r),r=Me,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Gv:Yv),i}function sh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===q)return rn(i)}throw Error(s(438,String(i)))}function um(i){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=lm(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function os(i,r){return typeof r=="function"?r(i):r}function rh(i){var r=Nt();return cm(r,et,i)}function cm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=T=null,k=null,J=r,te=!1;do{var ie=J.lane&-536870913;if(ie!==J.lane?(qe&ie)===ie:(Bs&ie)===ie){var W=J.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ie===eo&&(te=!0);else if((Bs&W)===W){J=J.next,W===eo&&(te=!0);continue}else ie={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(w=k=ie,T=g):k=k.next=ie,Me.lanes|=W,Xs|=W;ie=J.action,ia&&o(g,ie),g=J.hasEagerState?J.eagerState:o(g,ie)}else W={lane:ie,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(w=k=W,T=g):k=k.next=W,Me.lanes|=ie,Xs|=ie;J=J.next}while(J!==null&&J!==r);if(k===null?T=g:k.next=w,!An(g,i.memoizedState)&&(qt=!0,te&&(o=to,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=k,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function hm(i){var r=Nt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=i(g,T.action),T=T.next;while(T!==f);An(g,r.memoizedState)||(qt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function hv(i,r,o){var u=Me,f=Nt(),g=Ye;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!An((et||f).memoizedState,o);T&&(f.memoizedState=o,qt=!0),f=f.queue;var w=mv.bind(null,u,f,i);if(Hl(2048,8,w,[i]),f.getSnapshot!==r||T||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,ro(9,ah(),fv.bind(null,u,f,o,r),null),rt===null)throw Error(s(349));g||(Bs&124)!==0||dv(u,r,o)}return o}function dv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=lm(),Me.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function fv(i,r,o,u){r.value=o,r.getSnapshot=u,pv(r)&&gv(i)}function mv(i,r,o){return o(function(){pv(r)&&gv(i)})}function pv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!An(i,o)}catch{return!0}}function gv(i){var r=Wa(i,2);r!==null&&Mn(r,i,2)}function dm(i){var r=bn();if(typeof i=="function"){var o=i;if(i=o(),ia){wn(!0);try{o()}finally{wn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:i},r}function yv(i,r,o,u){return i.baseState=o,cm(i,et,typeof u=="function"?u:os)}function KA(i,r,o,u,f){if(lh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,vv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function vv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=X.T,T={};X.T=T;try{var w=o(f,u),k=X.S;k!==null&&k(T,w),_v(i,r,w)}catch(J){fm(i,r,J)}finally{X.T=g}}else try{g=o(f,u),_v(i,r,g)}catch(J){fm(i,r,J)}}function _v(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){bv(i,r,u)},function(u){return fm(i,r,u)}):bv(i,r,o)}function bv(i,r,o){r.status="fulfilled",r.value=o,xv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,vv(i,o)))}function fm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,xv(r),r=r.next;while(r!==u)}i.action=null}function xv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Tv(i,r){return r}function Ev(i,r){if(Ye){var o=rt.formState;if(o!==null){e:{var u=Me;if(Ye){if(pt){t:{for(var f=pt,g=Ti;f.nodeType!==8;){if(!g){f=null;break t}if(f=ai(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){pt=ai(f.nextSibling),u=f.data==="F!";break e}}Zr(u)}u=!1}u&&(r=o[0])}}return o=bn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:r},o.queue=u,o=Fv.bind(null,Me,u),u.dispatch=o,u=dm(!1),g=vm.bind(null,Me,!1,u.queue),u=bn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=KA.bind(null,Me,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function wv(i){var r=Nt();return Sv(r,et,i)}function Sv(i,r,o){if(r=cm(i,r,Tv)[0],i=rh(os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ql(r)}catch(T){throw T===jl?Zc:T}else u=r;r=Nt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,ro(9,ah(),XA.bind(null,f,o),null)),[u,g,i]}function XA(i,r){i.action=r}function Av(i){var r=Nt(),o=et;if(o!==null)return Sv(r,o,i);Nt(),r=r.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function ro(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Me.updateQueue,r===null&&(r=lm(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function ah(){return{destroy:void 0,resource:void 0}}function Cv(){return Nt().memoizedState}function oh(i,r,o,u){var f=bn();u=u===void 0?null:u,Me.flags|=i,f.memoizedState=ro(1|r,ah(),o,u)}function Hl(i,r,o,u){var f=Nt();u=u===void 0?null:u;var g=f.memoizedState.inst;et!==null&&u!==null&&im(u,et.memoizedState.deps)?f.memoizedState=ro(r,g,o,u):(Me.flags|=i,f.memoizedState=ro(1|r,g,o,u))}function Iv(i,r){oh(8390656,8,i,r)}function Nv(i,r){Hl(2048,8,i,r)}function Rv(i,r){return Hl(4,2,i,r)}function Dv(i,r){return Hl(4,4,i,r)}function Mv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Pv(i,r,o){o=o!=null?o.concat([i]):null,Hl(4,4,Mv.bind(null,r,i),o)}function mm(){}function Ov(i,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&im(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function kv(i,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&im(r,u[1]))return u[0];if(u=i(),ia){wn(!0);try{i()}finally{wn(!1)}}return o.memoizedState=[u,r],u}function pm(i,r,o){return o===void 0||(Bs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=L_(),Me.lanes|=i,Xs|=i,o)}function Vv(i,r,o,u){return An(o,r)?o:no.current!==null?(i=pm(i,o,u),An(i,r)||(qt=!0),i):(Bs&42)===0?(qt=!0,i.memoizedState=o):(i=L_(),Me.lanes|=i,Xs|=i,r)}function jv(i,r,o,u,f){var g=ae.p;ae.p=g!==0&&8>g?g:8;var T=X.T,w={};X.T=w,vm(i,!1,r,o);try{var k=f(),J=X.S;if(J!==null&&J(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=HA(k,u);Gl(i,r,te,Dn(i))}else Gl(i,r,u,Dn(i))}catch(ie){Gl(i,r,{then:function(){},status:"rejected",reason:ie},Dn())}finally{ae.p=g,X.T=T}}function JA(){}function gm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=Lv(i).queue;jv(i,f,r,fe,o===null?JA:function(){return Uv(i),o(u)})}function Lv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Uv(i){var r=Lv(i).next.queue;Gl(i,r,{},Dn())}function ym(){return rn(uu)}function zv(){return Nt().memoizedState}function Bv(){return Nt().memoizedState}function WA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Dn();i=Us(o);var u=zs(r,i,o);u!==null&&(Mn(u,r,o),Ul(u,r,o)),r={cache:Kf()},i.payload=r;return}r=r.return}}function QA(i,r,o){var u=Dn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},lh(i)?qv(r,o):(o=jf(i,r,o,u),o!==null&&(Mn(o,i,u),Hv(o,r,u)))}function Fv(i,r,o){var u=Dn();Gl(i,r,o,u)}function Gl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(lh(i))qv(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(f.hasEagerState=!0,f.eagerState=w,An(w,T))return Gc(i,r,f,0),rt===null&&Hc(),!1}catch{}finally{}if(o=jf(i,r,f,u),o!==null)return Mn(o,i,u),Hv(o,r,u),!0}return!1}function vm(i,r,o,u){if(u={lane:2,revertLane:Wm(),action:u,hasEagerState:!1,eagerState:null,next:null},lh(i)){if(r)throw Error(s(479))}else r=jf(i,o,u,2),r!==null&&Mn(r,i,2)}function lh(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function qv(i,r){io=nh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Hv(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,fl(i,o)}}var uh={readContext:rn,use:sh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Gv={readContext:rn,use:sh,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:rn,useEffect:Iv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,oh(4194308,4,Mv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return oh(4194308,4,i,r)},useInsertionEffect:function(i,r){oh(4,2,i,r)},useMemo:function(i,r){var o=bn();r=r===void 0?null:r;var u=i();if(ia){wn(!0);try{i()}finally{wn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=bn();if(o!==void 0){var f=o(r);if(ia){wn(!0);try{o(r)}finally{wn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=QA.bind(null,Me,i),[u.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=dm(i);var r=i.queue,o=Fv.bind(null,Me,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:mm,useDeferredValue:function(i,r){var o=bn();return pm(o,i,r)},useTransition:function(){var i=dm(!1);return i=jv.bind(null,Me,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Me,f=bn();if(Ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),rt===null)throw Error(s(349));(qe&124)!==0||dv(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,Iv(mv.bind(null,u,g,i),[i]),u.flags|=2048,ro(9,ah(),fv.bind(null,u,g,o,r),null),o},useId:function(){var i=bn(),r=rt.identifierPrefix;if(Ye){var o=ss,u=is;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=ih++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=GA++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:ym,useFormState:Ev,useActionState:Ev,useOptimistic:function(i){var r=bn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=vm.bind(null,Me,!0,o),o.dispatch=r,[i,r]},useMemoCache:um,useCacheRefresh:function(){return bn().memoizedState=WA.bind(null,Me)}},Yv={readContext:rn,use:sh,useCallback:Ov,useContext:rn,useEffect:Nv,useImperativeHandle:Pv,useInsertionEffect:Rv,useLayoutEffect:Dv,useMemo:kv,useReducer:rh,useRef:Cv,useState:function(){return rh(os)},useDebugValue:mm,useDeferredValue:function(i,r){var o=Nt();return Vv(o,et.memoizedState,i,r)},useTransition:function(){var i=rh(os)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:hv,useId:zv,useHostTransitionStatus:ym,useFormState:wv,useActionState:wv,useOptimistic:function(i,r){var o=Nt();return yv(o,et,i,r)},useMemoCache:um,useCacheRefresh:Bv},$A={readContext:rn,use:sh,useCallback:Ov,useContext:rn,useEffect:Nv,useImperativeHandle:Pv,useInsertionEffect:Rv,useLayoutEffect:Dv,useMemo:kv,useReducer:hm,useRef:Cv,useState:function(){return hm(os)},useDebugValue:mm,useDeferredValue:function(i,r){var o=Nt();return et===null?pm(o,i,r):Vv(o,et.memoizedState,i,r)},useTransition:function(){var i=hm(os)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:hv,useId:zv,useHostTransitionStatus:ym,useFormState:Av,useActionState:Av,useOptimistic:function(i,r){var o=Nt();return et!==null?yv(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:um,useCacheRefresh:Bv},ao=null,Yl=0;function ch(i){var r=Yl;return Yl+=1,ao===null&&(ao=[]),iv(ao,i,r)}function Kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function hh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Kv(i){var r=i._init;return r(i._payload)}function Xv(i){function r(H,z){if(i){var Y=H.deletions;Y===null?(H.deletions=[z],H.flags|=16):Y.push(z)}}function o(H,z){if(!i)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function u(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=ns(H,z),H.index=0,H.sibling=null,H}function g(H,z,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<z?(H.flags|=67108866,z):Y):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function w(H,z,Y,ne){return z===null||z.tag!==6?(z=Uf(Y,H.mode,ne),z.return=H,z):(z=f(z,Y),z.return=H,z)}function k(H,z,Y,ne){var me=Y.type;return me===C?te(H,z,Y.props.children,ne,Y.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Kv(me)===z.type)?(z=f(z,Y.props),Kl(z,Y),z.return=H,z):(z=Kc(Y.type,Y.key,Y.props,null,H.mode,ne),Kl(z,Y),z.return=H,z)}function J(H,z,Y,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=zf(Y,H.mode,ne),z.return=H,z):(z=f(z,Y.children||[]),z.return=H,z)}function te(H,z,Y,ne,me){return z===null||z.tag!==7?(z=Jr(Y,H.mode,ne,me),z.return=H,z):(z=f(z,Y),z.return=H,z)}function ie(H,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Uf(""+z,H.mode,Y),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return Y=Kc(z.type,z.key,z.props,null,H.mode,Y),Kl(Y,z),Y.return=H,Y;case A:return z=zf(z,H.mode,Y),z.return=H,z;case S:var ne=z._init;return z=ne(z._payload),ie(H,z,Y)}if(ce(z)||F(z))return z=Jr(z,H.mode,Y,null),z.return=H,z;if(typeof z.then=="function")return ie(H,ch(z),Y);if(z.$$typeof===q)return ie(H,Qc(H,z),Y);hh(H,z)}return null}function W(H,z,Y,ne){var me=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return me!==null?null:w(H,z,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===me?k(H,z,Y,ne):null;case A:return Y.key===me?J(H,z,Y,ne):null;case S:return me=Y._init,Y=me(Y._payload),W(H,z,Y,ne)}if(ce(Y)||F(Y))return me!==null?null:te(H,z,Y,ne,null);if(typeof Y.then=="function")return W(H,z,ch(Y),ne);if(Y.$$typeof===q)return W(H,z,Qc(H,Y),ne);hh(H,Y)}return null}function Q(H,z,Y,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(Y)||null,w(z,H,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return H=H.get(ne.key===null?Y:ne.key)||null,k(z,H,ne,me);case A:return H=H.get(ne.key===null?Y:ne.key)||null,J(z,H,ne,me);case S:var Oe=ne._init;return ne=Oe(ne._payload),Q(H,z,Y,ne,me)}if(ce(ne)||F(ne))return H=H.get(Y)||null,te(z,H,ne,me,null);if(typeof ne.then=="function")return Q(H,z,Y,ch(ne),me);if(ne.$$typeof===q)return Q(H,z,Y,Qc(z,ne),me);hh(z,ne)}return null}function Ae(H,z,Y,ne){for(var me=null,Oe=null,ge=z,xe=z=0,Gt=null;ge!==null&&xe<Y.length;xe++){ge.index>xe?(Gt=ge,ge=null):Gt=ge.sibling;var Ge=W(H,ge,Y[xe],ne);if(Ge===null){ge===null&&(ge=Gt);break}i&&ge&&Ge.alternate===null&&r(H,ge),z=g(Ge,z,xe),Oe===null?me=Ge:Oe.sibling=Ge,Oe=Ge,ge=Gt}if(xe===Y.length)return o(H,ge),Ye&&Qr(H,xe),me;if(ge===null){for(;xe<Y.length;xe++)ge=ie(H,Y[xe],ne),ge!==null&&(z=g(ge,z,xe),Oe===null?me=ge:Oe.sibling=ge,Oe=ge);return Ye&&Qr(H,xe),me}for(ge=u(ge);xe<Y.length;xe++)Gt=Q(ge,H,xe,Y[xe],ne),Gt!==null&&(i&&Gt.alternate!==null&&ge.delete(Gt.key===null?xe:Gt.key),z=g(Gt,z,xe),Oe===null?me=Gt:Oe.sibling=Gt,Oe=Gt);return i&&ge.forEach(function(ir){return r(H,ir)}),Ye&&Qr(H,xe),me}function ve(H,z,Y,ne){if(Y==null)throw Error(s(151));for(var me=null,Oe=null,ge=z,xe=z=0,Gt=null,Ge=Y.next();ge!==null&&!Ge.done;xe++,Ge=Y.next()){ge.index>xe?(Gt=ge,ge=null):Gt=ge.sibling;var ir=W(H,ge,Ge.value,ne);if(ir===null){ge===null&&(ge=Gt);break}i&&ge&&ir.alternate===null&&r(H,ge),z=g(ir,z,xe),Oe===null?me=ir:Oe.sibling=ir,Oe=ir,ge=Gt}if(Ge.done)return o(H,ge),Ye&&Qr(H,xe),me;if(ge===null){for(;!Ge.done;xe++,Ge=Y.next())Ge=ie(H,Ge.value,ne),Ge!==null&&(z=g(Ge,z,xe),Oe===null?me=Ge:Oe.sibling=Ge,Oe=Ge);return Ye&&Qr(H,xe),me}for(ge=u(ge);!Ge.done;xe++,Ge=Y.next())Ge=Q(ge,H,xe,Ge.value,ne),Ge!==null&&(i&&Ge.alternate!==null&&ge.delete(Ge.key===null?xe:Ge.key),z=g(Ge,z,xe),Oe===null?me=Ge:Oe.sibling=Ge,Oe=Ge);return i&&ge.forEach(function(ZC){return r(H,ZC)}),Ye&&Qr(H,xe),me}function nt(H,z,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var me=Y.key;z!==null;){if(z.key===me){if(me=Y.type,me===C){if(z.tag===7){o(H,z.sibling),ne=f(z,Y.props.children),ne.return=H,H=ne;break e}}else if(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Kv(me)===z.type){o(H,z.sibling),ne=f(z,Y.props),Kl(ne,Y),ne.return=H,H=ne;break e}o(H,z);break}else r(H,z);z=z.sibling}Y.type===C?(ne=Jr(Y.props.children,H.mode,ne,Y.key),ne.return=H,H=ne):(ne=Kc(Y.type,Y.key,Y.props,null,H.mode,ne),Kl(ne,Y),ne.return=H,H=ne)}return T(H);case A:e:{for(me=Y.key;z!==null;){if(z.key===me)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(H,z.sibling),ne=f(z,Y.children||[]),ne.return=H,H=ne;break e}else{o(H,z);break}else r(H,z);z=z.sibling}ne=zf(Y,H.mode,ne),ne.return=H,H=ne}return T(H);case S:return me=Y._init,Y=me(Y._payload),nt(H,z,Y,ne)}if(ce(Y))return Ae(H,z,Y,ne);if(F(Y)){if(me=F(Y),typeof me!="function")throw Error(s(150));return Y=me.call(Y),ve(H,z,Y,ne)}if(typeof Y.then=="function")return nt(H,z,ch(Y),ne);if(Y.$$typeof===q)return nt(H,z,Qc(H,Y),ne);hh(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(H,z.sibling),ne=f(z,Y),ne.return=H,H=ne):(o(H,z),ne=Uf(Y,H.mode,ne),ne.return=H,H=ne),T(H)):o(H,z)}return function(H,z,Y,ne){try{Yl=0;var me=nt(H,z,Y,ne);return ao=null,me}catch(ge){if(ge===jl||ge===Zc)throw ge;var Oe=Cn(29,ge,null,H.mode);return Oe.lanes=ne,Oe.return=H,Oe}finally{}}}var oo=Xv(!0),Jv=Xv(!1),qn=re(null),Ei=null;function Fs(i){var r=i.alternate;le(jt,jt.current&1),le(qn,i),Ei===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(Ei=i)}function Wv(i){if(i.tag===22){if(le(jt,jt.current),le(qn,i),Ei===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ei=i)}}else qs()}function qs(){le(jt,jt.current),le(qn,qn.current)}function ls(i){he(qn),Ei===i&&(Ei=null),he(jt)}var jt=re(0);function dh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||lp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function _m(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var bm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Dn(),f=Us(u);f.payload=r,o!=null&&(f.callback=o),r=zs(i,f,u),r!==null&&(Mn(r,i,u),Ul(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Dn(),f=Us(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=zs(i,f,u),r!==null&&(Mn(r,i,u),Ul(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Dn(),u=Us(o);u.tag=2,r!=null&&(u.callback=r),r=zs(i,u,o),r!==null&&(Mn(r,i,o),Ul(r,i,o))}};function Qv(i,r,o,u,f,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!Nl(o,u)||!Nl(f,g):!0}function $v(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&bm.enqueueReplaceState(r,r.state,null)}function sa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var fh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Zv(i){fh(i)}function e_(i){console.error(i)}function t_(i){fh(i)}function mh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function n_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xm(i,r,o){return o=Us(o),o.tag=3,o.payload={element:null},o.callback=function(){mh(i,r)},o}function i_(i){return i=Us(i),i.tag=3,i}function s_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){n_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){n_(r,o,u),typeof f!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function ZA(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ol(r,o,f,!0),o=qn.current,o!==null){switch(o.tag){case 13:return Ei===null?Gm():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Wf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Km(i,u,f)),!1;case 22:return o.flags|=65536,u===Wf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Km(i,u,f)),!1}throw Error(s(435,o.tag))}return Km(i,u,f),Gm(),!1}if(Ye)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==qf&&(i=Error(s(422),{cause:u}),Pl(Un(i,o)))):(u!==qf&&(r=Error(s(423),{cause:u}),Pl(Un(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Un(u,o),f=xm(i.stateNode,u,f),Zf(i,f),gt!==4&&(gt=2)),!1;var g=Error(s(520),{cause:u});if(g=Un(g,o),eu===null?eu=[g]:eu.push(g),gt!==4&&(gt=2),r===null)return!0;u=Un(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=xm(o.stateNode,u,i),Zf(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Js===null||!Js.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=i_(f),s_(f,i,o,u),Zf(o,f),!1}o=o.return}while(o!==null);return!1}var r_=Error(s(461)),qt=!1;function Jt(i,r,o,u){r.child=i===null?Jv(r,null,o,u):oo(r,i.child,o,u)}function a_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ta(r),u=sm(i,r,o,T,g,f),w=rm(),i!==null&&!qt?(am(i,r,f),us(i,r,f)):(Ye&&w&&Bf(r),r.flags|=1,Jt(i,r,u,f),r.child)}function o_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Lf(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,l_(i,r,g,u,f)):(i=Kc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Nm(i,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Nl,o(T,u)&&i.ref===r.ref)return us(i,r,f)}return r.flags|=1,i=ns(g,u),i.ref=r.ref,i.return=r,r.child=i}function l_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Nl(g,u)&&i.ref===r.ref)if(qt=!1,r.pendingProps=u=g,Nm(i,f))(i.flags&131072)!==0&&(qt=!0);else return r.lanes=i.lanes,us(i,r,f)}return Tm(i,r,o,u,f)}function u_(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return c_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&$c(r,g!==null?g.cachePool:null),g!==null?lv(r,g):tm(),Wv(r);else return r.lanes=r.childLanes=536870912,c_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?($c(r,g.cachePool),lv(r,g),qs(),r.memoizedState=null):(i!==null&&$c(r,null),tm(),qs());return Jt(i,r,f,o),r.child}function c_(i,r,o,u){var f=Jf();return f=f===null?null:{parent:Vt._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&$c(r,null),tm(),Wv(r),i!==null&&Ol(i,r,u,!0),null}function ph(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Tm(i,r,o,u,f){return ta(r),o=sm(i,r,o,u,void 0,f),u=rm(),i!==null&&!qt?(am(i,r,f),us(i,r,f)):(Ye&&u&&Bf(r),r.flags|=1,Jt(i,r,o,f),r.child)}function h_(i,r,o,u,f,g){return ta(r),r.updateQueue=null,o=cv(r,u,o,f),uv(i),u=rm(),i!==null&&!qt?(am(i,r,g),us(i,r,g)):(Ye&&u&&Bf(r),r.flags|=1,Jt(i,r,o,g),r.child)}function d_(i,r,o,u,f){if(ta(r),r.stateNode===null){var g=Qa,T=o.contextType;typeof T=="object"&&T!==null&&(g=rn(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Qf(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?rn(T):Qa,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(_m(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&bm.enqueueReplaceState(g,g.state,null),Bl(r,u,g,f),zl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,k=sa(o,w);g.props=k;var J=g.context,te=o.contextType;T=Qa,typeof te=="object"&&te!==null&&(T=rn(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||J!==T)&&$v(r,g,u,T),Ls=!1;var W=r.memoizedState;g.state=W,Bl(r,u,g,f),zl(),J=r.memoizedState,w||W!==J||Ls?(typeof ie=="function"&&(_m(r,o,ie,u),J=r.memoizedState),(k=Ls||Qv(r,o,k,u,W,J,T))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=J),g.props=u,g.state=J,g.context=T,u=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,$f(i,r),T=r.memoizedProps,te=sa(o,T),g.props=te,ie=r.pendingProps,W=g.context,J=o.contextType,k=Qa,typeof J=="object"&&J!==null&&(k=rn(J)),w=o.getDerivedStateFromProps,(J=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ie||W!==k)&&$v(r,g,u,k),Ls=!1,W=r.memoizedState,g.state=W,Bl(r,u,g,f),zl();var Q=r.memoizedState;T!==ie||W!==Q||Ls||i!==null&&i.dependencies!==null&&Wc(i.dependencies)?(typeof w=="function"&&(_m(r,o,w,u),Q=r.memoizedState),(te=Ls||Qv(r,o,te,u,W,Q,k)||i!==null&&i.dependencies!==null&&Wc(i.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=k,u=te):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,ph(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=oo(r,i.child,null,f),r.child=oo(r,null,o,f)):Jt(i,r,o,f),r.memoizedState=g.state,i=r.child):i=us(i,r,f),i}function f_(i,r,o,u){return Ml(),r.flags|=256,Jt(i,r,o,u),r.child}var Em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(i){return{baseLanes:i,cachePool:ev()}}function Sm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Hn),i}function m_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ye){if(f?Fs(r):qs(),Ye){var w=pt,k;if(k=w){e:{for(k=w,w=Ti;k.nodeType!==8;){if(!w){w=null;break e}if(k=ai(k.nextSibling),k===null){w=null;break e}}w=k}w!==null?(r.memoizedState={dehydrated:w,treeContext:Wr!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},k=Cn(18,null,null,0),k.stateNode=w,k.return=r,r.child=k,yn=r,pt=null,k=!0):k=!1}k||Zr(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return lp(w)?r.lanes=32:r.lanes=536870912,null;ls(r)}return w=u.children,u=u.fallback,f?(qs(),f=r.mode,w=gh({mode:"hidden",children:w},f),u=Jr(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=wm(o),f.childLanes=Sm(i,T,o),r.memoizedState=Em,u):(Fs(r),Am(r,w))}if(k=i.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(g)r.flags&256?(Fs(r),r.flags&=-257,r=Cm(i,r,o)):r.memoizedState!==null?(qs(),r.child=i.child,r.flags|=128,r=null):(qs(),f=u.fallback,w=r.mode,u=gh({mode:"visible",children:u.children},w),f=Jr(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,oo(r,i.child,null,o),u=r.child,u.memoizedState=wm(o),u.childLanes=Sm(i,T,o),r.memoizedState=Em,r=f);else if(Fs(r),lp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var J=T.dgst;T=J,u=Error(s(419)),u.stack="",u.digest=T,Pl({value:u,source:null,stack:null}),r=Cm(i,r,o)}else if(qt||Ol(i,r,o,!1),T=(o&i.childLanes)!==0,qt||T){if(T=rt,T!==null&&(u=o&-o,u=(u&42)!==0?1:Rs(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,Wa(i,u),Mn(T,i,u),r_;w.data==="$?"||Gm(),r=Cm(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,pt=ai(w.nextSibling),yn=r,Ye=!0,$r=null,Ti=!1,i!==null&&(Bn[Fn++]=is,Bn[Fn++]=ss,Bn[Fn++]=Wr,is=i.id,ss=i.overflow,Wr=r),r=Am(r,u.children),r.flags|=4096);return r}return f?(qs(),f=u.fallback,w=r.mode,k=i.child,J=k.sibling,u=ns(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,J!==null?f=ns(J,f):(f=Jr(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=wm(o):(k=w.cachePool,k!==null?(J=Vt._currentValue,k=k.parent!==J?{parent:J,pool:J}:k):k=ev(),w={baseLanes:w.baseLanes|o,cachePool:k}),f.memoizedState=w,f.childLanes=Sm(i,T,o),r.memoizedState=Em,u):(Fs(r),o=i.child,i=o.sibling,o=ns(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Am(i,r){return r=gh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function gh(i,r){return i=Cn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cm(i,r,o){return oo(r,i.child,null,o),i=Am(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function p_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Gf(i.return,r,o)}function Im(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function g_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Jt(i,r,u.children,o),u=jt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&p_(i,o,r);else if(i.tag===19)p_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(le(jt,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&dh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Im(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&dh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Im(r,!0,o,null,g);break;case"together":Im(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function us(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Xs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ol(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ns(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ns(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Nm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Wc(i)))}function eC(i,r,o){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),js(r,Vt,i.memoizedState.cache),Ml();break;case 27:case 5:pe(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:js(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Fs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?m_(i,r,o):(Fs(r),i=us(i,r,o),i!==null?i.sibling:null);Fs(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ol(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return g_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(jt,jt.current),u)break;return null;case 22:case 23:return r.lanes=0,u_(i,r,o);case 24:js(r,Vt,i.memoizedState.cache)}return us(i,r,o)}function y_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)qt=!0;else{if(!Nm(i,o)&&(r.flags&128)===0)return qt=!1,eC(i,r,o);qt=(i.flags&131072)!==0}else qt=!1,Ye&&(r.flags&1048576)!==0&&K0(r,Jc,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Lf(u)?(i=sa(u,i),r.tag=1,r=d_(null,r,u,i,o)):(r.tag=0,r=Tm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===Z){r.tag=11,r=a_(null,r,u,i,o);break e}else if(f===P){r.tag=14,r=o_(null,r,u,i,o);break e}}throw r=st(u)||u,Error(s(306,r,""))}}return r;case 0:return Tm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=sa(u,r.pendingProps),d_(i,r,u,f,o);case 3:e:{if(Je(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,$f(i,r),Bl(r,u,null,o);var T=r.memoizedState;if(u=T.cache,js(r,Vt,u),u!==g.cache&&Yf(r,[Vt],o,!0),zl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=f_(i,r,u,o);break e}else if(u!==f){f=Un(Error(s(424)),r),Pl(f),r=f_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=ai(i.firstChild),yn=r,Ye=!0,$r=null,Ti=!0,o=Jv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ml(),u===f){r=us(i,r,o);break e}Jt(i,r,u,o)}r=r.child}return r;case 26:return ph(i,r),i===null?(o=xb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ye||(o=r.type,i=r.pendingProps,u=Rh(Ee.current).createElement(o),u[Pt]=r,u[At]=i,Qt(u,o,i),xt(u),r.stateNode=u):r.memoizedState=xb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return pe(r),i===null&&Ye&&(u=r.stateNode=vb(r.type,r.pendingProps,Ee.current),yn=r,Ti=!0,f=pt,$s(r.type)?(up=f,pt=ai(u.firstChild)):pt=f),Jt(i,r,r.pendingProps.children,o),ph(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ye&&((f=u=pt)&&(u=IC(u,r.type,r.pendingProps,Ti),u!==null?(r.stateNode=u,yn=r,pt=ai(u.firstChild),Ti=!1,f=!0):f=!1),f||Zr(r)),pe(r),f=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,rp(f,g)?u=null:T!==null&&rp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=sm(i,r,YA,null,null,o),uu._currentValue=f),ph(i,r),Jt(i,r,u,o),r.child;case 6:return i===null&&Ye&&((i=o=pt)&&(o=NC(o,r.pendingProps,Ti),o!==null?(r.stateNode=o,yn=r,pt=null,i=!0):i=!1),i||Zr(r)),null;case 13:return m_(i,r,o);case 4:return Je(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=oo(r,null,u,o):Jt(i,r,u,o),r.child;case 11:return a_(i,r,r.type,r.pendingProps,o);case 7:return Jt(i,r,r.pendingProps,o),r.child;case 8:return Jt(i,r,r.pendingProps.children,o),r.child;case 12:return Jt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,js(r,r.type,u.value),Jt(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ta(r),f=rn(f),u=u(f),r.flags|=1,Jt(i,r,u,o),r.child;case 14:return o_(i,r,r.type,r.pendingProps,o);case 15:return l_(i,r,r.type,r.pendingProps,o);case 19:return g_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=gh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=ns(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return u_(i,r,o);case 24:return ta(r),u=rn(Vt),i===null?(f=Jf(),f===null&&(f=rt,g=Kf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Qf(r),js(r,Vt,f)):((i.lanes&o)!==0&&($f(i,r),Bl(r,null,null,o),zl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),js(r,Vt,u)):(u=g.cache,js(r,Vt,u),u!==f.cache&&Yf(r,[Vt],o,!0))),Jt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cs(i){i.flags|=4}function v_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ab(r)){if(r=qn.current,r!==null&&((qe&4194048)===qe?Ei!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==Ei))throw Ll=Wf,tv;i.flags|=8192}}function yh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?hl():536870912,i.lanes|=r,ho|=r)}function Xl(i,r){if(!Ye)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ct(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function tC(i,r,o){var u=r.pendingProps;switch(Ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),as(Vt),Pn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Dl(r)?cs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,W0())),ct(r),null;case 26:return o=r.memoizedState,i===null?(cs(r),o!==null?(ct(r),v_(r,o)):(ct(r),r.flags&=-16777217)):o?o!==i.memoizedState?(cs(r),ct(r),v_(r,o)):(ct(r),r.flags&=-16777217):(i.memoizedProps!==u&&cs(r),ct(r),r.flags&=-16777217),null;case 27:Ce(r),o=Ee.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&cs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}i=ye.current,Dl(r)?X0(r):(i=vb(f,u,o),r.stateNode=i,cs(r))}return ct(r),null;case 5:if(Ce(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&cs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(i=ye.current,Dl(r))X0(r);else{switch(f=Rh(Ee.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Pt]=r,i[At]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(Qt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&cs(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&cs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ee.current,Dl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=yn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Pt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||hb(i.nodeValue,o)),i||Zr(r)}else i=Rh(i).createTextNode(u),i[Pt]=r,r.stateNode=i}return ct(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Dl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Pt]=r}else Ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=W0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ls(r),r):(ls(r),null)}if(ls(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),yh(r,r.updateQueue),ct(r),null;case 4:return Pn(),i===null&&ep(r.stateNode.containerInfo),ct(r),null;case 10:return as(r.type),ct(r),null;case 19:if(he(jt),f=r.memoizedState,f===null)return ct(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Xl(f,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=dh(i),g!==null){for(r.flags|=128,Xl(f,!1),i=g.updateQueue,r.updateQueue=i,yh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Y0(o,i),o=o.sibling;return le(jt,jt.current&1|2),r.child}i=i.sibling}f.tail!==null&&Le()>bh&&(r.flags|=128,u=!0,Xl(f,!1),r.lanes=4194304)}else{if(!u)if(i=dh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,yh(r,i),Xl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ye)return ct(r),null}else 2*Le()-f.renderingStartTime>bh&&o!==536870912&&(r.flags|=128,u=!0,Xl(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Le(),r.sibling=null,i=jt.current,le(jt,u?i&1|2:i&1),r):(ct(r),null);case 22:case 23:return ls(r),nm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),o=r.updateQueue,o!==null&&yh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&he(na),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),as(Vt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nC(i,r){switch(Ff(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return as(Vt),Pn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ce(r),null;case 13:if(ls(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ml()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return he(jt),null;case 4:return Pn(),null;case 10:return as(r.type),null;case 22:case 23:return ls(r),nm(),i!==null&&he(na),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return as(Vt),null;case 25:return null;default:return null}}function __(i,r){switch(Ff(r),r.tag){case 3:as(Vt),Pn();break;case 26:case 27:case 5:Ce(r);break;case 4:Pn();break;case 13:ls(r);break;case 19:he(jt);break;case 10:as(r.type);break;case 22:case 23:ls(r),nm(),i!==null&&he(na);break;case 24:as(Vt)}}function Jl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==f)}}catch(w){it(r,r.return,w)}}function Hs(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var k=o,J=w;try{J()}catch(te){it(f,k,te)}}}u=u.next}while(u!==g)}}catch(te){it(r,r.return,te)}}function b_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{ov(r,o)}catch(u){it(i,i.return,u)}}}function x_(i,r,o){o.props=sa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){it(i,r,u)}}function Wl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){it(i,r,f)}}function wi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){it(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){it(i,r,f)}else o.current=null}function T_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){it(i,i.return,f)}}function Rm(i,r,o){try{var u=i.stateNode;EC(u,i.type,o,r),u[At]=r}catch(f){it(i,i.return,f)}}function E_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$s(i.type)||i.tag===4}function Dm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||E_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$s(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Nh));else if(u!==4&&(u===27&&$s(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Mm(i,r,o),i=i.sibling;i!==null;)Mm(i,r,o),i=i.sibling}function vh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&$s(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(vh(i,r,o),i=i.sibling;i!==null;)vh(i,r,o),i=i.sibling}function w_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qt(r,u,o),r[Pt]=i,r[At]=o}catch(g){it(i,i.return,g)}}var hs=!1,Et=!1,Pm=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function iC(i,r){if(i=i.containerInfo,ip=Vh,i=V0(i),Df(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,w=-1,k=-1,J=0,te=0,ie=i,W=null;t:for(;;){for(var Q;ie!==o||f!==0&&ie.nodeType!==3||(w=T+f),ie!==g||u!==0&&ie.nodeType!==3||(k=T+u),ie.nodeType===3&&(T+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)W=ie,ie=Q;for(;;){if(ie===i)break t;if(W===o&&++J===f&&(w=T),W===g&&++te===u&&(k=T),(Q=ie.nextSibling)!==null)break;ie=W,W=ie.parentNode}ie=Q}o=w===-1||k===-1?null:{start:w,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(sp={focusedElem:i,selectionRange:o},Vh=!1,Ht=r;Ht!==null;)if(r=Ht,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Ht=i;else for(;Ht!==null;){switch(r=Ht,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ae=sa(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Ae,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){it(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)op(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ht=i;break}Ht=r.return}}function A_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Gs(i,o),u&4&&Jl(5,o);break;case 1:if(Gs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){it(o,o.return,T)}else{var f=sa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){it(o,o.return,T)}}u&64&&b_(o),u&512&&Wl(o,o.return);break;case 3:if(Gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{ov(i,r)}catch(T){it(o,o.return,T)}}break;case 27:r===null&&u&4&&w_(o);case 26:case 5:Gs(i,o),r===null&&u&4&&T_(o),u&512&&Wl(o,o.return);break;case 12:Gs(i,o);break;case 13:Gs(i,o),u&4&&N_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=dC.bind(null,o),RC(i,o))));break;case 22:if(u=o.memoizedState!==null||hs,!u){r=r!==null&&r.memoizedState!==null||Et,f=hs;var g=Et;hs=u,(Et=r)&&!g?Ys(i,o,(o.subtreeFlags&8772)!==0):Gs(i,o),hs=f,Et=g}break;case 30:break;default:Gs(i,o)}}function C_(i){var r=i.alternate;r!==null&&(i.alternate=null,C_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ps(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,xn=!1;function ds(i,r,o){for(o=o.child;o!==null;)I_(i,r,o),o=o.sibling}function I_(i,r,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(mt,o)}catch{}switch(o.tag){case 26:Et||wi(o,r),ds(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||wi(o,r);var u=lt,f=xn;$s(o.type)&&(lt=o.stateNode,xn=!1),ds(i,r,o),ru(o.stateNode),lt=u,xn=f;break;case 5:Et||wi(o,r);case 6:if(u=lt,f=xn,lt=null,ds(i,r,o),lt=u,xn=f,lt!==null)if(xn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(g){it(o,r,g)}else try{lt.removeChild(o.stateNode)}catch(g){it(o,r,g)}break;case 18:lt!==null&&(xn?(i=lt,gb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),fu(i)):gb(lt,o.stateNode));break;case 4:u=lt,f=xn,lt=o.stateNode.containerInfo,xn=!0,ds(i,r,o),lt=u,xn=f;break;case 0:case 11:case 14:case 15:Et||Hs(2,o,r),Et||Hs(4,o,r),ds(i,r,o);break;case 1:Et||(wi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&x_(o,r,u)),ds(i,r,o);break;case 21:ds(i,r,o);break;case 22:Et=(u=Et)||o.memoizedState!==null,ds(i,r,o),Et=u;break;default:ds(i,r,o)}}function N_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fu(i)}catch(o){it(r,r.return,o)}}function sC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new S_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new S_),r;default:throw Error(s(435,i.tag))}}function Om(i,r){var o=sC(i);r.forEach(function(u){var f=fC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function In(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:if($s(w.type)){lt=w.stateNode,xn=!1;break e}break;case 5:lt=w.stateNode,xn=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,xn=!0;break e}w=w.return}if(lt===null)throw Error(s(160));I_(g,T,f),lt=null,xn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)R_(r,i),r=r.sibling}var ri=null;function R_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(r,i),Nn(i),u&4&&(Hs(3,i,i.return),Jl(3,i),Hs(5,i,i.return));break;case 1:In(r,i),Nn(i),u&512&&(Et||o===null||wi(o,o.return)),u&64&&hs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ri;if(In(r,i),Nn(i),u&512&&(Et||o===null||wi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Pr]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Qt(g,u,o),g[Pt]=i,xt(g),u=g;break e;case"link":var T=wb("link","href",f).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}g=f.createElement(u),Qt(g,u,o),f.head.appendChild(g);break;case"meta":if(T=wb("meta","content",f).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}g=f.createElement(u),Qt(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Pt]=i,xt(g),u=g}i.stateNode=u}else Sb(f,i.type,i.stateNode);else i.stateNode=Eb(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Sb(f,i.type,i.stateNode):Eb(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Rm(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(r,i),Nn(i),u&512&&(Et||o===null||wi(o,o.return)),o!==null&&u&4&&Rm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(r,i),Nn(i),u&512&&(Et||o===null||wi(o,o.return)),i.flags&32){f=i.stateNode;try{kn(f,"")}catch(Q){it(i,i.return,Q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Rm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Pm=!0);break;case 6:if(In(r,i),Nn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){it(i,i.return,Q)}}break;case 3:if(Ph=null,f=ri,ri=Dh(r.containerInfo),In(r,i),ri=f,Nn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{fu(r.containerInfo)}catch(Q){it(i,i.return,Q)}Pm&&(Pm=!1,D_(i));break;case 4:u=ri,ri=Dh(i.stateNode.containerInfo),In(r,i),Nn(i),ri=u;break;case 12:In(r,i),Nn(i);break;case 13:In(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(zm=Le()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Om(i,u)));break;case 22:f=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,J=hs,te=Et;if(hs=J||f,Et=te||k,In(r,i),Et=te,hs=J,Nn(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||k||hs||Et||ra(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=k.stateNode;var ie=k.memoizedProps.style,W=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Q){it(k,k.return,Q)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(Q){it(k,k.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Om(i,o))));break;case 19:In(r,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Om(i,u)));break;case 30:break;case 21:break;default:In(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(E_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Dm(i);vh(i,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(kn(T,""),o.flags&=-33);var w=Dm(i);vh(i,w,T);break;case 3:case 4:var k=o.stateNode.containerInfo,J=Dm(i);Mm(i,J,k);break;default:throw Error(s(161))}}catch(te){it(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function D_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;D_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)A_(i,r.alternate,r),r=r.sibling}function ra(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Hs(4,r,r.return),ra(r);break;case 1:wi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&x_(r,r.return,o),ra(r);break;case 27:ru(r.stateNode);case 26:case 5:wi(r,r.return),ra(r);break;case 22:r.memoizedState===null&&ra(r);break;case 30:ra(r);break;default:ra(r)}i=i.sibling}}function Ys(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ys(f,g,o),Jl(4,g);break;case 1:if(Ys(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){it(u,u.return,J)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)av(k[f],w)}catch(J){it(u,u.return,J)}}o&&T&64&&b_(g),Wl(g,g.return);break;case 27:w_(g);case 26:case 5:Ys(f,g,o),o&&u===null&&T&4&&T_(g),Wl(g,g.return);break;case 12:Ys(f,g,o);break;case 13:Ys(f,g,o),o&&T&4&&N_(f,g);break;case 22:g.memoizedState===null&&Ys(f,g,o),Wl(g,g.return);break;case 30:break;default:Ys(f,g,o)}r=r.sibling}}function km(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function Vm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i))}function Si(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M_(i,r,o,u),r=r.sibling}function M_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Si(i,r,o,u),f&2048&&Jl(9,r);break;case 1:Si(i,r,o,u);break;case 3:Si(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){Si(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){it(r,r.return,k)}}else Si(i,r,o,u);break;case 13:Si(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Si(i,r,o,u):Ql(i,r):g._visibility&2?Si(i,r,o,u):(g._visibility|=2,lo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&km(T,r);break;case 24:Si(i,r,o,u),f&2048&&Vm(r.alternate,r);break;default:Si(i,r,o,u)}}function lo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,T=r,w=o,k=u,J=T.flags;switch(T.tag){case 0:case 11:case 15:lo(g,T,w,k,f),Jl(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?lo(g,T,w,k,f):Ql(g,T):(te._visibility|=2,lo(g,T,w,k,f)),f&&J&2048&&km(T.alternate,T);break;case 24:lo(g,T,w,k,f),f&&J&2048&&Vm(T.alternate,T);break;default:lo(g,T,w,k,f)}r=r.sibling}}function Ql(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Ql(o,u),f&2048&&km(u.alternate,u);break;case 24:Ql(o,u),f&2048&&Vm(u.alternate,u);break;default:Ql(o,u)}r=r.sibling}}var $l=8192;function uo(i){if(i.subtreeFlags&$l)for(i=i.child;i!==null;)P_(i),i=i.sibling}function P_(i){switch(i.tag){case 26:uo(i),i.flags&$l&&i.memoizedState!==null&&qC(ri,i.memoizedState,i.memoizedProps);break;case 5:uo(i);break;case 3:case 4:var r=ri;ri=Dh(i.stateNode.containerInfo),uo(i),ri=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=$l,$l=16777216,uo(i),$l=r):uo(i));break;default:uo(i)}}function O_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Zl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,V_(u,i)}O_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k_(i),i=i.sibling}function k_(i){switch(i.tag){case 0:case 11:case 15:Zl(i),i.flags&2048&&Hs(9,i,i.return);break;case 3:Zl(i);break;case 12:Zl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,_h(i)):Zl(i);break;default:Zl(i)}}function _h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,V_(u,i)}O_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Hs(8,r,r.return),_h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,_h(r));break;default:_h(r)}i=i.sibling}}function V_(i,r){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:Hs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=i;Ht!==null;){u=Ht;var f=u.sibling,g=u.return;if(C_(u),u===o){Ht=null;break e}if(f!==null){f.return=g,Ht=f;break e}Ht=g}}}var rC={getCacheForType:function(i){var r=rn(Vt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},aC=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Ve=null,qe=0,$e=0,Rn=null,Ks=!1,co=!1,jm=!1,fs=0,gt=0,Xs=0,aa=0,Lm=0,Hn=0,ho=0,eu=null,Tn=null,Um=!1,zm=0,bh=1/0,xh=null,Js=null,Wt=0,Ws=null,fo=null,mo=0,Bm=0,Fm=null,j_=null,tu=0,qm=null;function Dn(){if((Qe&2)!==0&&qe!==0)return qe&-qe;if(X.T!==null){var i=eo;return i!==0?i:Wm()}return Ds()}function L_(){Hn===0&&(Hn=(qe&536870912)===0||Ye?cl():536870912);var i=qn.current;return i!==null&&(i.flags|=32),Hn}function Mn(i,r,o){(i===rt&&($e===2||$e===9)||i.cancelPendingCommit!==null)&&(po(i,0),Qs(i,qe,Hn,!1)),Gi(i,o),((Qe&2)===0||i!==rt)&&(i===rt&&((Qe&2)===0&&(aa|=o),gt===4&&Qs(i,qe,Hn,!1)),Ai(i))}function U_(i,r,o){if((Qe&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Mr(i,r),f=u?uC(i,r):Ym(i,r,!0),g=u;do{if(f===0){co&&!u&&Qs(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!oC(o)){f=Ym(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=i;f=eu;var k=w.current.memoizedState.isDehydrated;if(k&&(po(w,T).flags|=256),T=Ym(w,T,!1),T!==2){if(jm&&!k){w.errorRecoveryDisabledLanes|=g,aa|=g,f=4;break e}g=Tn,Tn=f,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){po(i,0),Qs(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Qs(u,r,Hn,!Ks);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=zm+300-Le(),10<f)){if(Qs(u,r,Hn,!Ks),Da(u,0,!0)!==0)break e;u.timeoutHandle=mb(z_.bind(null,u,o,Tn,xh,Um,r,Hn,aa,ho,Ks,g,2,-0,0),f);break e}z_(u,o,Tn,xh,Um,r,Hn,aa,ho,Ks,g,0,-0,0)}}break}while(!0);Ai(i)}function z_(i,r,o,u,f,g,T,w,k,J,te,ie,W,Q){if(i.timeoutHandle=-1,ie=r.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:FC},P_(r),ie=HC(),ie!==null)){i.cancelPendingCommit=ie(K_.bind(null,i,r,g,o,u,f,T,w,k,te,1,W,Q)),Qs(i,g,T,!J);return}K_(i,r,g,o,u,f,T,w,k)}function oC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!An(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qs(i,r,o,u){r&=~Lm,r&=~aa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-sn(f),T=1<<g;u[g]=-1,f&=~T}o!==0&&hi(i,o,r)}function Th(){return(Qe&6)===0?(nu(0),!1):!0}function Hm(){if(Ve!==null){if($e===0)var i=Ve.return;else i=Ve,rs=ea=null,om(i),ao=null,Yl=0,i=Ve;for(;i!==null;)__(i.alternate,i),i=i.return;Ve=null}}function po(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,SC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Hm(),rt=i,Ve=o=ns(i.current,null),qe=r,$e=0,Rn=null,Ks=!1,co=Mr(i,r),jm=!1,ho=Hn=Lm=aa=Xs=gt=0,Tn=eu=null,Um=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-sn(u),g=1<<f;r|=i[f],u&=~g}return fs=r,Hc(),o}function B_(i,r){Me=null,X.H=uh,r===jl||r===Zc?(r=sv(),$e=3):r===tv?(r=sv(),$e=4):$e=r===r_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Ve===null&&(gt=1,mh(i,Un(r,i.current)))}function F_(){var i=X.H;return X.H=uh,i===null?uh:i}function q_(){var i=X.A;return X.A=rC,i}function Gm(){gt=4,Ks||(qe&4194048)!==qe&&qn.current!==null||(co=!0),(Xs&134217727)===0&&(aa&134217727)===0||rt===null||Qs(rt,qe,Hn,!1)}function Ym(i,r,o){var u=Qe;Qe|=2;var f=F_(),g=q_();(rt!==i||qe!==r)&&(xh=null,po(i,r)),r=!1;var T=gt;e:do try{if($e!==0&&Ve!==null){var w=Ve,k=Rn;switch($e){case 8:Hm(),T=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var J=$e;if($e=0,Rn=null,go(i,w,k,J),o&&co){T=0;break e}break;default:J=$e,$e=0,Rn=null,go(i,w,k,J)}}lC(),T=gt;break}catch(te){B_(i,te)}while(!0);return r&&i.shellSuspendCounter++,rs=ea=null,Qe=u,X.H=f,X.A=g,Ve===null&&(rt=null,qe=0,Hc()),T}function lC(){for(;Ve!==null;)H_(Ve)}function uC(i,r){var o=Qe;Qe|=2;var u=F_(),f=q_();rt!==i||qe!==r?(xh=null,bh=Le()+500,po(i,r)):co=Mr(i,r);e:do try{if($e!==0&&Ve!==null){r=Ve;var g=Rn;t:switch($e){case 1:$e=0,Rn=null,go(i,r,g,1);break;case 2:case 9:if(nv(g)){$e=0,Rn=null,G_(r);break}r=function(){$e!==2&&$e!==9||rt!==i||($e=7),Ai(i)},g.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:nv(g)?($e=0,Rn=null,G_(r)):($e=0,Rn=null,go(i,r,g,7));break;case 5:var T=null;switch(Ve.tag){case 26:T=Ve.memoizedState;case 5:case 27:var w=Ve;if(!T||Ab(T)){$e=0,Rn=null;var k=w.sibling;if(k!==null)Ve=k;else{var J=w.return;J!==null?(Ve=J,Eh(J)):Ve=null}break t}}$e=0,Rn=null,go(i,r,g,5);break;case 6:$e=0,Rn=null,go(i,r,g,6);break;case 8:Hm(),gt=6;break e;default:throw Error(s(462))}}cC();break}catch(te){B_(i,te)}while(!0);return rs=ea=null,X.H=u,X.A=f,Qe=o,Ve!==null?0:(rt=null,qe=0,Hc(),gt)}function cC(){for(;Ve!==null&&!Cr();)H_(Ve)}function H_(i){var r=y_(i.alternate,i,fs);i.memoizedProps=i.pendingProps,r===null?Eh(i):Ve=r}function G_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=h_(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=h_(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:om(r);default:__(o,r),r=Ve=Y0(r,fs),r=y_(o,r,fs)}i.memoizedProps=i.pendingProps,r===null?Eh(i):Ve=r}function go(i,r,o,u){rs=ea=null,om(r),ao=null,Yl=0;var f=r.return;try{if(ZA(i,f,r,o,qe)){gt=1,mh(i,Un(o,i.current)),Ve=null;return}}catch(g){if(f!==null)throw Ve=f,g;gt=1,mh(i,Un(o,i.current)),Ve=null;return}r.flags&32768?(Ye||u===1?i=!0:co||(qe&536870912)!==0?i=!1:(Ks=i=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Y_(r,i)):Eh(r)}function Eh(i){var r=i;do{if((r.flags&32768)!==0){Y_(r,Ks);return}i=r.return;var o=tC(r.alternate,r,fs);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);gt===0&&(gt=5)}function Y_(i,r){do{var o=nC(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);gt=6,Ve=null}function K_(i,r,o,u,f,g,T,w,k){i.cancelPendingCommit=null;do wh();while(Wt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Vf,dl(i,o,g,T,w,k),i===rt&&(Ve=rt=null,qe=0),fo=r,Ws=i,mo=o,Bm=g,Fm=f,j_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,mC(Ir,function(){return $_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=ae.p,ae.p=2,T=Qe,Qe|=4;try{iC(i,r,o)}finally{Qe=T,ae.p=f,X.T=u}}Wt=1,X_(),J_(),W_()}}function X_(){if(Wt===1){Wt=0;var i=Ws,r=fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ae.p;ae.p=2;var f=Qe;Qe|=4;try{R_(r,i);var g=sp,T=V0(i.containerInfo),w=g.focusedElem,k=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&k0(w.ownerDocument.documentElement,w)){if(k!==null&&Df(w)){var J=k.start,te=k.end;if(te===void 0&&(te=J),"selectionStart"in w)w.selectionStart=J,w.selectionEnd=Math.min(te,w.value.length);else{var ie=w.ownerDocument||document,W=ie&&ie.defaultView||window;if(W.getSelection){var Q=W.getSelection(),Ae=w.textContent.length,ve=Math.min(k.start,Ae),nt=k.end===void 0?ve:Math.min(k.end,Ae);!Q.extend&&ve>nt&&(T=nt,nt=ve,ve=T);var H=O0(w,ve),z=O0(w,nt);if(H&&z&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var Y=ie.createRange();Y.setStart(H.node,H.offset),Q.removeAllRanges(),ve>nt?(Q.addRange(Y),Q.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),Q.addRange(Y))}}}}for(ie=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ne=ie[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Vh=!!ip,sp=ip=null}finally{Qe=f,ae.p=u,X.T=o}}i.current=r,Wt=2}}function J_(){if(Wt===2){Wt=0;var i=Ws,r=fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ae.p;ae.p=2;var f=Qe;Qe|=4;try{A_(i,r.alternate,r)}finally{Qe=f,ae.p=u,X.T=o}}Wt=3}}function W_(){if(Wt===4||Wt===3){Wt=0,Mt();var i=Ws,r=fo,o=mo,u=j_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,fo=Ws=null,Q_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Js=null),Ma(o),r=r.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(mt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,f=ae.p,ae.p=2,X.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{X.T=r,ae.p=f}}(mo&3)!==0&&wh(),Ai(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===qm?tu++:(tu=0,qm=i):tu=0,nu(0)}}function Q_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kl(r)))}function wh(i){return X_(),J_(),W_(),$_()}function $_(){if(Wt!==5)return!1;var i=Ws,r=Bm;Bm=0;var o=Ma(mo),u=X.T,f=ae.p;try{ae.p=32>o?32:o,X.T=null,o=Fm,Fm=null;var g=Ws,T=mo;if(Wt=0,fo=Ws=null,mo=0,(Qe&6)!==0)throw Error(s(331));var w=Qe;if(Qe|=4,k_(g.current),M_(g,g.current,T,o),Qe=w,nu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(mt,g)}catch{}return!0}finally{ae.p=f,X.T=u,Q_(i,r)}}function Z_(i,r,o){r=Un(o,r),r=xm(i.stateNode,r,2),i=zs(i,r,2),i!==null&&(Gi(i,2),Ai(i))}function it(i,r,o){if(i.tag===3)Z_(i,i,o);else for(;r!==null;){if(r.tag===3){Z_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){i=Un(o,i),o=i_(2),u=zs(r,o,2),u!==null&&(s_(o,u,r,i),Gi(u,2),Ai(u));break}}r=r.return}}function Km(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new aC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(jm=!0,f.add(o),i=hC.bind(null,i,r,o),r.then(i,i))}function hC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(qe&o)===o&&(gt===4||gt===3&&(qe&62914560)===qe&&300>Le()-zm?(Qe&2)===0&&po(i,0):Lm|=o,ho===qe&&(ho=0)),Ai(i)}function eb(i,r){r===0&&(r=hl()),i=Wa(i,r),i!==null&&(Gi(i,r),Ai(i))}function dC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),eb(i,o)}function fC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),eb(i,o)}function mC(i,r){return bt(i,r)}var Sh=null,yo=null,Xm=!1,Ah=!1,Jm=!1,oa=0;function Ai(i){i!==yo&&i.next===null&&(yo===null?Sh=yo=i:yo=yo.next=i),Ah=!0,Xm||(Xm=!0,gC())}function nu(i,r){if(!Jm&&Ah){Jm=!0;do for(var o=!1,u=Sh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-sn(42|i)+1)-1,g&=f&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,sb(u,g))}else g=qe,g=Da(u,u===rt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Mr(u,g)||(o=!0,sb(u,g));u=u.next}while(o);Jm=!1}}function pC(){tb()}function tb(){Ah=Xm=!1;var i=0;oa!==0&&(wC()&&(i=oa),oa=0);for(var r=Le(),o=null,u=Sh;u!==null;){var f=u.next,g=nb(u,r);g===0?(u.next=null,o===null?Sh=f:o.next=f,f===null&&(yo=o)):(o=u,(i!==0||(g&3)!==0)&&(Ah=!0)),u=f}nu(i)}function nb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-sn(g),w=1<<T,k=f[T];k===-1?((w&o)===0||(w&u)!==0)&&(f[T]=ul(w,r)):k<=r&&(i.expiredLanes|=w),g&=~w}if(r=rt,o=qe,o=Da(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&($e===2||$e===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&qi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Mr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&qi(u),Ma(o)){case 2:case 8:o=Na;break;case 32:o=Ir;break;case 268435456:o=Ra;break;default:o=Ir}return u=ib.bind(null,i),o=bt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&qi(u),i.callbackPriority=2,i.callbackNode=null,2}function ib(i,r){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(wh()&&i.callbackNode!==o)return null;var u=qe;return u=Da(i,i===rt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(U_(i,u,r),nb(i,Le()),i.callbackNode!=null&&i.callbackNode===o?ib.bind(null,i):null)}function sb(i,r){if(wh())return null;U_(i,r,!0)}function gC(){AC(function(){(Qe&6)!==0?bt(ol,pC):tb()})}function Wm(){return oa===0&&(oa=cl()),oa}function rb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:La(""+i)}function ab(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function yC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=rb((f[At]||null).action),T=u.submitter;T&&(r=(r=T[At]||null)?rb(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new Ua("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var k=T?ab(f,T):new FormData(f);gm(o,{pending:!0,data:k,method:f.method,action:g},null,k)}}else typeof g=="function"&&(w.preventDefault(),k=T?ab(f,T):new FormData(f),gm(o,{pending:!0,data:k,method:f.method,action:g},g,k))},currentTarget:f}]})}}for(var Qm=0;Qm<kf.length;Qm++){var $m=kf[Qm],vC=$m.toLowerCase(),_C=$m[0].toUpperCase()+$m.slice(1);si(vC,"on"+_C)}si(U0,"onAnimationEnd"),si(z0,"onAnimationIteration"),si(B0,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(VA,"onTransitionRun"),si(jA,"onTransitionStart"),si(LA,"onTransitionCancel"),si(F0,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function ob(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],k=w.instance,J=w.currentTarget;if(w=w.listener,k!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=J;try{g(f)}catch(te){fh(te)}f.currentTarget=null,g=k}else for(T=0;T<u.length;T++){if(w=u[T],k=w.instance,J=w.currentTarget,w=w.listener,k!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=J;try{g(f)}catch(te){fh(te)}f.currentTarget=null,g=k}}}}function je(i,r){var o=r[ml];o===void 0&&(o=r[ml]=new Set);var u=i+"__bubble";o.has(u)||(lb(r,i,2,!1),o.add(u))}function Zm(i,r,o){var u=0;r&&(u|=4),lb(o,i,u,r)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function ep(i){if(!i[Ch]){i[Ch]=!0,pl.forEach(function(o){o!=="selectionchange"&&(bC.has(o)||Zm(o,!1,i),Zm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ch]||(r[Ch]=!0,Zm("selectionchange",!1,r))}}function lb(i,r,o,u){switch(Mb(r)){case 2:var f=KC;break;case 8:f=XC;break;default:f=mp}o=f.bind(null,r,o,i),f=void 0,!jn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function tp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=u.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=Yi(w),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){u=g=T;continue e}w=w.parentNode}}u=u.return}Nc(function(){var J=g,te=Vn(o),ie=[];e:{var W=q0.get(i);if(W!==void 0){var Q=Ua,Ae=i;switch(i){case"keypress":if(yi(o)===0)break e;case"keydown":case"keyup":Q=Ga;break;case"focusin":Ae="focus",Q=Fa;break;case"focusout":Ae="blur",Q=Fa;break;case"beforeblur":case"afterblur":Q=Fa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=jc;break;case U0:case z0:case B0:Q=qa;break;case F0:Q=Uc;break;case"scroll":case"scrollend":Q=Rc;break;case"wheel":Q=Ya;break;case"copy":case"cut":case"paste":Q=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Cl;break;case"toggle":case"beforetoggle":Q=Bc}var ve=(r&4)!==0,nt=!ve&&(i==="scroll"||i==="scrollend"),H=ve?W!==null?W+"Capture":null:W;ve=[];for(var z=J,Y;z!==null;){var ne=z;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||H===null||(ne=zr(z,H),ne!=null&&ve.push(su(z,ne,Y))),nt)break;z=z.return}0<ve.length&&(W=new Q(W,Ae,null,o,te),ie.push({event:W,listeners:ve}))}}if((r&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",W&&o!==Wi&&(Ae=o.relatedTarget||o.fromElement)&&(Yi(Ae)||Ae[On]))break e;if((Q||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(Ae=o.relatedTarget||o.toElement,Q=J,Ae=Ae?Yi(Ae):null,Ae!==null&&(nt=l(Ae),ve=Ae.tag,Ae!==nt||ve!==5&&ve!==27&&ve!==6)&&(Ae=null)):(Q=null,Ae=J),Q!==Ae)){if(ve=Ln,ne="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Cl,ne="onPointerLeave",H="onPointerEnter",z="pointer"),nt=Q==null?W:fi(Q),Y=Ae==null?W:fi(Ae),W=new ve(ne,z+"leave",Q,o,te),W.target=nt,W.relatedTarget=Y,ne=null,Yi(te)===J&&(ve=new ve(H,z+"enter",Ae,o,te),ve.target=Y,ve.relatedTarget=nt,ne=ve),nt=ne,Q&&Ae)t:{for(ve=Q,H=Ae,z=0,Y=ve;Y;Y=vo(Y))z++;for(Y=0,ne=H;ne;ne=vo(ne))Y++;for(;0<z-Y;)ve=vo(ve),z--;for(;0<Y-z;)H=vo(H),Y--;for(;z--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=vo(ve),H=vo(H)}ve=null}else ve=null;Q!==null&&ub(ie,W,Q,ve,!1),Ae!==null&&nt!==null&&ub(ie,nt,Ae,ve,!0)}}e:{if(W=J?fi(J):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var me=I0;else if(kt(W))if(N0)me=PA;else{me=DA;var Oe=RA}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?J&&bl(J.elementType)&&(me=I0):me=MA;if(me&&(me=me(i,J))){ts(ie,me,o,te);break e}Oe&&Oe(i,W,J),i==="focusout"&&J&&W.type==="number"&&J.memoizedProps.value!=null&&ks(W,"number",W.value)}switch(Oe=J?fi(J):window,i){case"focusin":(kt(Oe)||Oe.contentEditable==="true")&&(Ka=Oe,Mf=J,Rl=null);break;case"focusout":Rl=Mf=Ka=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,j0(ie,o,te);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":j0(ie,o,te)}var ge;if(bi)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Be?ee(i,o)&&(xe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(x&&o.locale!=="ko"&&(Be||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Be&&(ge=Tl()):(gi=te,Vs="value"in gi?gi.value:gi.textContent,Be=!0)),Oe=Ih(J,xe),0<Oe.length&&(xe=new Sl(xe,i,null,o,te),ie.push({event:xe,listeners:Oe}),ge?xe.data=ge:(ge=ue(o),ge!==null&&(xe.data=ge)))),(ge=_?Ot(i,o):Fe(i,o))&&(xe=Ih(J,"onBeforeInput"),0<xe.length&&(Oe=new Sl("onBeforeInput","beforeinput",null,o,te),ie.push({event:Oe,listeners:xe}),Oe.data=ge)),yC(ie,i,J,o,te)}ob(ie,r)})}function su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ih(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=zr(i,o),f!=null&&u.unshift(su(i,f,g)),f=zr(i,r),f!=null&&u.push(su(i,f,g))),i.tag===3)return u;i=i.return}return[]}function vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ub(i,r,o,u,f){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,k=w.alternate,J=w.stateNode;if(w=w.tag,k!==null&&k===u)break;w!==5&&w!==26&&w!==27||J===null||(k=J,f?(J=zr(o,g),J!=null&&T.unshift(su(o,J,k))):f||(J=zr(o,g),J!=null&&T.push(su(o,J,k)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var xC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function cb(i){return(typeof i=="string"?i:""+i).replace(xC,`
`).replace(TC,"")}function hb(i,r){return r=cb(r),cb(i)===r}function Nh(){}function tt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||kn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&kn(i,""+u);break;case"className":mi(i,"class",u);break;case"tabIndex":mi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(i,o,u);break;case"style":_l(i,u,g);break;case"data":if(r!=="object"){mi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=La(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",f.name,f,null),tt(i,r,"formEncType",f.formEncType,f,null),tt(i,r,"formMethod",f.formMethod,f,null),tt(i,r,"formTarget",f.formTarget,f,null)):(tt(i,r,"encType",f.encType,f,null),tt(i,r,"method",f.method,f,null),tt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=La(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Nh);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=La(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":je("beforetoggle",i),je("toggle",i),Os(i,"popover",u);break;case"xlinkActuate":Kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Os(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sf.get(o)||o,Os(i,o,u))}}function np(i,r,o,u,f,g){switch(o){case"style":_l(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?kn(i,u):(typeof u=="number"||typeof u=="bigint")&&kn(i,""+u);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Os(i,o,u)}}}function Qt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,g,T,o,null)}}f&&tt(i,r,"srcSet",o.srcSet,o,null),u&&tt(i,r,"src",o.src,o,null);return;case"input":je("invalid",i);var w=g=T=f=null,k=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":T=te;break;case"checked":k=te;break;case"defaultChecked":J=te;break;case"value":g=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:tt(i,r,u,te,o,null)}}jr(i,g,w,k,J,T,f,!1),ja(i);return;case"select":je("invalid",i),u=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:tt(i,r,f,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?Ji(i,!!u,r,!1):o!=null&&Ji(i,!!u,o,!0);return;case"textarea":je("invalid",i),g=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:tt(i,r,T,w,o,null)}Lr(i,u,f,g),ja(i);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,r,k,u,o,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)je(iu[u],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,J,u,o,null)}return;default:if(bl(r)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&np(i,r,te,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&tt(i,r,w,u,o,null))}function EC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,w=null,k=null,J=null,te=null;for(Q in o){var ie=o[Q];if(o.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=ie;default:u.hasOwnProperty(Q)||tt(i,r,Q,null,u,ie)}}for(var W in u){var Q=u[W];if(ie=o[W],u.hasOwnProperty(W)&&(Q!=null||ie!=null))switch(W){case"type":g=Q;break;case"name":f=Q;break;case"checked":J=Q;break;case"defaultChecked":te=Q;break;case"value":T=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ie&&tt(i,r,W,Q,u,ie)}}Sn(i,T,w,k,J,te,g,f);return;case"select":Q=T=w=W=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Q=k;default:u.hasOwnProperty(g)||tt(i,r,g,null,u,k)}for(f in u)if(g=u[f],k=o[f],u.hasOwnProperty(f)&&(g!=null||k!=null))switch(f){case"value":W=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==k&&tt(i,r,f,g,u,k)}r=w,o=T,u=Q,W!=null?Ji(i,!!o,W,!1):!!u!=!!o&&(r!=null?Ji(i,!!o,r,!0):Ji(i,!!o,o?[]:"",!1));return;case"textarea":Q=W=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(i,r,w,null,u,f)}for(T in u)if(f=u[T],g=o[T],u.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":W=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&tt(i,r,T,f,u,g)}Ze(i,W,Q);return;case"option":for(var Ae in o)if(W=o[Ae],o.hasOwnProperty(Ae)&&W!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":i.selected=!1;break;default:tt(i,r,Ae,null,u,W)}for(k in u)if(W=u[k],Q=o[k],u.hasOwnProperty(k)&&W!==Q&&(W!=null||Q!=null))switch(k){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:tt(i,r,k,W,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)W=o[ve],o.hasOwnProperty(ve)&&W!=null&&!u.hasOwnProperty(ve)&&tt(i,r,ve,null,u,W);for(J in u)if(W=u[J],Q=o[J],u.hasOwnProperty(J)&&W!==Q&&(W!=null||Q!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:tt(i,r,J,W,u,Q)}return;default:if(bl(r)){for(var nt in o)W=o[nt],o.hasOwnProperty(nt)&&W!==void 0&&!u.hasOwnProperty(nt)&&np(i,r,nt,void 0,u,W);for(te in u)W=u[te],Q=o[te],!u.hasOwnProperty(te)||W===Q||W===void 0&&Q===void 0||np(i,r,te,W,u,Q);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!u.hasOwnProperty(H)&&tt(i,r,H,null,u,W);for(ie in u)W=u[ie],Q=o[ie],!u.hasOwnProperty(ie)||W===Q||W==null&&Q==null||tt(i,r,ie,W,u,Q)}var ip=null,sp=null;function Rh(i){return i.nodeType===9?i:i.ownerDocument}function db(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function rp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ap=null;function wC(){var i=window.event;return i&&i.type==="popstate"?i===ap?!1:(ap=i,!0):(ap=null,!1)}var mb=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,AC=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(i){return pb.resolve(null).then(i).catch(CC)}:mb;function CC(i){setTimeout(function(){throw i})}function $s(i){return i==="head"}function gb(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=i.ownerDocument;if(o&1&&ru(T.documentElement),o&2&&ru(T.body),o&4)for(o=T.head,ru(o),T=o.firstChild;T;){var w=T.nextSibling,k=T.nodeName;T[Pr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=w}}if(f===0){i.removeChild(g),fu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);fu(r)}function op(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":op(o),Ps(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function IC(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Pr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function NC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ai(i.nextSibling),i===null))return null;return i}function lp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function RC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ai(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var up=null;function yb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function vb(i,r,o){switch(r=Rh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ru(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ps(i)}var Gn=new Map,_b=new Set;function Dh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ms=ae.d;ae.d={f:DC,r:MC,D:PC,C:OC,L:kC,m:VC,X:LC,S:jC,M:UC};function DC(){var i=ms.f(),r=Th();return i||r}function MC(i){var r=di(i);r!==null&&r.tag===5&&r.type==="form"?Uv(r):ms.r(i)}var _o=typeof document>"u"?null:document;function bb(i,r,o){var u=_o;if(u&&typeof r=="string"&&r){var f=Ct(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),_b.has(f)||(_b.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Qt(r,"link",i),xt(r),u.head.appendChild(r)))}}function PC(i){ms.D(i),bb("dns-prefetch",i,null)}function OC(i,r){ms.C(i,r),bb("preconnect",i,r)}function kC(i,r,o){ms.L(i,r,o);var u=_o;if(u&&i&&r){var f='link[rel="preload"][as="'+Ct(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ct(o.imageSizes)+'"]')):f+='[href="'+Ct(i)+'"]';var g=f;switch(r){case"style":g=bo(i);break;case"script":g=xo(i)}Gn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Gn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(au(g))||r==="script"&&u.querySelector(ou(g))||(r=u.createElement("link"),Qt(r,"link",i),xt(r),u.head.appendChild(r)))}}function VC(i,r){ms.m(i,r);var o=_o;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(i)}if(!Gn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Gn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(g)))return}u=o.createElement("link"),Qt(u,"link",i),xt(u),o.head.appendChild(u)}}}function jC(i,r,o){ms.S(i,r,o);var u=_o;if(u&&i){var f=mn(u).hoistableStyles,g=bo(i);r=r||"default";var T=f.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(au(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Gn.get(g))&&cp(i,o);var k=T=u.createElement("link");xt(k),Qt(k,"link",i),k._p=new Promise(function(J,te){k.onload=J,k.onerror=te}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Mh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(g,T)}}}function LC(i,r){ms.X(i,r);var o=_o;if(o&&i){var u=mn(o).hoistableScripts,f=xo(i),g=u.get(f);g||(g=o.querySelector(ou(f)),g||(i=y({src:i,async:!0},r),(r=Gn.get(f))&&hp(i,r),g=o.createElement("script"),xt(g),Qt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function UC(i,r){ms.M(i,r);var o=_o;if(o&&i){var u=mn(o).hoistableScripts,f=xo(i),g=u.get(f);g||(g=o.querySelector(ou(f)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Gn.get(f))&&hp(i,r),g=o.createElement("script"),xt(g),Qt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function xb(i,r,o,u){var f=(f=Ee.current)?Dh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=bo(o.href),o=mn(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=bo(o.href);var g=mn(f).hoistableStyles,T=g.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=f.querySelector(au(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Gn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(i,o),g||zC(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xo(o),o=mn(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function bo(i){return'href="'+Ct(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function Tb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function zC(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Qt(r,"link",o),xt(r),i.head.appendChild(r))}function xo(i){return'[src="'+Ct(i)+'"]'}function ou(i){return"script[async]"+i}function Eb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return r.instance=u,xt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),xt(u),Qt(u,"style",f),Mh(u,o.precedence,i),r.instance=u;case"stylesheet":f=bo(o.href);var g=i.querySelector(au(f));if(g)return r.state.loading|=4,r.instance=g,xt(g),g;u=Tb(o),(f=Gn.get(f))&&cp(u,f),g=(i.ownerDocument||i).createElement("link"),xt(g);var T=g;return T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),Qt(g,"link",u),r.state.loading|=4,Mh(g,o.precedence,i),r.instance=g;case"script":return g=xo(o.src),(f=i.querySelector(ou(g)))?(r.instance=f,xt(f),f):(u=o,(f=Gn.get(g))&&(u=y({},o),hp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),xt(f),Qt(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Mh(u,o.precedence,i));return r.instance}function Mh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function cp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ph=null;function wb(i,r,o){if(Ph===null){var u=new Map,f=Ph=new Map;f.set(o,u)}else f=Ph,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Pr]||g[Pt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function Sb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function BC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ab(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lu=null;function FC(){}function qC(i,r,o){if(lu===null)throw Error(s(475));var u=lu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=bo(o.href),g=i.querySelector(au(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Oh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,xt(g);return}g=i.ownerDocument||i,o=Tb(o),(f=Gn.get(f))&&cp(o,f),g=g.createElement("link"),xt(g);var T=g;T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),Qt(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Oh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function HC(){if(lu===null)throw Error(s(475));var i=lu;return i.stylesheets&&i.count===0&&dp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&dp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Oh(){if(this.count--,this.count===0){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kh=null;function dp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kh=new Map,r.forEach(GC,i),kh=null,Oh.call(i))}function GC(i,r){if(!(r.state.loading&4)){var o=kh.get(i);if(o)var u=o.get(null);else{o=new Map,kh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,f),o.set(T,f),this.count++,u=Oh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var uu={$$typeof:q,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function YC(i,r,o,u,f,g,T,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Cb(i,r,o,u,f,g,T,w,k,J,te,ie){return i=new YC(i,r,o,T,w,k,J,ie),r=1,g===!0&&(r|=24),g=Cn(3,null,null,r),i.current=g,g.stateNode=i,r=Kf(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Qf(g),i}function Ib(i){return i?(i=Qa,i):Qa}function Nb(i,r,o,u,f,g){f=Ib(f),u.context===null?u.context=f:u.pendingContext=f,u=Us(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=zs(i,u,r),o!==null&&(Mn(o,i,r),Ul(o,i,r))}function Rb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function fp(i,r){Rb(i,r),(i=i.alternate)&&Rb(i,r)}function Db(i){if(i.tag===13){var r=Wa(i,67108864);r!==null&&Mn(r,i,67108864),fp(i,67108864)}}var Vh=!0;function KC(i,r,o,u){var f=X.T;X.T=null;var g=ae.p;try{ae.p=2,mp(i,r,o,u)}finally{ae.p=g,X.T=f}}function XC(i,r,o,u){var f=X.T;X.T=null;var g=ae.p;try{ae.p=8,mp(i,r,o,u)}finally{ae.p=g,X.T=f}}function mp(i,r,o,u){if(Vh){var f=pp(u);if(f===null)tp(i,r,u,jh,o),Pb(i,u);else if(WC(f,i,r,o,u))u.stopPropagation();else if(Pb(i,u),r&4&&-1<JC.indexOf(i)){for(;f!==null;){var g=di(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ti(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var k=1<<31-sn(T);w.entanglements[1]|=k,T&=~k}Ai(g),(Qe&6)===0&&(bh=Le()+500,nu(0))}}break;case 13:w=Wa(g,2),w!==null&&Mn(w,g,2),Th(),fp(g,2)}if(g=pp(u),g===null&&tp(i,r,u,jh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else tp(i,r,u,null,o)}}function pp(i){return i=Vn(i),gp(i)}var jh=null;function gp(i){if(jh=null,i=Yi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return jh=i,null}function Mb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ei()){case ol:return 2;case Na:return 8;case Ir:case bf:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var yp=!1,Zs=null,er=null,tr=null,cu=new Map,hu=new Map,nr=[],JC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pb(i,r){switch(i){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":cu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(r.pointerId)}}function du(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=di(r),r!==null&&Db(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function WC(i,r,o,u,f){switch(r){case"focusin":return Zs=du(Zs,i,r,o,u,f),!0;case"dragenter":return er=du(er,i,r,o,u,f),!0;case"mouseover":return tr=du(tr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return cu.set(g,du(cu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,hu.set(g,du(hu.get(g)||null,i,r,o,u,f)),!0}return!1}function Ob(i){var r=Yi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Tc(i.priority,function(){if(o.tag===13){var u=Dn();u=Rs(u);var f=Wa(o,u);f!==null&&Mn(f,o,u),fp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=pp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Wi=u,o.target.dispatchEvent(u),Wi=null}else return r=di(o),r!==null&&Db(r),i.blockedOn=o,!1;r.shift()}return!0}function kb(i,r,o){Lh(i)&&o.delete(r)}function QC(){yp=!1,Zs!==null&&Lh(Zs)&&(Zs=null),er!==null&&Lh(er)&&(er=null),tr!==null&&Lh(tr)&&(tr=null),cu.forEach(kb),hu.forEach(kb)}function Uh(i,r){i.blockedOn===r&&(i.blockedOn=null,yp||(yp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QC)))}var zh=null;function Vb(i){zh!==i&&(zh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zh===i&&(zh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(gp(u||o)===null)continue;break}var g=di(o);g!==null&&(i.splice(r,3),r-=3,gm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function fu(i){function r(k){return Uh(k,i)}Zs!==null&&Uh(Zs,i),er!==null&&Uh(er,i),tr!==null&&Uh(tr,i),cu.forEach(r),hu.forEach(r);for(var o=0;o<nr.length;o++){var u=nr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<nr.length&&(o=nr[0],o.blockedOn===null);)Ob(o),o.blockedOn===null&&nr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],T=f[At]||null;if(typeof g=="function")T||Vb(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[At]||null)w=T.formAction;else if(gp(f)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),Vb(o)}}}function vp(i){this._internalRoot=i}Bh.prototype.render=vp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Dn();Nb(o,u,i,r,null,null)},Bh.prototype.unmount=vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Nb(i.current,2,null,i,null,null),Th(),r[On]=null}};function Bh(i){this._internalRoot=i}Bh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ds();i={blockedOn:null,target:i,priority:r};for(var o=0;o<nr.length&&r!==0&&r<nr[o].priority;o++);nr.splice(o,0,i),o===0&&Ob(i)}};var jb=e.version;if(jb!=="19.1.0")throw Error(s(527,jb,"19.1.0"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var $C={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{mt=Fh.inject($C),We=Fh}catch{}}return pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Zv,g=e_,T=t_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Cb(i,1,!1,null,null,o,u,f,g,T,w,null),i[On]=r.current,ep(i),new vp(r)},pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=Zv,T=e_,w=t_,k=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),r=Cb(i,1,!0,r,o??null,u,f,g,T,w,k,J),r.context=Ib(null),o=r.current,u=Dn(),u=Rs(u),f=Us(u),f.callback=null,zs(o,f,u),o=u,r.current.lanes=o,Gi(r,o),Ai(r),i[On]=r.current,ep(i),new Bh(r)},pu.version="19.1.0",pu}var Kb;function uI(){if(Kb)return xp.exports;Kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xp.exports=lI(),xp.exports}var cI=uI(),gu={},Xb;function hI(){if(Xb)return gu;Xb=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.parse=c,gu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const C=new l,V=E.length;if(V<2)return C;const O=(A==null?void 0:A.decode)||y;let R=0;do{const K=E.indexOf("=",R);if(K===-1)break;const q=E.indexOf(";",R),Z=q===-1?V:q;if(K>Z){R=E.lastIndexOf(";",K-1)+1;continue}const M=d(E,R,K),$=m(E,K,M),P=E.slice(M,$);if(C[P]===void 0){let S=d(E,K+1,Z),D=m(E,Z,S);const L=O(E.slice(S,D));C[P]=L}R=Z+1}while(R<V);return C}function d(E,A,C){do{const V=E.charCodeAt(A);if(V!==32&&V!==9)return A}while(++A<C);return C}function m(E,A,C){for(;A>C;){const V=E.charCodeAt(--A);if(V!==32&&V!==9)return A+1}return C}function p(E,A,C){const V=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const O=V(A);if(!e.test(O))throw new TypeError(`argument val is invalid: ${A}`);let R=E+"="+O;if(!C)return R;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);R+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);R+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);R+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);R+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(R+="; HttpOnly"),C.secure&&(R+="; Secure"),C.partitioned&&(R+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return R}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return a.call(E)==="[object Date]"}return gu}hI();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jb="popstate";function dI(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return $p("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ju(a)}return mI(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function Wb(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:n,key:e&&e.key||s||fI()}}function ju({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function mI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function b(){d="POP";let O=y(),R=O==null?null:O-p;p=O,m&&m({action:d,location:V.location,delta:R})}function E(O,R){d="PUSH";let K=$p(V.location,O,R);p=y()+1;let q=Wb(K,p),Z=V.createHref(K);try{c.pushState(q,"",Z)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(Z)}l&&m&&m({action:d,location:V.location,delta:1})}function A(O,R){d="REPLACE";let K=$p(V.location,O,R);p=y();let q=Wb(K,p),Z=V.createHref(K);c.replaceState(q,"",Z),l&&m&&m({action:d,location:V.location,delta:0})}function C(O){let R=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof O=="string"?O:ju(O);return K=K.replace(/ $/,"%20"),dt(R,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,R)}let V={get action(){return d},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Jb,b),m=O,()=>{a.removeEventListener(Jb,b),m=null}},createHref(O){return e(a,O)},createURL:C,encodeLocation(O){let R=C(O);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:E,replace:A,go(O){return c.go(O)}};return V}function iE(t,e,n="/"){return pI(t,e,n,!1)}function pI(t,e,n,s){let a=typeof e=="string"?Wo(e):e,l=xs(a.pathname||"/",n);if(l==null)return null;let c=sE(t);gI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=CI(l);d=SI(c[m],p,s)}return d}function sE(t,e=[],n=[],s=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(dt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=vs([s,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),sE(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:EI(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of rE(l.path))a(l,c,m)}),e}function rE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=rE(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function gI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yI=/^:[\w-]+$/,vI=3,_I=2,bI=1,xI=10,TI=-2,Qb=t=>t==="*";function EI(t,e){let n=t.split("/"),s=n.length;return n.some(Qb)&&(s+=TI),e&&(s+=_I),n.filter(a=>!Qb(a)).reduce((a,l)=>a+(yI.test(l)?vI:l===""?bI:xI),s)}function wI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function SI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:vs([l,b.pathname]),pathnameBase:DI(vs([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=vs([l,b.pathnameBase]))}return c}function pd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=AI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:b},E)=>{if(y==="*"){let C=d[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=d[E];return b&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function AI(t,e=!1,n=!0){Vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function CI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function II(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:NI(n,e):e,search:MI(s),hash:PI(a)}}function NI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Sp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aE(t){let e=RI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function oE(t,e,n,s=!1){let a;typeof t=="string"?a=Wo(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),Sp("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Sp("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Sp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}d=b>=0?e[b]:"/"}let m=II(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var vs=t=>t.join("/").replace(/\/\/+/g,"/"),DI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lE=["POST","PUT","PATCH","DELETE"];new Set(lE);var kI=["GET",...lE];new Set(kI);var Qo=N.createContext(null);Qo.displayName="DataRouter";var Xd=N.createContext(null);Xd.displayName="DataRouterState";var uE=N.createContext({isTransitioning:!1});uE.displayName="ViewTransition";var VI=N.createContext(new Map);VI.displayName="Fetchers";var jI=N.createContext(null);jI.displayName="Await";var Ui=N.createContext(null);Ui.displayName="Navigation";var nc=N.createContext(null);nc.displayName="Location";var zi=N.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var Jg=N.createContext(null);Jg.displayName="RouteError";function LI(t,{relative:e}={}){dt(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(Ui),{hash:a,pathname:l,search:c}=sc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:vs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function ic(){return N.useContext(nc)!=null}function Bi(){return dt(ic(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(nc).location}var cE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hE(t){N.useContext(Ui).static||N.useLayoutEffect(t)}function Zn(){let{isDataRoute:t}=N.useContext(zi);return t?$I():UI()}function UI(){dt(ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Qo),{basename:e,navigator:n}=N.useContext(Ui),{matches:s}=N.useContext(zi),{pathname:a}=Bi(),l=JSON.stringify(aE(s)),c=N.useRef(!1);return hE(()=>{c.current=!0}),N.useCallback((m,p={})=>{if(Vi(c.current,cE),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=oE(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var dE=N.createContext(null);function Wg(){return N.useContext(dE)}function zI(t){let e=N.useContext(zi).outlet;return e&&N.createElement(dE.Provider,{value:t},e)}function sc(t,{relative:e}={}){let{matches:n}=N.useContext(zi),{pathname:s}=Bi(),a=JSON.stringify(aE(n));return N.useMemo(()=>oE(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function BI(t,e){return fE(t,e)}function fE(t,e,n,s){var K;dt(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=N.useContext(Ui),{matches:c}=N.useContext(zi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let q=b&&b.path||"";mE(p,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=Bi(),A;if(e){let q=typeof e=="string"?Wo(e):e;dt(y==="/"||((K=q.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=E;let C=A.pathname||"/",V=C;if(y!=="/"){let q=y.replace(/^\//,"").split("/");V="/"+C.replace(/^\//,"").split("/").slice(q.length).join("/")}let O=!l&&n&&n.matches&&n.matches.length>0?n.matches:iE(t,{pathname:V});Vi(b||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Vi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=YI(O&&O.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:vs([y,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:vs([y,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,n,s);return e&&R?N.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},R):R}function FI(){let t=QI(),e=OI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var qI=N.createElement(FI,null),HI=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(zi.Provider,{value:this.props.routeContext},N.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GI({routeContext:t,match:e,children:n}){let s=N.useContext(Qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(zi.Provider,{value:t},n)}function YI(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:b}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let b,E=!1,A=null,C=null;n&&(b=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||qI,c&&(d<0&&y===0?(mE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):d===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,y+1)),O=()=>{let R;return b?R=A:E?R=C:p.route.Component?R=N.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=m,N.createElement(GI,{match:p,routeContext:{outlet:m,matches:V,isDataRoute:n!=null},children:R})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?N.createElement(HI,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:O(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):O()},null)}function Qg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KI(t){let e=N.useContext(Qo);return dt(e,Qg(t)),e}function XI(t){let e=N.useContext(Xd);return dt(e,Qg(t)),e}function JI(t){let e=N.useContext(zi);return dt(e,Qg(t)),e}function $g(t){let e=JI(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WI(){return $g("useRouteId")}function QI(){var s;let t=N.useContext(Jg),e=XI("useRouteError"),n=$g("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function $I(){let{router:t}=KI("useNavigate"),e=$g("useNavigate"),n=N.useRef(!1);return hE(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Vi(n.current,cE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var $b={};function mE(t,e,n){!e&&!$b[t]&&($b[t]=!0,Vi(!1,n))}N.memo(ZI);function ZI({routes:t,future:e,state:n}){return fE(t,void 0,n,e)}function pE(t){return zI(t.context)}function Kn(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){dt(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Wo(n));let{pathname:m="/",search:p="",hash:y="",state:b=null,key:E="default"}=n,A=N.useMemo(()=>{let C=xs(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:b,key:E},navigationType:s}},[c,m,p,y,b,E,s]);return Vi(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:N.createElement(Ui.Provider,{value:d},N.createElement(nc.Provider,{children:e,value:A}))}function tN({children:t,location:e}){return BI(Zp(t),e)}function Zp(t,e=[]){let n=[];return N.Children.forEach(t,(s,a)=>{if(!N.isValidElement(s))return;let l=[...e,a];if(s.type===N.Fragment){n.push.apply(n,Zp(s.props.children,l));return}dt(s.type===Kn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Zp(s.props.children,l)),n.push(c)}),n}var ed="get",td="application/x-www-form-urlencoded";function Jd(t){return t!=null&&typeof t.tagName=="string"}function nN(t){return Jd(t)&&t.tagName.toLowerCase()==="button"}function iN(t){return Jd(t)&&t.tagName.toLowerCase()==="form"}function sN(t){return Jd(t)&&t.tagName.toLowerCase()==="input"}function rN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aN(t,e){return t.button===0&&(!e||e==="_self")&&!rN(t)}var qh=null;function oN(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var lN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(t){return t!=null&&!lN.has(t)?(Vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${td}"`),null):t}function uN(t,e){let n,s,a,l,c;if(iN(t)){let d=t.getAttribute("action");s=d?xs(d,e):null,n=t.getAttribute("method")||ed,a=Ap(t.getAttribute("enctype"))||td,l=new FormData(t)}else if(nN(t)||sN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?xs(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||ed,a=Ap(t.getAttribute("formenctype"))||Ap(d.getAttribute("enctype"))||td,l=new FormData(d,t),!oN()){let{name:p,type:y,value:b}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,b)}}else{if(Jd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ed,s=null,a=td,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Zg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function cN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await cN(l,n);return c.links?c.links():[]}return[]}));return gN(s.flat(1).filter(hN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Zb(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var b;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function fN(t,e,{includeHydrateFallback:n}={}){return mN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mN(t){return[...new Set(t)]}function pN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function gN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(pN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}var yN=new Set([100,101,204,205]);function vN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&xs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function gE(){let t=N.useContext(Qo);return Zg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _N(){let t=N.useContext(Xd);return Zg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ey=N.createContext(void 0);ey.displayName="FrameworkContext";function yE(){let t=N.useContext(ey);return Zg(t,"You must render this element inside a <HydratedRouter> element"),t}function bN(t,e){let n=N.useContext(ey),[s,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,E=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=R=>{R.forEach(K=>{c(K.isIntersecting)})},O=new IntersectionObserver(V,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let A=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:yu(d,A),onBlur:yu(m,C),onMouseEnter:yu(p,A),onMouseLeave:yu(y,C),onTouchStart:yu(b,A)}]:[!1,E,{}]}function yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xN({page:t,...e}){let{router:n}=gE(),s=N.useMemo(()=>iE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?N.createElement(EN,{page:t,matches:s,...e}):null}function TN(t){let{manifest:e,routeModules:n}=yE(),[s,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return dN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function EN({page:t,matches:e,...n}){let s=Bi(),{manifest:a,routeModules:l}=yE(),{basename:c}=gE(),{loaderData:d,matches:m}=_N(),p=N.useMemo(()=>Zb(t,e,m,a,s,"data"),[t,e,m,a,s]),y=N.useMemo(()=>Zb(t,e,m,a,s,"assets"),[t,e,m,a,s]),b=N.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let C=new Set,V=!1;if(e.forEach(R=>{var q;let K=a.routes[R.route.id];!K||!K.hasLoader||(!p.some(Z=>Z.route.id===R.route.id)&&R.route.id in d&&((q=l[R.route.id])!=null&&q.shouldRevalidate)||K.hasClientLoader?V=!0:C.add(R.route.id))}),C.size===0)return[];let O=vN(t,c);return V&&C.size>0&&O.searchParams.set("_routes",e.filter(R=>C.has(R.route.id)).map(R=>R.route.id).join(",")),[O.pathname+O.search]},[c,d,s,a,p,e,t,l]),E=N.useMemo(()=>fN(y,a),[y,a]),A=TN(y);return N.createElement(N.Fragment,null,b.map(C=>N.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),E.map(C=>N.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:V})=>N.createElement("link",{key:C,...V})))}function wN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.5.1")}catch{}function SN({basename:t,children:e,window:n}){let s=N.useRef();s.current==null&&(s.current=dI({window:n,v5Compat:!0}));let a=s.current,[l,c]=N.useState({action:a.action,location:a.location}),d=N.useCallback(m=>{N.startTransition(()=>c(m))},[c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(eN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:b,...E},A){let{basename:C}=N.useContext(Ui),V=typeof p=="string"&&_E.test(p),O,R=!1;if(typeof p=="string"&&V&&(O=p,vE))try{let D=new URL(window.location.href),L=p.startsWith("//")?new URL(D.protocol+p):new URL(p),B=xs(L.pathname,C);L.origin===D.origin&&B!=null?p=B+L.search+L.hash:R=!0}catch{Vi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=LI(p,{relative:a}),[q,Z,M]=bN(s,E),$=NN(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:b});function P(D){e&&e(D),D.defaultPrevented||$(D)}let S=N.createElement("a",{...E,...M,href:O||K,onClick:R||l?e:P,ref:wN(A,Z),target:m,"data-discover":!V&&n==="render"?"true":void 0});return q&&!V?N.createElement(N.Fragment,null,S,N.createElement(xN,{page:K})):S});Zt.displayName="Link";var AN=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let b=sc(c,{relative:p.relative}),E=Bi(),A=N.useContext(Xd),{navigator:C,basename:V}=N.useContext(Ui),O=A!=null&&ON(b)&&d===!0,R=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,K=E.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(K=K.toLowerCase(),q=q?q.toLowerCase():null,R=R.toLowerCase()),q&&V&&(q=xs(q,V)||q);const Z=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let M=K===R||!a&&K.startsWith(R)&&K.charAt(Z)==="/",$=q!=null&&(q===R||!a&&q.startsWith(R)&&q.charAt(R.length)==="/"),P={isActive:M,isPending:$,isTransitioning:O},S=M?e:void 0,D;typeof s=="function"?D=s(P):D=[s,M?"active":null,$?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(P):l;return N.createElement(Zt,{...p,"aria-current":S,className:D,ref:y,style:L,to:c,viewTransition:d},typeof m=="function"?m(P):m)});AN.displayName="NavLink";var CN=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=ed,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,...E},A)=>{let C=MN(),V=PN(d,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&_E.test(d),K=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,M=(Z==null?void 0:Z.getAttribute("formmethod"))||c;C(Z||q.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:b})};return N.createElement("form",{ref:A,method:O,action:V,onSubmit:s?m:K,...E,"data-discover":!R&&t==="render"?"true":void 0})});CN.displayName="Form";function IN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bE(t){let e=N.useContext(Qo);return dt(e,IN(t)),e}function NN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Zn(),m=Bi(),p=sc(t,{relative:l});return N.useCallback(y=>{if(aN(y,e)){y.preventDefault();let b=n!==void 0?n:ju(m)===ju(p);d(t,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,e,t,a,l,c])}var RN=0,DN=()=>`__${String(++RN)}__`;function MN(){let{router:t}=bE("useSubmit"),{basename:e}=N.useContext(Ui),n=WI();return N.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=uN(s,e);if(a.navigate===!1){let y=a.fetcherKey||DN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function PN(t,{relative:e}={}){let{basename:n}=N.useContext(Ui),s=N.useContext(zi);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...sc(t||".",{relative:e})},c=Bi();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:vs([n,l.pathname])),ju(l)}function ON(t,e={}){let n=N.useContext(uE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bE("useViewTransitionState"),a=sc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=xs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=xs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return pd(a.pathname,c)!=null||pd(a.pathname,l)!=null}new TextEncoder;[...yN];var xE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e1=ma.createContext&&ma.createContext(xE),kN=["attr","size","title"];function VN(t,e){if(t==null)return{};var n=jN(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function jN(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gd.apply(this,arguments)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(s){LN(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function LN(t,e,n){return e=UN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UN(t){var e=zN(t,"string");return typeof e=="symbol"?e:e+""}function zN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TE(t){return t&&t.map((e,n)=>ma.createElement(e.tag,yd({key:n},e.attr),TE(e.child)))}function Dt(t){return e=>ma.createElement(BN,gd({attr:yd({},t.attr)},e),TE(t.child))}function BN(t){var e=n=>{var{attr:s,size:a,title:l}=t,c=VN(t,kN),d=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),ma.createElement("svg",gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:m,style:yd(yd({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ma.createElement("title",null,l),t.children)};return e1!==void 0?ma.createElement(e1.Consumer,null,n=>e(n)):e(xE)}function n1(t){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M337.509 305.372h-17.501l-6.571-5.486c20.791-25.232 33.922-57.054 33.922-93.257C347.358 127.632 283.896 64 205.135 64 127.452 64 64 127.632 64 206.629s63.452 142.628 142.225 142.628c35.011 0 67.831-13.167 92.991-34.008l6.561 5.487v17.551L415.18 448 448 415.086 337.509 305.372zm-131.284 0c-54.702 0-98.463-43.887-98.463-98.743 0-54.858 43.761-98.742 98.463-98.742 54.7 0 98.462 43.884 98.462 98.742 0 54.856-43.762 98.743-98.462 98.743z"},child:[]}]})(t)}function FN(t){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function i1(t){return Dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function qN(t){return Dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function HN(t){return Dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function GN(t){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function eg(t){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function YN(t){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function KN(t){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function s1(t){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function r1(t){return Dt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function a1(t){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}function EE(t){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"},child:[]}]})(t)}function wE(t){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"},child:[]}]})(t)}function SE(t){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"},child:[]}]})(t)}function XN(t){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 128c0-17.7 14.3-32 32-32s32 14.3 32 32l0 7.8c0 27.7-2.4 55.3-7.1 82.5l-84.4 25.3c-40.6 12.2-68.4 49.6-68.4 92l0 71.9c0 40 32.5 72.5 72.5 72.5c26 0 50-13.9 62.9-36.5l13.9-24.3c26.8-47 46.5-97.7 58.4-150.5l94.4-28.3-12.5 37.5c-3.3 9.8-1.6 20.5 4.4 28.8s15.7 13.3 26 13.3l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-83.6 0 18-53.9c3.8-11.3 .9-23.8-7.4-32.4s-20.7-11.8-32.2-8.4L316.4 198.1c2.4-20.7 3.6-41.4 3.6-62.3l0-7.8c0-53-43-96-96-96s-96 43-96 96l0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32zm-9.2 177l49-14.7c-10.4 33.8-24.5 66.4-42.1 97.2l-13.9 24.3c-1.5 2.6-4.3 4.3-7.4 4.3c-4.7 0-8.5-3.8-8.5-8.5l0-71.9c0-14.1 9.3-26.6 22.8-30.7zM24 368c-13.3 0-24 10.7-24 24s10.7 24 24 24l40.3 0c-.2-2.8-.3-5.6-.3-8.5L64 368l-40 0zm592 48c13.3 0 24-10.7 24-24s-10.7-24-24-24l-310.1 0c-6.7 16.3-14.2 32.3-22.3 48L616 416z"},child:[]}]})(t)}function ty(t){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"},child:[]}]})(t)}function o1(t){return Dt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M237.5,66.8,131.3,36.46a12.07,12.07,0,0,0-5-.34l-105.13,15A20.1,20.1,0,0,0,4,70.94V185.06a20.1,20.1,0,0,0,17.17,19.8l105.13,15a12.15,12.15,0,0,0,1.7.12,12,12,0,0,0,3.3-.46L237.5,189.2A20.09,20.09,0,0,0,252,170V86A20.08,20.08,0,0,0,237.5,66.8ZM92,116H84V66.41l32-4.57V194.16l-32-4.57V140h8a12,12,0,0,0,0-24ZM28,74.41l32-4.57V116H52a12,12,0,0,0,0,24h8v46.16l-32-4.57ZM228,167l-88,25.14V63.91l88,25.14Z"},child:[]}]})(t)}const JN=()=>{};var l1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},WN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,b=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,A=p&63;m||(A=64,c||(E=64)),s.push(n[y],n[b],n[E],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new QN;const E=l<<2|d>>4;if(s.push(E),p!==64){const A=d<<4&240|p>>2;if(s.push(A),b!==64){const C=p<<6&192|b;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(t){const e=AE(t);return CE.encodeByteArray(e,!0)},vd=function(t){return $N(t).replace(/\./g,"")},IE=function(t){try{return CE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>ZN().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof l1>"u")return;const t=l1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IE(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return JN()||eR()||tR()||nR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NE=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iR=t=>{const e=NE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},RE=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config},DE=t=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vd(JSON.stringify(n)),vd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function oR(){var t;const e=(t=Wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dR(){return!oR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function mR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="FirebaseError";class Is extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pR,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?gR(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Is(a,d,s)}}function gR(t,e){return t.replace(yR,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const yR=/\{\$([^}]+)}/g;function vR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ya(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(u1(l)&&u1(c)){if(!ya(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function u1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _R(t,e){const n=new bR(t,e);return n.subscribe.bind(n)}class bR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");xR(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Cp),a.error===void 0&&(a.error=Cp),a.complete===void 0&&(a.complete=Cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class va{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new sR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wR(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(t){return t===ua?void 0:t}function wR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const AR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},CR=Ue.INFO,IR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},NR=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=IR[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=CR,this._logHandler=NR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const RR=(t,e)=>e.some(n=>t instanceof n);let c1,h1;function DR(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return h1||(h1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ME=new WeakMap,tg=new WeakMap,PE=new WeakMap,Ip=new WeakMap,iy=new WeakMap;function PR(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(dr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&ME.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function OR(t){if(tg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});tg.set(t,e)}let ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kR(t){ng=t(ng)}function VR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Np(this),e,...n);return PE.set(s,e.sort?e.sort():[e]),dr(s)}:MR().includes(t)?function(...e){return t.apply(Np(this),e),dr(ME.get(this))}:function(...e){return dr(t.apply(Np(this),e))}}function jR(t){return typeof t=="function"?VR(t):(t instanceof IDBTransaction&&OR(t),RR(t,DR())?new Proxy(t,ng):t)}function dr(t){if(t instanceof IDBRequest)return PR(t);if(Ip.has(t))return Ip.get(t);const e=jR(t);return e!==t&&(Ip.set(t,e),iy.set(e,t)),e}const Np=t=>iy.get(t);function LR(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=dr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(dr(c.result),m.oldVersion,m.newVersion,dr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const UR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],Rp=new Map;function d1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=zR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||UR.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Rp.set(e,l),l}kR(t=>({...t,get:(e,n,s)=>d1(e,n)||t.get(e,n,s),has:(e,n)=>!!d1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",f1="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new ny("@firebase/app"),qR="@firebase/app-compat",HR="@firebase/analytics-compat",GR="@firebase/analytics",YR="@firebase/app-check-compat",KR="@firebase/app-check",XR="@firebase/auth",JR="@firebase/auth-compat",WR="@firebase/database",QR="@firebase/data-connect",$R="@firebase/database-compat",ZR="@firebase/functions",e4="@firebase/functions-compat",t4="@firebase/installations",n4="@firebase/installations-compat",i4="@firebase/messaging",s4="@firebase/messaging-compat",r4="@firebase/performance",a4="@firebase/performance-compat",o4="@firebase/remote-config",l4="@firebase/remote-config-compat",u4="@firebase/storage",c4="@firebase/storage-compat",h4="@firebase/firestore",d4="@firebase/vertexai",f4="@firebase/firestore-compat",m4="firebase",p4="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",g4={[ig]:"fire-core",[qR]:"fire-core-compat",[GR]:"fire-analytics",[HR]:"fire-analytics-compat",[KR]:"fire-app-check",[YR]:"fire-app-check-compat",[XR]:"fire-auth",[JR]:"fire-auth-compat",[WR]:"fire-rtdb",[QR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[ZR]:"fire-fn",[e4]:"fire-fn-compat",[t4]:"fire-iid",[n4]:"fire-iid-compat",[i4]:"fire-fcm",[s4]:"fire-fcm-compat",[r4]:"fire-perf",[a4]:"fire-perf-compat",[o4]:"fire-rc",[l4]:"fire-rc-compat",[u4]:"fire-gcs",[c4]:"fire-gcs-compat",[h4]:"fire-fst",[f4]:"fire-fst-compat",[d4]:"fire-vertex","fire-js":"fire-js",[m4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,y4=new Map,rg=new Map;function m1(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uo(t){const e=t.name;if(rg.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of _d.values())m1(n,t);for(const n of y4.values())m1(n,t);return!0}function sy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new rc("app","Firebase",v4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=p4;function OE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sg,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw fr.create("bad-app-name",{appName:String(a)});if(n||(n=RE()),!n)throw fr.create("no-options");const l=_d.get(a);if(l){if(ya(n,l.options)&&ya(s,l.config))return l;throw fr.create("duplicate-app",{appName:a})}const c=new SR(a);for(const m of rg.values())c.addComponent(m);const d=new _4(n,s,c);return _d.set(a,d),d}function kE(t=sg){const e=_d.get(t);if(!e&&t===sg&&RE())return OE();if(!e)throw fr.create("no-app",{appName:t});return e}function mr(t,e,n){var s;let a=(s=g4[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}Uo(new va(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebase-heartbeat-database",x4=1,Lu="firebase-heartbeat-store";let Dp=null;function VE(){return Dp||(Dp=LR(b4,x4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function T4(t){try{const n=(await VE()).transaction(Lu),s=await n.objectStore(Lu).get(jE(t));return await n.done,s}catch(e){if(e instanceof Is)Ts.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(n.message)}}}async function p1(t,e){try{const s=(await VE()).transaction(Lu,"readwrite");await s.objectStore(Lu).put(e,jE(t)),await s.done}catch(n){if(n instanceof Is)Ts.warn(n.message);else{const s=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(s.message)}}}function jE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=1024,w4=30;class S4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=g1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>w4){const c=I4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ts.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g1(),{heartbeatsToSend:s,unsentEntries:a}=A4(this._heartbeatsCache.heartbeats),l=vd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ts.warn(n),""}}}function g1(){return new Date().toISOString().substring(0,10)}function A4(t,e=E4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),y1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),y1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class C4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?mR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function y1(t){return vd(JSON.stringify({version:2,heartbeats:t})).length}function I4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){Uo(new va("platform-logger",e=>new BR(e),"PRIVATE")),Uo(new va("heartbeat",e=>new S4(e),"PRIVATE")),mr(ig,f1,t),mr(ig,f1,"esm2017"),mr("fire-js","")}N4("");function ry(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function LE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R4=LE,UE=new rc("auth","Firebase",LE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new ny("@firebase/auth");function D4(t,...e){bd.logLevel<=Ue.WARN&&bd.warn(`Auth (${$o}): ${t}`,...e)}function nd(t,...e){bd.logLevel<=Ue.ERROR&&bd.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw ay(t,...e)}function Ii(t,...e){return ay(t,...e)}function zE(t,e,n){const s=Object.assign(Object.assign({},R4()),{[e]:n});return new rc("auth","Firebase",s).create(e,{appName:t.name})}function _s(t){return zE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ay(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return UE.create(t,...e)}function we(t,e,...n){if(!t)throw ay(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nd(e),new Error(e)}function Es(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function M4(){return v1()==="http:"||v1()==="https:"}function v1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M4()||uR()||"connection"in navigator)?navigator.onLine:!0}function O4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=aR()||cR()}get(){return P4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){Es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j4=new oc(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fi(t,e,n,s,a={}){return FE(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=ac(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return lR()||(p.referrerPolicy="no-referrer"),BE.fetch()(await qE(t,t.config.apiHost,n,d),p)})}async function FE(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},k4),e);try{const a=new U4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Hh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Hh(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zE(t,y,p);ci(t,y)}}catch(a){if(a instanceof Is)throw a;ci(t,"network-request-failed",{message:String(a)})}}async function lc(t,e,n,s,a={}){const l=await Fi(t,e,n,s,a);return"mfaPendingCredential"in l&&ci(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function qE(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?oy(t.config,a):`${t.config.apiScheme}://${a}`;return V4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function L4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),j4.get())})}}function Hh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ii(t,e,s);return a.customData._tokenResponse=n,a}function _1(t){return t!==void 0&&t.enterprise!==void 0}class z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B4(t,e){return Fi(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function xd(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q4(t,e=!1){const n=fn(t),s=await n.getIdToken(e),a=ly(s);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Iu(Mp(a.auth_time)),issuedAtTime:Iu(Mp(a.iat)),expirationTime:Iu(Mp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Mp(t){return Number(t)*1e3}function ly(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{const a=IE(n);return a?JSON.parse(a):(nd("Failed to decode base64 JWT payload"),null)}catch(a){return nd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function b1(t){const e=ly(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Is&&H4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function H4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){var e;const n=t.auth,s=await t.getIdToken(),a=await zo(t,xd(n,{idToken:s}));we(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?HE(l.providerUserInfo):[],d=K4(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new og(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,b)}async function Y4(t){const e=fn(t);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function HE(t){return t.map(e=>{var{providerId:n}=e,s=ry(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e){const n=await FE(t,{},async()=>{const s=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await qE(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",BE.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J4(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=b1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await X4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Oo;return s&&(we(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new og(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await zo(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q4(this,e)}reload(){return Y4(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await zo(this,F4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,c,d,m,p,y;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,V=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,R=(p=n.createdAt)!==null&&p!==void 0?p:void 0,K=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:Z,isAnonymous:M,providerData:$,stsTokenManager:P}=n;we(q&&P,e,"internal-error");const S=Oo.fromJSON(this.name,P);we(typeof q=="string",e,"internal-error"),sr(b,e.name),sr(E,e.name),we(typeof Z=="boolean",e,"internal-error"),we(typeof M=="boolean",e,"internal-error"),sr(A,e.name),sr(C,e.name),sr(V,e.name),sr(O,e.name),sr(R,e.name),sr(K,e.name);const D=new li({uid:q,auth:e,email:E,emailVerified:Z,displayName:b,isAnonymous:M,photoURL:C,phoneNumber:A,tenantId:V,stsTokenManager:S,createdAt:R,lastLoginAt:K});return $&&Array.isArray($)&&(D.providerData=$.map(L=>Object.assign({},L))),O&&(D._redirectEventId=O),D}static async _fromIdTokenResponse(e,n,s=!1){const a=new Oo;a.updateFromServerResponse(n);const l=new li({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Td(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?HE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Oo;d.updateFromIdToken(s);const m=new li({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new og(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;function ys(t){Es(t instanceof Function,"Expected a class definition");let e=x1.get(t);return e?(Es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GE.type="NONE";const T1=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e,n){return`firebase:${t}:${e}:${n}`}class ko{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=id(this.userKey,a.apiKey,l),this.fullPersistenceKey=id("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xd(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ko(ys(T1),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ys(T1);const c=id(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let b;if(typeof y=="string"){const E=await xd(e,{idToken:y}).catch(()=>{});if(!E)break;b=await li._fromGetAccountInfoResponse(e,E,y)}else b=li._fromJSON(e,y);p!==l&&(d=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ko(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ko(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if($E(e))return"Webos";if(KE(e))return"Safari";if((e.includes("chrome/")||XE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function YE(t=dn()){return/firefox\//i.test(t)}function KE(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XE(t=dn()){return/crios\//i.test(t)}function JE(t=dn()){return/iemobile/i.test(t)}function WE(t=dn()){return/android/i.test(t)}function QE(t=dn()){return/blackberry/i.test(t)}function $E(t=dn()){return/webos/i.test(t)}function uy(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W4(t=dn()){var e;return uy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q4(){return hR()&&document.documentMode===10}function ZE(t=dn()){return uy(t)||WE(t)||$E(t)||QE(t)||/windows phone/i.test(t)||JE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e=[]){let n;switch(t){case"Browser":n=E1(dn());break;case"Worker":n=`${E1(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=6;class t3{constructor(e){var n,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:e3,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w1(this),this.idTokenSubscription=new w1(this),this.beforeStateQueue=new $4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xd(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(_s(this));const n=e?fn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z4(this),n=new t3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await J4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&D4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wr(t){return fn(t)}class w1{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i3(t){Qd=t}function tw(t){return Qd.loadJS(t)}function s3(){return Qd.recaptchaEnterpriseScript}function r3(){return Qd.gapiScript}function a3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class o3{constructor(){this.enterprise=new l3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class l3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const u3="recaptcha-enterprise",nw="NO_RECAPTCHA";class c3{constructor(e){this.type=u3,this.auth=wr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{B4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new z4(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;_1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(nw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o3().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&_1(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=s3();m.length!==0&&(m+=d),tw(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function S1(t,e,n,s=!1,a=!1){const l=new c3(t);let c;if(a)c=nw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ed(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await S1(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await S1(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e){const n=sy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ya(l,e??{}))return a;ci(a,"already-initialized")}return n.initialize({options:e})}function d3(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function f3(t,e,n){const s=wr(t);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=iw(e),{host:c,port:d}=m3(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(ya(p,s.config.emulator)&&ya(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,p3()}function iw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m3(t){const e=iw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:A1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:A1(c)}}}function A1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function p3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function g3(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e){return lc(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function v3(t,e){return Fi(t,"POST","/v1/accounts:sendOobCode",Ns(t,e))}async function _3(t,e){return v3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function x3(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends cy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ed(e,n,"signInWithPassword",y3);case"emailLink":return b3(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ed(e,s,"signUpPassword",g3);case"emailLink":return x3(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e){return lc(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="http://localhost";class _a extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=ry(n,["providerId","signInMethod"]);if(!s||!a)return null;const c=new _a(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:T3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w3(t){const e=bu(xu(t)).link,n=e?bu(xu(e)).deep_link_id:null,s=bu(xu(t)).deep_link_id;return(s?bu(xu(s)).link:null)||s||n||e||t}class hy{constructor(e){var n,s,a,l,c,d;const m=bu(xu(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(s=m.oobCode)!==null&&s!==void 0?s:null,b=E3((a=m.mode)!==null&&a!==void 0?a:null);we(p&&y&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=w3(e);try{return new hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=hy.parseLink(n);return we(s,"argument-error"),Uu._fromEmailAndCode(e,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends uc{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return or.credential(n,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends uc{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends uc{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t,e){return lc(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await li._fromIdTokenResponse(e,s,a),c=C1(s);return new ba({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=C1(s);return new ba({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function C1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Is{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new wd(e,n,s,a)}}function rw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,l,e,s):l})}async function A3(t,e,n=!1){const s=await zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ba._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e,n=!1){const{auth:s}=t;if(Jn(s.app))return Promise.reject(_s(s));const a="reauthenticate";try{const l=await zo(t,rw(s,a,e,t),n);we(l.idToken,s,"internal-error");const c=ly(l.idToken);we(c,s,"internal-error");const{sub:d}=c;return we(t.uid===d,s,"user-mismatch"),ba._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ci(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(t,e,n=!1){if(Jn(t.app))return Promise.reject(_s(t));const s="signIn",a=await rw(t,s,e),l=await ba._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function I3(t,e){return aw(wr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(t){const e=wr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N3(t,e,n){const s=wr(t);await Ed(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_3)}async function R3(t,e,n){if(Jn(t.app))return Promise.reject(_s(t));const s=wr(t),c=await Ed(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&ow(t),m}),d=await ba._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function D3(t,e,n){return Jn(t.app)?Promise.reject(_s(t)):I3(fn(t),Zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ow(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e){return Fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=fn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await zo(s,M3(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){return fn(t).setPersistence(e)}function k3(t,e,n,s){return fn(t).onIdTokenChanged(e,n,s)}function V3(t,e,n){return fn(t).beforeAuthStateChanged(e,n)}function lw(t,e,n,s){return fn(t).onAuthStateChanged(e,n,s)}function j3(t){return fn(t).signOut()}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=1e3,U3=10;class cw extends uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Q4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,U3):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},L3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cw.type="LOCAL";const hw=cw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dw.type="SESSION";const dy=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new $d(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await z3(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=fy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function F3(t){Ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function q3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function G3(){return fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebaseLocalStorageDb",Y3=1,Ad="firebaseLocalStorage",pw="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function K3(){const t=indexedDB.deleteDatabase(mw);return new cc(t).toPromise()}function lg(){const t=indexedDB.open(mw,Y3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ad,{keyPath:pw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ad)?e(s):(s.close(),await K3(),e(await lg()))})})}async function I1(t,e,n){const s=Zd(t,!0).put({[pw]:e,value:n});return new cc(s).toPromise()}async function X3(t,e){const n=Zd(t,!1).get(e),s=await new cc(n).toPromise();return s===void 0?null:s.value}function N1(t,e){const n=Zd(t,!0).delete(e);return new cc(n).toPromise()}const J3=800,W3=3;class gw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>W3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(G3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q3(),!this.activeServiceWorker)return;this.sender=new B3(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await I1(e,Sd,"1"),await N1(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>I1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>X3(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zd(a,!1).getAll();return new cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gw.type="LOCAL";const Q3=gw;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){return e?ys(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z3(t){return aw(t.auth,new my(t),t.bypassAuthState)}function eD(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),C3(n,new my(t),t.bypassAuthState)}async function tD(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),A3(n,new my(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z3;case"linkViaPopup":case"linkViaRedirect":return tD;case"reauthViaPopup":case"reauthViaRedirect":return eD;default:ci(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new oc(2e3,1e4);class Io extends yw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nD.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="pendingRedirect",sd=new Map;class sD extends yw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sd.get(this.auth._key());if(!e){try{const s=await rD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sd.set(this.auth._key(),e)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rD(t,e){const n=lD(e),s=oD(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function aD(t,e){sd.set(t._key(),e)}function oD(t){return ys(t._redirectPersistence)}function lD(t){return id(iD,t.config.apiKey,t.name)}async function uD(t,e,n=!1){if(Jn(t.app))return Promise.reject(_s(t));const s=wr(t),a=$3(s,e),c=await new sD(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=10*60*1e3;class hD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!vw(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cD&&this.cachedEventUids.clear(),this.cachedEventUids.has(R1(e))}saveEventToCache(e){this.cachedEventUids.add(R1(e)),this.lastProcessedEventTime=Date.now()}}function R1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pD=/^https?/;async function gD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fD(t);for(const n of e)try{if(yD(n))return}catch{}ci(t,"unauthorized-domain")}function yD(t){const e=ag(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!pD.test(n))return!1;if(mD.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new oc(3e4,6e4);function D1(){const t=Ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _D(t){return new Promise((e,n)=>{var s,a,l;function c(){D1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D1(),n(Ii(t,"network-request-failed"))},timeout:vD.get()})}if(!((a=(s=Ni().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ni().gapi)===null||l===void 0)&&l.load)c();else{const d=a3("iframefcb");return Ni()[d]=()=>{gapi.load?c():n(Ii(t,"network-request-failed"))},tw(`${r3()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw rd=null,e})}let rd=null;function bD(t){return rd=rd||_D(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new oc(5e3,15e3),TD="__/auth/iframe",ED="emulator/auth/iframe",wD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AD(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oy(e,ED):`https://${t.config.authDomain}/${TD}`,s={apiKey:e.apiKey,appName:t.name,v:$o},a=SD.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ac(s).slice(1)}`}async function CD(t){const e=await bD(t),n=Ni().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:AD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ii(t,"network-request-failed"),d=Ni().setTimeout(()=>{l(c)},xD.get());function m(){Ni().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ND=500,RD=600,DD="_blank",MD="http://localhost";class M1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PD(t,e,n,s=ND,a=RD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},ID),{width:s.toString(),height:a.toString(),top:l,left:c}),p=dn().toLowerCase();n&&(d=XE(p)?DD:n),YE(p)&&(e=e||MD,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[A,C])=>`${E}${A}=${C},`,"");if(W4(p)&&d!=="_self")return OD(e||"",d),new M1(null);const b=window.open(e||"",d,y);we(b,t,"popup-blocked");try{b.focus()}catch{}return new M1(b)}function OD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="__/auth/handler",VD="emulator/auth/handler",jD=encodeURIComponent("fac");async function P1(t,e,n,s,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:$o,eventId:a};if(e instanceof sw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",vR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(e instanceof uc){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${jD}=${encodeURIComponent(m)}`:"";return`${LD(t)}?${ac(d).slice(1)}${p}`}function LD({config:t}){return t.emulator?oy(t,VD):`https://${t.authDomain}/${kD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class UD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dy,this._completeRedirectFn=uD,this._overrideRedirectResult=aD}async _openPopup(e,n,s,a){var l;Es((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await P1(e,n,s,ag(),a);return PD(e,c,fy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await P1(e,n,s,ag(),a);return F3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Es(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CD(e),s=new hD(e);return n.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pp,{type:Pp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Pp];c!==void 0&&n(!!c),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZE()||KE()||uy()}}const zD=UD;var O1="@firebase/auth",k1="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(t){Uo(new va("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ew(t)},p=new n3(s,a,l,m);return d3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Uo(new va("auth-internal",e=>{const n=wr(e.getProvider("auth").getImmediate());return(s=>new BD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(O1,k1,FD(t)),mr(O1,k1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=5*60,GD=DE("authIdTokenMaxAge")||HD;let V1=null;const YD=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GD)return;const a=n==null?void 0:n.token;V1!==a&&(V1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function KD(t=kE()){const e=sy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h3(t,{popupRedirectResolver:zD,persistence:[Q3,hw,dy]}),s=DE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=YD(l.toString());V3(n,c,()=>c(n.currentUser)),k3(n,d=>c(d))}}const a=NE("auth");return a&&f3(n,`http://${a}`),n}function XD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i3({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ii("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",XD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");var j1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,_w;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function D(){}D.prototype=S.prototype,P.D=S.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(L,B,F){for(var j=Array(arguments.length-2),st=2;st<arguments.length;st++)j[st-2]=arguments[st];return S.prototype[B].apply(L,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,S,D){D||(D=0);var L=Array(16);if(typeof S=="string")for(var B=0;16>B;++B)L[B]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(B=0;16>B;++B)L[B]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=P.g[0],D=P.g[1],B=P.g[2];var F=P.g[3],j=S+(F^D&(B^F))+L[0]+3614090360&4294967295;S=D+(j<<7&4294967295|j>>>25),j=F+(B^S&(D^B))+L[1]+3905402710&4294967295,F=S+(j<<12&4294967295|j>>>20),j=B+(D^F&(S^D))+L[2]+606105819&4294967295,B=F+(j<<17&4294967295|j>>>15),j=D+(S^B&(F^S))+L[3]+3250441966&4294967295,D=B+(j<<22&4294967295|j>>>10),j=S+(F^D&(B^F))+L[4]+4118548399&4294967295,S=D+(j<<7&4294967295|j>>>25),j=F+(B^S&(D^B))+L[5]+1200080426&4294967295,F=S+(j<<12&4294967295|j>>>20),j=B+(D^F&(S^D))+L[6]+2821735955&4294967295,B=F+(j<<17&4294967295|j>>>15),j=D+(S^B&(F^S))+L[7]+4249261313&4294967295,D=B+(j<<22&4294967295|j>>>10),j=S+(F^D&(B^F))+L[8]+1770035416&4294967295,S=D+(j<<7&4294967295|j>>>25),j=F+(B^S&(D^B))+L[9]+2336552879&4294967295,F=S+(j<<12&4294967295|j>>>20),j=B+(D^F&(S^D))+L[10]+4294925233&4294967295,B=F+(j<<17&4294967295|j>>>15),j=D+(S^B&(F^S))+L[11]+2304563134&4294967295,D=B+(j<<22&4294967295|j>>>10),j=S+(F^D&(B^F))+L[12]+1804603682&4294967295,S=D+(j<<7&4294967295|j>>>25),j=F+(B^S&(D^B))+L[13]+4254626195&4294967295,F=S+(j<<12&4294967295|j>>>20),j=B+(D^F&(S^D))+L[14]+2792965006&4294967295,B=F+(j<<17&4294967295|j>>>15),j=D+(S^B&(F^S))+L[15]+1236535329&4294967295,D=B+(j<<22&4294967295|j>>>10),j=S+(B^F&(D^B))+L[1]+4129170786&4294967295,S=D+(j<<5&4294967295|j>>>27),j=F+(D^B&(S^D))+L[6]+3225465664&4294967295,F=S+(j<<9&4294967295|j>>>23),j=B+(S^D&(F^S))+L[11]+643717713&4294967295,B=F+(j<<14&4294967295|j>>>18),j=D+(F^S&(B^F))+L[0]+3921069994&4294967295,D=B+(j<<20&4294967295|j>>>12),j=S+(B^F&(D^B))+L[5]+3593408605&4294967295,S=D+(j<<5&4294967295|j>>>27),j=F+(D^B&(S^D))+L[10]+38016083&4294967295,F=S+(j<<9&4294967295|j>>>23),j=B+(S^D&(F^S))+L[15]+3634488961&4294967295,B=F+(j<<14&4294967295|j>>>18),j=D+(F^S&(B^F))+L[4]+3889429448&4294967295,D=B+(j<<20&4294967295|j>>>12),j=S+(B^F&(D^B))+L[9]+568446438&4294967295,S=D+(j<<5&4294967295|j>>>27),j=F+(D^B&(S^D))+L[14]+3275163606&4294967295,F=S+(j<<9&4294967295|j>>>23),j=B+(S^D&(F^S))+L[3]+4107603335&4294967295,B=F+(j<<14&4294967295|j>>>18),j=D+(F^S&(B^F))+L[8]+1163531501&4294967295,D=B+(j<<20&4294967295|j>>>12),j=S+(B^F&(D^B))+L[13]+2850285829&4294967295,S=D+(j<<5&4294967295|j>>>27),j=F+(D^B&(S^D))+L[2]+4243563512&4294967295,F=S+(j<<9&4294967295|j>>>23),j=B+(S^D&(F^S))+L[7]+1735328473&4294967295,B=F+(j<<14&4294967295|j>>>18),j=D+(F^S&(B^F))+L[12]+2368359562&4294967295,D=B+(j<<20&4294967295|j>>>12),j=S+(D^B^F)+L[5]+4294588738&4294967295,S=D+(j<<4&4294967295|j>>>28),j=F+(S^D^B)+L[8]+2272392833&4294967295,F=S+(j<<11&4294967295|j>>>21),j=B+(F^S^D)+L[11]+1839030562&4294967295,B=F+(j<<16&4294967295|j>>>16),j=D+(B^F^S)+L[14]+4259657740&4294967295,D=B+(j<<23&4294967295|j>>>9),j=S+(D^B^F)+L[1]+2763975236&4294967295,S=D+(j<<4&4294967295|j>>>28),j=F+(S^D^B)+L[4]+1272893353&4294967295,F=S+(j<<11&4294967295|j>>>21),j=B+(F^S^D)+L[7]+4139469664&4294967295,B=F+(j<<16&4294967295|j>>>16),j=D+(B^F^S)+L[10]+3200236656&4294967295,D=B+(j<<23&4294967295|j>>>9),j=S+(D^B^F)+L[13]+681279174&4294967295,S=D+(j<<4&4294967295|j>>>28),j=F+(S^D^B)+L[0]+3936430074&4294967295,F=S+(j<<11&4294967295|j>>>21),j=B+(F^S^D)+L[3]+3572445317&4294967295,B=F+(j<<16&4294967295|j>>>16),j=D+(B^F^S)+L[6]+76029189&4294967295,D=B+(j<<23&4294967295|j>>>9),j=S+(D^B^F)+L[9]+3654602809&4294967295,S=D+(j<<4&4294967295|j>>>28),j=F+(S^D^B)+L[12]+3873151461&4294967295,F=S+(j<<11&4294967295|j>>>21),j=B+(F^S^D)+L[15]+530742520&4294967295,B=F+(j<<16&4294967295|j>>>16),j=D+(B^F^S)+L[2]+3299628645&4294967295,D=B+(j<<23&4294967295|j>>>9),j=S+(B^(D|~F))+L[0]+4096336452&4294967295,S=D+(j<<6&4294967295|j>>>26),j=F+(D^(S|~B))+L[7]+1126891415&4294967295,F=S+(j<<10&4294967295|j>>>22),j=B+(S^(F|~D))+L[14]+2878612391&4294967295,B=F+(j<<15&4294967295|j>>>17),j=D+(F^(B|~S))+L[5]+4237533241&4294967295,D=B+(j<<21&4294967295|j>>>11),j=S+(B^(D|~F))+L[12]+1700485571&4294967295,S=D+(j<<6&4294967295|j>>>26),j=F+(D^(S|~B))+L[3]+2399980690&4294967295,F=S+(j<<10&4294967295|j>>>22),j=B+(S^(F|~D))+L[10]+4293915773&4294967295,B=F+(j<<15&4294967295|j>>>17),j=D+(F^(B|~S))+L[1]+2240044497&4294967295,D=B+(j<<21&4294967295|j>>>11),j=S+(B^(D|~F))+L[8]+1873313359&4294967295,S=D+(j<<6&4294967295|j>>>26),j=F+(D^(S|~B))+L[15]+4264355552&4294967295,F=S+(j<<10&4294967295|j>>>22),j=B+(S^(F|~D))+L[6]+2734768916&4294967295,B=F+(j<<15&4294967295|j>>>17),j=D+(F^(B|~S))+L[13]+1309151649&4294967295,D=B+(j<<21&4294967295|j>>>11),j=S+(B^(D|~F))+L[4]+4149444226&4294967295,S=D+(j<<6&4294967295|j>>>26),j=F+(D^(S|~B))+L[11]+3174756917&4294967295,F=S+(j<<10&4294967295|j>>>22),j=B+(S^(F|~D))+L[2]+718787259&4294967295,B=F+(j<<15&4294967295|j>>>17),j=D+(F^(B|~S))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(B+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var D=S-this.blockSize,L=this.B,B=this.h,F=0;F<S;){if(B==0)for(;F<=D;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<S;)if(L[B++]=P.charCodeAt(F++),B==this.blockSize){a(this,L),B=0;break}}else for(;F<S;)if(L[B++]=P[F++],B==this.blockSize){a(this,L),B=0;break}}this.h=B,this.o+=S},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var D=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=D&255,D/=256;for(this.u(P),P=Array(16),S=D=0;4>S;++S)for(var L=0;32>L;L+=8)P[D++]=this.g[S]>>>L&255;return P};function l(P,S){var D=d;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=S(P)}function c(P,S){this.h=S;for(var D=[],L=!0,B=P.length-1;0<=B;B--){var F=P[B]|0;L&&F==S||(D[B]=F,L=!1)}this.g=D}var d={};function m(P){return-128<=P&&128>P?l(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return O(p(-P));for(var S=[],D=1,L=0;P>=D;L++)S[L]=P/D|0,D*=4294967296;return new c(S,0)}function y(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return O(y(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(S,8)),L=b,B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B),j=parseInt(P.substring(B,B+F),S);8>F?(F=p(Math.pow(S,F)),L=L.j(F).add(p(j))):(L=L.j(D),L=L.add(p(j)))}return L}var b=m(0),E=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(V(this))return-O(this).m();for(var P=0,S=1,D=0;D<this.g.length;D++){var L=this.i(D);P+=(0<=L?L:4294967296+L)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(V(this))return"-"+O(this).toString(P);for(var S=p(Math.pow(P,6)),D=this,L="";;){var B=Z(D,S).g;D=R(D,B.j(S));var F=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=B,C(D))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function V(P){return P.h==-1}t.l=function(P){return P=R(this,P),V(P)?-1:C(P)?0:1};function O(P){for(var S=P.g.length,D=[],L=0;L<S;L++)D[L]=~P.g[L];return new c(D,~P.h).add(E)}t.abs=function(){return V(this)?O(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),D=[],L=0,B=0;B<=S;B++){var F=L+(this.i(B)&65535)+(P.i(B)&65535),j=(F>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);L=j>>>16,F&=65535,j&=65535,D[B]=j<<16|F}return new c(D,D[D.length-1]&-2147483648?-1:0)};function R(P,S){return P.add(O(S))}t.j=function(P){if(C(this)||C(P))return b;if(V(this))return V(P)?O(this).j(O(P)):O(O(this).j(P));if(V(P))return O(this.j(O(P)));if(0>this.l(A)&&0>P.l(A))return p(this.m()*P.m());for(var S=this.g.length+P.g.length,D=[],L=0;L<2*S;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var B=0;B<P.g.length;B++){var F=this.i(L)>>>16,j=this.i(L)&65535,st=P.i(B)>>>16,ce=P.i(B)&65535;D[2*L+2*B]+=j*ce,K(D,2*L+2*B),D[2*L+2*B+1]+=F*ce,K(D,2*L+2*B+1),D[2*L+2*B+1]+=j*st,K(D,2*L+2*B+1),D[2*L+2*B+2]+=F*st,K(D,2*L+2*B+2)}for(L=0;L<S;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=S;L<2*S;L++)D[L]=0;return new c(D,0)};function K(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function q(P,S){this.g=P,this.h=S}function Z(P,S){if(C(S))throw Error("division by zero");if(C(P))return new q(b,b);if(V(P))return S=Z(O(P),S),new q(O(S.g),O(S.h));if(V(S))return S=Z(P,O(S)),new q(O(S.g),S.h);if(30<P.g.length){if(V(P)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var D=E,L=S;0>=L.l(P);)D=M(D),L=M(L);var B=$(D,1),F=$(L,1);for(L=$(L,2),D=$(D,2);!C(L);){var j=F.add(L);0>=j.l(P)&&(B=B.add(D),F=j),L=$(L,1),D=$(D,1)}return S=R(P,B.j(S)),new q(B,S)}for(B=b;0<=P.l(S);){for(D=Math.max(1,Math.floor(P.m()/S.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=p(D),j=F.j(S);V(j)||0<j.l(P);)D-=L,F=p(D),j=F.j(S);C(F)&&(F=E),B=B.add(F),P=R(P,j)}return new q(B,P)}t.A=function(P){return Z(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),D=[],L=0;L<S;L++)D[L]=this.i(L)&P.i(L);return new c(D,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),D=[],L=0;L<S;L++)D[L]=this.i(L)|P.i(L);return new c(D,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),D=[],L=0;L<S;L++)D[L]=this.i(L)^P.i(L);return new c(D,this.h^P.h)};function M(P){for(var S=P.g.length+1,D=[],L=0;L<S;L++)D[L]=P.i(L)<<1|P.i(L-1)>>>31;return new c(D,P.h)}function $(P,S){var D=S>>5;S%=32;for(var L=P.g.length-D,B=[],F=0;F<L;F++)B[F]=0<S?P.i(F+D)>>>S|P.i(F+D+1)<<32-S:P.i(F+D);return new c(B,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_w=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,pr=c}).apply(typeof j1<"u"?j1:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bw,Tu,xw,ad,ug,Tw,Ew,ww;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,x){return h==Array.prototype||h==Object.prototype||(h[_]=x.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var x=s;h=h.split(".");for(var I=0;I<h.length-1;I++){var G=h[I];if(!(G in x))break e;x=x[G]}h=h[h.length-1],I=x[h],_=_(I),_!=I&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var x=0,I=!1,G={next:function(){if(!I&&x<h.length){var ee=x++;return{value:_(ee,h[ee]),done:!1}}return I=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,x){return h.call.apply(h.bind,arguments)}function b(h,_,x){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,I),h.apply(_,G)}}return function(){return h.apply(_,arguments)}}function E(h,_,x){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,E.apply(null,arguments)}function A(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function C(h,_){function x(){}x.prototype=_.prototype,h.aa=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Qb=function(I,G,ee){for(var ue=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ue[Be-2]=arguments[Be];return _.prototype[G].apply(I,ue)}}function V(h){const _=h.length;if(0<_){const x=Array(_);for(let I=0;I<_;I++)x[I]=h[I];return x}return[]}function O(h,_){for(let x=1;x<arguments.length;x++){const I=arguments[x];if(m(I)){const G=h.length||0,ee=I.length||0;h.length=G+ee;for(let ue=0;ue<ee;ue++)h[G+ue]=I[ue]}else h.push(I)}}class R{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function K(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Z(h){return Z[" "](h),h}Z[" "]=function(){};var M=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function $(h,_,x){for(const I in h)_.call(x,h[I],I,h)}function P(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function S(h){const _={};for(const x in h)_[x]=h[x];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let x,I;for(let G=1;G<arguments.length;G++){I=arguments[G];for(x in I)h[x]=I[x];for(let ee=0;ee<D.length;ee++)x=D[ee],Object.prototype.hasOwnProperty.call(I,x)&&(h[x]=I[x])}}function B(h){var _=1;h=h.split(":");const x=[];for(;0<_&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function F(h){d.setTimeout(()=>{throw h},0)}function j(){var h=ke;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class st{constructor(){this.h=this.g=null}add(_,x){const I=ce.get();I.set(_,x),this.h?this.h.next=I:this.g=I,this.h=I}}var ce=new R(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,fe=!1,ke=new st,U=()=>{const h=d.Promise.resolve(void 0);ae=()=>{h.then(re)}};var re=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(x){F(x)}var _=ce;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}fe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};d.addEventListener("test",x,_),d.removeEventListener("test",x,_)}catch{}return h}();function Re(h,_){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var x=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(M){e:{try{Z(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}C(Re,le);var Ee={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Pn(h,_,x,I,G){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!I,this.ha=G,this.key=++Je,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h){this.src=h,this.g={},this.h=0}Ce.prototype.add=function(h,_,x,I,G){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ue=bt(h,_,I,G);return-1<ue?(_=h[ue],x||(_.fa=!1)):(_=new Pn(_,this.src,ee,!!I,G),_.fa=x,h.push(_)),_};function _t(h,_){var x=_.type;if(x in h.g){var I=h.g[x],G=Array.prototype.indexOf.call(I,_,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(I,G,1),ee&&(pe(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function bt(h,_,x,I){for(var G=0;G<h.length;++G){var ee=h[G];if(!ee.da&&ee.listener==_&&ee.capture==!!x&&ee.ha==I)return G}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Cr={};function Mt(h,_,x,I,G){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Mt(h,_[ee],x,I,G);return null}return x=bc(x),h&&h[ut]?h.K(_,x,p(I)?!!I.capture:!1,G):Le(h,_,x,!1,I,G)}function Le(h,_,x,I,G,ee){if(!_)throw Error("Invalid event type");var ue=p(G)?!!G.capture:!!G,Be=Ra(h);if(Be||(h[qi]=Be=new Ce(h)),x=Be.add(_,x,I,ue,ee),x.proxy)return x;if(I=ei(),x.proxy=I,I.src=h,I.listener=x,h.addEventListener)ye||(G=ue),G===void 0&&(G=!1),h.addEventListener(_.toString(),I,G);else if(h.attachEvent)h.attachEvent(Ir(_.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ei(){function h(x){return _.call(h.src,h.listener,x)}const _=bf;return h}function ol(h,_,x,I,G){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)ol(h,_[ee],x,I,G);else I=p(I)?!!I.capture:!!I,x=bc(x),h&&h[ut]?(h=h.i,_=String(_).toString(),_ in h.g&&(ee=h.g[_],x=bt(ee,x,I,G),-1<x&&(pe(ee[x]),Array.prototype.splice.call(ee,x,1),ee.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ra(h))&&(_=h.g[_.toString()],h=-1,_&&(h=bt(_,x,I,G)),(x=-1<h?_[h]:null)&&Na(x))}function Na(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ut])_t(_.i,h);else{var x=h.type,I=h.proxy;_.removeEventListener?_.removeEventListener(x,I,h.capture):_.detachEvent?_.detachEvent(Ir(x),I):_.addListener&&_.removeListener&&_.removeListener(I),(x=Ra(_))?(_t(x,h),x.h==0&&(x.src=null,_[qi]=null)):pe(h)}}}function Ir(h){return h in Cr?Cr[h]:Cr[h]="on"+h}function bf(h,_){if(h.da)h=!0;else{_=new Re(_,this);var x=h.listener,I=h.ha||h.src;h.fa&&Na(h),h=x.call(I,_)}return h}function Ra(h){return h=h[qi],h instanceof Ce?h:null}var ll="__closure_events_fn_"+(1e9*Math.random()>>>0);function bc(h){return typeof h=="function"?h:(h[ll]||(h[ll]=function(_){return h.handleEvent(_)}),h[ll])}function mt(){he.call(this),this.i=new Ce(this),this.M=this,this.F=null}C(mt,he),mt.prototype[ut]=!0,mt.prototype.removeEventListener=function(h,_,x,I){ol(this,h,_,x,I)};function We(h,_){var x,I=h.F;if(I)for(x=[];I;I=I.F)x.push(I);if(h=h.M,I=_.type||_,typeof _=="string")_=new le(_,h);else if(_ instanceof le)_.target=_.target||h;else{var G=_;_=new le(I,h),L(_,G)}if(G=!0,x)for(var ee=x.length-1;0<=ee;ee--){var ue=_.g=x[ee];G=wn(ue,I,!0,_)&&G}if(ue=_.g=h,G=wn(ue,I,!0,_)&&G,G=wn(ue,I,!1,_)&&G,x)for(ee=0;ee<x.length;ee++)ue=_.g=x[ee],G=wn(ue,I,!1,_)&&G}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var x=h.g[_],I=0;I<x.length;I++)pe(x[I]);delete h.g[_],h.h--}}this.F=null},mt.prototype.K=function(h,_,x,I){return this.i.add(String(h),_,!1,x,I)},mt.prototype.L=function(h,_,x,I){return this.i.add(String(h),_,!0,x,I)};function wn(h,_,x,I){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,ee=0;ee<_.length;++ee){var ue=_[ee];if(ue&&!ue.da&&ue.capture==x){var Be=ue.listener,Ot=ue.ha||ue.src;ue.fa&&_t(h.i,ue),G=Be.call(Ot,I)!==!1&&G}}return G&&!I.defaultPrevented}function sn(h,_,x){if(typeof h=="function")x&&(h=E(h,x));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(h,_||0)}function xc(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,xc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class xf extends he{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(h){he.call(this),this.h=h,this.g={}}C(Nr,he);var Rr=[];function Dr(h){$(h.g,function(_,x){this.g.hasOwnProperty(x)&&Na(_)},h),h.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Dr(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=d.JSON.stringify,Da=d.JSON.parse,Mr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ul(){}ul.prototype.h=null;function cl(h){return h.h||(h.h=h.i())}function hl(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){le.call(this,"d")}C(Gi,le);function dl(){le.call(this,"c")}C(dl,le);var hi={},fl=null;function Rs(){return fl=fl||new mt}hi.La="serverreachability";function Ma(h){le.call(this,hi.La,h)}C(Ma,le);function Ds(h){const _=Rs();We(_,new Ma(_))}hi.STAT_EVENT="statevent";function Tc(h,_){le.call(this,hi.STAT_EVENT,h),this.stat=_}C(Tc,le);function ot(h){const _=Rs();We(_,new Tc(_,h))}hi.Ma="timingevent";function Pt(h,_){le.call(this,hi.Ma,h),this.size=_}C(Pt,le);function At(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},_)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function ml(h,_,x,I,G,ee){h.info(function(){if(h.g)if(ee)for(var ue="",Be=ee.split("&"),Ot=0;Ot<Be.length;Ot++){var Fe=Be[Ot].split("=");if(1<Fe.length){var Ft=Fe[0];Fe=Fe[1];var kt=Ft.split("_");ue=2<=kt.length&&kt[1]=="type"?ue+(Ft+"="+Fe+"&"):ue+(Ft+"=redacted&")}}else ue=null;else ue=ee;return"XMLHTTP REQ ("+I+") [attempt "+G+"]: "+_+`
`+x+`
`+ue})}function Tf(h,_,x,I,G,ee,ue){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+G+"]: "+_+`
`+x+`
`+ee+" "+ue})}function Ms(h,_,x,I){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pr(h,x)+(I?" "+I:"")})}function Ec(h,_){h.info(function(){return"TIMEOUT: "+_})}On.prototype.info=function(){};function Pr(h,_){if(!h.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(h=0;h<x.length;h++)if(Array.isArray(x[h])){var I=x[h];if(!(2>I.length)){var G=I[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ue=1;ue<G.length;ue++)G[ue]=""}}}}return ti(x)}catch{return _}}var Ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function fi(){}C(fi,ul),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},di=new fi;function mn(h,_,x,I){this.j=h,this.i=_,this.l=x,this.R=I||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var pl={},Pa={};function ni(h,_,x){h.L=1,h.v=Lr(Sn(_)),h.m=x,h.P=!0,Ki(h,null)}function Ki(h,_){h.F=Date.now(),Or(h),h.A=Sn(h.v);var x=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),xl(x.i,"t",I),h.C=0,x=h.j.J,h.h=new xt,h.g=Uc(h.j,x?_:null,!h.m),0<h.O&&(h.M=new xf(E(h.Y,h,h.g),h.O)),_=h.U,x=h.g,I=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Rr[0]=G.toString()),G=Rr);for(var ee=0;ee<G.length;ee++){var ue=Mt(x,G[ee],I||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Ds(),ml(h.i,h.u,h.A,h.l,h.R,h.m)}mn.prototype.ca=function(h){h=h.target;const _=this.M;_&&Ln(h)==3?_.j():this.Y(h)},mn.prototype.Y=function(h){try{if(h==this.g)e:{const kt=Ln(this.g);var _=this.g.Ba();const ts=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||kt!=4||_==7||(_==8||0>=ts?Ds(3):Ds(2)),Os(this);var x=this.g.Z();this.X=x;t:if(wc(this)){var I=Dc(this.g);h="";var G=I.length,ee=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),mi(this);var ue="";break t}this.h.i=new d.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,h+=this.h.i.decode(I[_],{stream:!(ee&&_==G-1)});I.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=x==200,Tf(this.i,this.u,this.A,this.l,this.R,kt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ot=this.g;if((Be=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Be)){var Fe=Be;break t}}Fe=null}if(x=Fe)Ms(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,x);else{this.o=!1,this.s=3,ot(12),Kt(this),mi(this);break e}}if(this.P){x=!0;let Xt;for(;!this.J&&this.C<ue.length;)if(Xt=Sc(this,ue),Xt==Pa){kt==4&&(this.s=4,ot(14),x=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==pl){this.s=4,ot(15),Ms(this.i,this.l,ue,"[Invalid Chunk]"),x=!1;break}else Ms(this.i,this.l,Xt,null),kr(this,Xt);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ue.length!=0||this.h.h||(this.s=1,ot(16),x=!1),this.o=this.o&&x,!x)Ms(this.i,this.l,ue,"[Invalid Chunked Response]"),Kt(this),mi(this);else if(0<ue.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Yr(Ft),Ft.M=!0,ot(11))}}else Ms(this.i,this.l,ue,null),kr(this,ue);kt==4&&Kt(this),this.o&&!this.J&&(kt==4?Vc(this.j,this):(this.o=!1,Or(this)))}else Cf(this.g),x==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Kt(this),mi(this)}}}catch{}finally{}};function wc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Sc(h,_){var x=h.C,I=_.indexOf(`
`,x);return I==-1?Pa:(x=Number(_.substring(x,I)),isNaN(x)?pl:(I+=1,I+x>_.length?Pa:(_=_.slice(I,I+x),h.C=I+x,_)))}mn.prototype.cancel=function(){this.J=!0,Kt(this)};function Or(h){h.S=Date.now()+h.I,Ac(h,h.I)}function Ac(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=At(E(h.ba,h),_)}function Os(h){h.B&&(d.clearTimeout(h.B),h.B=null)}mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ec(this.i,this.A),this.L!=2&&(Ds(),ot(17)),Kt(this),this.s=2,mi(this)):Ac(this,this.S-h)};function mi(h){h.j.G==0||h.J||Vc(h.j,h)}function Kt(h){Os(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Dr(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function kr(h,_){try{var x=h.j;if(x.G!=0&&(x.g==h||gl(x.h,h))){if(!h.K&&gl(x.h,h)&&x.G==3){try{var I=x.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var G=I;if(G[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<h.F)Ga(x),qa(x);else break e;Al(x),ot(18)}}else x.za=G[1],0<x.za-x.T&&37500>G[2]&&x.F&&x.v==0&&!x.C&&(x.C=At(E(x.Za,x),6e3));if(1>=ka(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else es(x,11)}else if((h.K||x.g==h)&&Ga(x),!K(_))for(G=x.Da.g.parse(_),_=0;_<G.length;_++){let Fe=G[_];if(x.T=Fe[0],Fe=Fe[1],x.G==2)if(Fe[0]=="c"){x.K=Fe[1],x.ia=Fe[2];const Ft=Fe[3];Ft!=null&&(x.la=Ft,x.j.info("VER="+x.la));const kt=Fe[4];kt!=null&&(x.Aa=kt,x.j.info("SVER="+x.Aa));const ts=Fe[5];ts!=null&&typeof ts=="number"&&0<ts&&(I=1.5*ts,x.L=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const Xt=h.g;if(Xt){const xi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var ee=I.h;ee.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Va(ee,ee.h),ee.h=null))}if(I.D){const Il=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(I.ya=Il,Ze(I.I,I.D,Il))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-h.F,x.j.info("Handshake RTT: "+x.R+"ms")),I=x;var ue=h;if(I.qa=Lc(I,I.J?I.ia:null,I.W),ue.K){pn(I.h,ue);var Be=ue,Ot=I.L;Ot&&(Be.I=Ot),Be.B&&(Os(Be),Or(Be)),I.g=ue}else Oc(I);0<x.i.length&&Ha(x)}else Fe[0]!="stop"&&Fe[0]!="close"||es(x,7);else x.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?es(x,7):wl(x):Fe[0]!="noop"&&x.l&&x.l.ta(Fe),x.v=0)}}Ds(4)}catch{}}var Cc=class{constructor(h,_){this.g=h,this.map=_}};function Xi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ka(h){return h.h?1:h.g?h.g.size:0}function gl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Va(h,_){h.g?h.g.add(_):h.h=_}function pn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Xi.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.D);return _}return V(h.i)}function Ef(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var _=[],x=h.length,I=0;I<x;I++)_.push(h[I]);return _}_=[],x=0;for(I in h)_[x++]=h[I];return _}function ja(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var _=[];h=h.length;for(var x=0;x<h;x++)_.push(x);return _}_=[],x=0;for(const I in h)_[x++]=I;return _}}}function vl(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var x=ja(h),I=Ef(h),G=I.length,ee=0;ee<G;ee++)_.call(void 0,I[ee],x&&x[ee],h)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(h,_){if(h){h=h.split("&");for(var x=0;x<h.length;x++){var I=h[x].indexOf("="),G=null;if(0<=I){var ee=h[x].substring(0,I);G=h[x].substring(I+1)}else ee=h[x];_(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ct(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ct){this.h=h.h,jr(this,h.j),this.o=h.o,this.g=h.g,ks(this,h.s),this.l=h.l;var _=h.i,x=new Wi;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),Ji(this,x),this.m=h.m}else h&&(_=String(h).match(Vr))?(this.h=!1,jr(this,_[1]||"",!0),this.o=kn(_[2]||""),this.g=kn(_[3]||"",!0),ks(this,_[4]),this.l=kn(_[5]||"",!0),Ji(this,_[6]||"",!0),this.m=kn(_[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Ct.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Ur(_,_l,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ur(_,_l,!0),"@"),h.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&h.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Ur(x,x.charAt(0)=="/"?Sf:bl,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Ur(x,La)),h.join("")};function Sn(h){return new Ct(h)}function jr(h,_,x){h.j=x?kn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ks(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Ji(h,_,x){_ instanceof Wi?(h.i=_,Nc(h.i,h.h)):(x||(_=Ur(_,Af)),h.i=new Wi(_,h.h))}function Ze(h,_,x){h.i.set(_,x)}function Lr(h){return Ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function kn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ur(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,Ic),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ic(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _l=/[#\/\?@]/g,bl=/[#\?:]/g,Sf=/[#\?]/g,Af=/[#\?@]/g,La=/#/g;function Wi(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&wf(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=Wi.prototype,t.add=function(h,_){Vn(this),this.i=null,h=pi(this,h);var x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function Qi(h,_){Vn(h),_=pi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function $i(h,_){return Vn(h),_=pi(h,_),h.g.has(_)}t.forEach=function(h,_){Vn(this),this.g.forEach(function(x,I){x.forEach(function(G){h.call(_,G,I,this)},this)},this)},t.na=function(){Vn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let I=0;I<_.length;I++){const G=h[I];for(let ee=0;ee<G.length;ee++)x.push(_[I])}return x},t.V=function(h){Vn(this);let _=[];if(typeof h=="string")$i(this,h)&&(_=_.concat(this.g.get(pi(this,h))));else{h=Array.from(this.g.values());for(let x=0;x<h.length;x++)_=_.concat(h[x])}return _},t.set=function(h,_){return Vn(this),this.i=null,h=pi(this,h),$i(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function xl(h,_,x){Qi(h,_),0<x.length&&(h.i=null,h.g.set(pi(h,_),V(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var I=_[x];const ee=encodeURIComponent(String(I)),ue=this.V(I);for(I=0;I<ue.length;I++){var G=ee;ue[I]!==""&&(G+="="+encodeURIComponent(String(ue[I]))),h.push(G)}}return this.i=h.join("&")};function pi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Nc(h,_){_&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(x,I){var G=I.toLowerCase();I!=G&&(Qi(this,I),xl(this,G,x))},h)),h.j=_}function zr(h,_){const x=new On;if(d.Image){const I=new Image;I.onload=A(jn,x,"TestLoadImage: loaded",!0,_,I),I.onerror=A(jn,x,"TestLoadImage: error",!1,_,I),I.onabort=A(jn,x,"TestLoadImage: abort",!1,_,I),I.ontimeout=A(jn,x,"TestLoadImage: timeout",!1,_,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else _(!1)}function ii(h,_){const x=new On,I=new AbortController,G=setTimeout(()=>{I.abort(),jn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:I.signal}).then(ee=>{clearTimeout(G),ee.ok?jn(x,"TestPingServer: ok",!0,_):jn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),jn(x,"TestPingServer: error",!1,_)})}function jn(h,_,x,I,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),I(x)}catch{}}function Br(){this.g=new Mr}function gi(h,_,x){const I=x||"";try{vl(h,function(G,ee){let ue=G;p(G)&&(ue=ti(G)),_.push(I+ee+"="+encodeURIComponent(ue))})}catch(G){throw _.push(I+"type="+encodeURIComponent("_badmap")),G}}function Vs(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Vs,ul),Vs.prototype.g=function(){return new Zi(this.l,this.j)},Vs.prototype.i=function(h){return function(){return h}}({});function Zi(h,_){mt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Zi,mt),t=Zi.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,vi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?yi(this):vi(this),this.readyState==3&&Tl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,yi(this))},t.Qa=function(h){this.g&&(this.response=h,yi(this))},t.ga=function(){this.g&&yi(this)};function yi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,vi(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function vi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function El(h){let _="";return $(h,function(x,I){_+=I,_+=":",_+=x,_+=`\r
`}),_}function Bt(h,_,x){e:{for(I in x){var I=!1;break e}I=!0}I||(x=El(x),typeof h=="string"?x!=null&&encodeURIComponent(String(x)):Ze(h,_,x))}function Ke(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ke,mt);var Ua=/^https?$/i,Fr=["POST","PUT"];t=Ke.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?cl(this.o):cl(di),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ee){Rc(this,ee);return}if(h=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var G in I)x.set(G,I[G]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ee of I.keys())x.set(ee,I.get(ee));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Fr,_,void 0))||I||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ue]of x)this.g.setRequestHeader(ee,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Rc(this,ee)}};function Rc(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,za(h),_i(h)}function za(h){h.A||(h.A=!0,We(h,"complete"),We(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,We(this,"complete"),We(this,"abort"),_i(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},t.bb=function(){Ba(this)};function Ba(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Ln(h)!=4||h.Z()!=2)){if(h.u&&Ln(h)==4)sn(h.Ea,0,h);else if(We(h,"readystatechange"),Ln(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var I;if(I=ue===0){var G=String(h.D).match(Vr)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),I=!Ua.test(G?G.toLowerCase():"")}x=I}if(x)We(h,"complete"),We(h,"success");else{h.m=6;try{var ee=2<Ln(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",za(h)}}finally{_i(h)}}}}function _i(h,_){if(h.g){qr(h);const x=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||We(h,"ready");try{x.onreadystatechange=I}catch{}}}function qr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Ln(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Da(_)}};function Dc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Cf(h){const _={};h=(h.g&&2<=Ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(K(h[I]))continue;var x=B(h[I]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ee=_[G]||[];_[G]=ee,ee.push(x)}P(_,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Fa(h){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,h),this.cb=Hr("retryDelaySeedMs",1e4,h),this.Wa=Hr("forwardChannelMaxRetries",2,h),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(h&&h.concurrentRequestLimit),this.Da=new Br,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fa.prototype,t.la=8,t.G=1,t.connect=function(h,_,x,I){ot(0),this.W=h,this.H=_||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.I=Lc(this,null,this.W),Ha(this)};function wl(h){if(Mc(h),h.G==3){var _=h.U++,x=Sn(h.I);if(Ze(x,"SID",h.K),Ze(x,"RID",_),Ze(x,"TYPE","terminate"),Gr(h,x),_=new mn(h,h.j,_),_.L=2,_.v=Lr(Sn(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=_.v,x=!0),x||(_.g=Uc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Or(_)}jc(h)}function qa(h){h.g&&(Yr(h),h.g.cancel(),h.g=null)}function Mc(h){qa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ha(h){if(!Oa(h.h)&&!h.s){h.s=!0;var _=h.Ga;ae||U(),fe||(ae(),fe=!0),ke.add(_,h),h.B=0}}function If(h,_){return ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=At(E(h.Ga,h,_),Cl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new mn(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=S(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Pc(this,G,_),x=Sn(this.I),Ze(x,"RID",h),Ze(x,"CVER",22),this.D&&Ze(x,"X-HTTP-Session-Id",this.D),Gr(this,x),ee&&(this.O?_="headers="+encodeURIComponent(String(El(ee)))+"&"+_:this.m&&Bt(x,this.m,ee)),Va(this.h,G),this.Ua&&Ze(x,"TYPE","init"),this.P?(Ze(x,"$req",_),Ze(x,"SID","null"),G.T=!0,ni(G,x,null)):ni(G,x,_),this.G=2}}else this.G==3&&(h?Sl(this,h):this.i.length==0||Oa(this.h)||Sl(this))};function Sl(h,_){var x;_?x=_.l:x=h.U++;const I=Sn(h.I);Ze(I,"SID",h.K),Ze(I,"RID",x),Ze(I,"AID",h.T),Gr(h,I),h.m&&h.o&&Bt(I,h.m,h.o),x=new mn(h,h.j,x,h.B+1),h.m===null&&(x.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Pc(h,x,1e3),x.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Va(h.h,x),ni(x,I,_)}function Gr(h,_){h.H&&$(h.H,function(x,I){Ze(_,I,x)}),h.l&&vl({},function(x,I){Ze(_,I,x)})}function Pc(h,_,x){x=Math.min(h.i.length,x);var I=h.l?E(h.l.Na,h.l,h):null;e:{var G=h.i;let ee=-1;for(;;){const ue=["count="+x];ee==-1?0<x?(ee=G[0].g,ue.push("ofs="+ee)):ee=0:ue.push("ofs="+ee);let Be=!0;for(let Ot=0;Ot<x;Ot++){let Fe=G[Ot].g;const Ft=G[Ot].map;if(Fe-=ee,0>Fe)ee=Math.max(0,G[Ot].g-100),Be=!1;else try{gi(Ft,ue,"req"+Fe+"_")}catch{I&&I(Ft)}}if(Be){I=ue.join("&");break e}}}return h=h.i.splice(0,x),_.D=h,I}function Oc(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ae||U(),fe||(ae(),fe=!0),ke.add(_,h),h.v=0}}function Al(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=At(E(h.Fa,h),Cl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=At(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),qa(this),kc(this))};function Yr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function kc(h){h.g=new mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Sn(h.qa);Ze(_,"RID","rpc"),Ze(_,"SID",h.K),Ze(_,"AID",h.T),Ze(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ze(_,"TO",h.ja),Ze(_,"TYPE","xmlhttp"),Gr(h,_),h.m&&h.o&&Bt(_,h.m,h.o),h.L&&(h.g.I=h.L);var x=h.g;h=h.ia,x.L=1,x.v=Lr(Sn(_)),x.m=null,x.P=!0,Ki(x,h)}t.Za=function(){this.C!=null&&(this.C=null,qa(this),Al(this),ot(19))};function Ga(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Vc(h,_){var x=null;if(h.g==_){Ga(h),Yr(h),h.g=null;var I=2}else if(gl(h.h,_))x=_.D,pn(h.h,_),I=1;else return;if(h.G!=0){if(_.o)if(I==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var G=h.B;I=Rs(),We(I,new Pt(I,x)),Ha(h)}else Oc(h);else if(G=_.s,G==3||G==0&&0<_.X||!(I==1&&If(h,_)||I==2&&Al(h)))switch(x&&0<x.length&&(_=h.h,_.i=_.i.concat(x)),G){case 1:es(h,5);break;case 4:es(h,10);break;case 3:es(h,6);break;default:es(h,2)}}}function Cl(h,_){let x=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(x*=2),x*_}function es(h,_){if(h.j.info("Error code "+_),_==2){var x=E(h.fb,h),I=h.Xa;const G=!I;I=new Ct(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jr(I,"https"),Lr(I),G?zr(I.toString(),x):ii(I.toString(),x)}else ot(2);h.G=0,h.l&&h.l.sa(_),jc(h),Mc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function jc(h){if(h.G=0,h.ka=[],h.l){const _=yl(h.h);(_.length!=0||h.i.length!=0)&&(O(h.ka,_),O(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function Lc(h,_,x){var I=x instanceof Ct?Sn(x):new Ct(x);if(I.g!="")_&&(I.g=_+"."+I.g),ks(I,I.s);else{var G=d.location;I=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var ee=new Ct(null);I&&jr(ee,I),_&&(ee.g=_),G&&ks(ee,G),x&&(ee.l=x),I=ee}return x=h.D,_=h.ya,x&&_&&Ze(I,x,_),Ze(I,"VER",h.la),Gr(h,I),I}function Uc(h,_,x){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Ke(new Vs({eb:x})):new Ke(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}t=zc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ya(){}Ya.prototype.g=function(h,_){return new gn(h,_)};function gn(h,_){mt.call(this),this.g=new Fa(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!K(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!K(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new bi(this)}C(gn,mt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){wl(this.g)},gn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.u&&(x={},x.__data__=ti(h),h=x);_.i.push(new Cc(_.Ya++,h)),_.G==3&&Ha(_)},gn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,gn.aa.N.call(this)};function Bc(h){Gi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}C(Bc,Gi);function Fc(){dl.call(this),this.status=1}C(Fc,dl);function bi(h){this.g=h}C(bi,zc),bi.prototype.ua=function(){We(this.g,"a")},bi.prototype.ta=function(h){We(this.g,new Bc(h))},bi.prototype.sa=function(h){We(this.g,new Fc)},bi.prototype.ra=function(){We(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ww=function(){return new Ya},Ew=function(){return Rs()},Tw=hi,ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,ad=Ps,Yi.COMPLETE="complete",xw=Yi,hl.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Tu=hl,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,bw=Ke}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});const L1="@firebase/firestore",U1="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new ny("@firebase/firestore");function To(){return xa.logLevel}function de(t,...e){if(xa.logLevel<=Ue.DEBUG){const n=e.map(py);xa.debug(`Firestore (${el}): ${t}`,...n)}}function ws(t,...e){if(xa.logLevel<=Ue.ERROR){const n=e.map(py);xa.error(`Firestore (${el}): ${t}`,...n)}}function Bo(t,...e){if(xa.logLevel<=Ue.WARN){const n=e.map(py);xa.warn(`Firestore (${el}): ${t}`,...n)}}function py(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Sw(t,s,n)}function Sw(t,e,n){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ws(s),new Error(s)}function Xe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Sw(e,a,s)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class WD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QD{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pa,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pa)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new Aw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class $D{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $D(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=tM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Pe(t,e){return t<e?-1:t>e?1:0}function cg(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Pe(s,a);{const l=Cw(),c=nM(l.encode(B1(t,n)),l.encode(B1(e,n)));return c!==0?c:Pe(s,a)}}n+=s>65535?2:1}return Pe(t.length,e.length)}function B1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function nM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Pe(t[n],e[n]);return Pe(t.length,e.length)}function Fo(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=-62135596800,q1=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*q1);return new Ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F1)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q1}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-F1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ut(0,0))}static max(){return new Ie(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ci.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),a=Ci.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class vt extends Ci{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const iM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ci{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return iM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H1}static keyField(){return new tn([H1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(vt.fromString(e))}static fromName(e){return new be(vt.fromString(e).popFirst(5))}static empty(){return new be(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function sM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new Ut(n+1,0):new Ut(n,s));return new gr(a,be.empty(),e)}function rM(t){return new gr(t.readTime,t.key,zu)}class gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gr(Ie.min(),be.empty(),zu)}static max(){return new gr(Ie.max(),be.empty(),zu)}}function aM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==oM)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,s)=>{n(e)})}static reject(e){return new se((n,s)=>{s(e)})}static waitFor(e){return new se((n,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next(a=>a?se.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new se((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++d,d===l&&s(c)},y=>a(y))}})}static doWhile(e,n){return new se((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function uM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ef.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-1;function tf(t){return t==null}function Cd(t){return t===0&&1/t==-1/0}function cM(t){return typeof t=="number"&&Number.isInteger(t)&&!Cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="";function hM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=G1(e)),e=dM(t.get(n),e);return G1(e)}function dM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Nw:n+="";break;default:n+=l}}return n}function G1(t){return t+Nw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K1(this.data.getIterator())}getIteratorFrom(e){return new K1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class K1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new zt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dw("Invalid base64 string: "+l):l}}(e);return new nn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const fM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=fM.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vr(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="server_timestamp",Pw="__type__",Ow="__previous_value__",kw="__local_write_time__";function yy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pw])===null||n===void 0?void 0:n.stringValue)===Mw}function nf(t){const e=t.mapValue.fields[Ow];return yy(e)?nf(e):e}function Bu(t){const e=yr(t.mapValue.fields[kw].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,s,a,l,c,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const Id="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||Id}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===Id}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__type__",pM="__max__",Kh={mapValue:{}},jw="__vector__",Nd="value";function _r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yy(t)?4:yM(t)?9007199254740991:gM(t)?10:11:Se(28295,{value:t})}function ji(t,e){if(t===e)return!0;const n=_r(t);if(n!==_r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=yr(a.timestampValue),d=yr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return vr(a.bytesValue).isEqual(vr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),d=St(l.doubleValue);return c===d?Cd(c)===Cd(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Fo(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Y1(c)!==Y1(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ji(c[m],d[m])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function qu(t,e){return(t.values||[]).find(n=>ji(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=_r(t),s=_r(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return X1(t.timestampValue,e.timestampValue);case 4:return X1(Bu(t),Bu(e));case 5:return cg(t.stringValue,e.stringValue);case 6:return function(l,c){const d=vr(l),m=vr(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Pe(d[p],m[p]);if(y!==0)return y}return Pe(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Pe(St(l.latitude),St(c.latitude));return d!==0?d:Pe(St(l.longitude),St(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return J1(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,p,y;const b=l.fields||{},E=c.fields||{},A=(d=b[Nd])===null||d===void 0?void 0:d.arrayValue,C=(m=E[Nd])===null||m===void 0?void 0:m.arrayValue,V=Pe(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:J1(A,C)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Kh.mapValue&&c===Kh.mapValue)return 0;if(l===Kh.mapValue)return 1;if(c===Kh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const E=cg(m[b],y[b]);if(E!==0)return E;const A=qo(d[m[b]],p[y[b]]);if(A!==0)return A}return Pe(m.length,y.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function X1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=yr(t),s=yr(e),a=Pe(n.seconds,s.seconds);return a!==0?a:Pe(n.nanos,s.nanos)}function J1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=qo(n[a],s[a]);if(l)return l}return Pe(n.length,s.length)}function Ho(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=yr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=hg(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${hg(n.fields[c])}`;return a+"}"}(t.mapValue):Se(61005,{value:t})}function od(t){switch(_r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(t);return e?16+od(e):16;case 5:return 2*t.stringValue.length;case 6:return vr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+od(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return wa(s.fields,(l,c)=>{a+=l.length+od(c)}),a}(t.mapValue);default:throw Se(13486,{value:t})}}function dg(t){return!!t&&"integerValue"in t}function vy(t){return!!t&&"arrayValue"in t}function W1(t){return!!t&&"nullValue"in t}function Q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ld(t){return!!t&&"mapValue"in t}function gM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vw])===null||n===void 0?void 0:n.stringValue)===jw}function Nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Nu(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Nu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];ld(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){wa(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Wn(Nu(this.value))}}function Lw(t){const e=[];return wa(t.fields,(n,s)=>{const a=new tn([n]);if(ld(s)){const l=Lw(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Ie.min(),Ie.min(),Ie.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,a){return new cn(e,1,n,Ie.min(),s,a,0)}static newNoDocument(e,n){return new cn(e,2,n,Ie.min(),Ie.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ie.min(),Ie.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n){this.position=e,this.inclusive=n}}function $1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(c.referenceValue),n.key):s=qo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Z1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function vM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class Lt extends Uw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bM(e,n,s):n==="array-contains"?new EM(e,s):n==="in"?new wM(e,s):n==="not-in"?new SM(e,s):n==="array-contains-any"?new AM(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xM(e,s):new TM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&_r(this.value)===_r(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends Uw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Li(e,n)}matches(e){return zw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function zw(t){return t.op==="and"}function Bw(t){return _M(t)&&zw(t)}function _M(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function fg(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(Bw(t))return t.filters.map(e=>fg(e)).join(",");{const e=t.filters.map(n=>fg(n)).join(",");return`${t.op}(${e})`}}function Fw(t,e){return t instanceof Lt?function(s,a){return a instanceof Lt&&s.op===a.op&&s.field.isEqual(a.field)&&ji(s.value,a.value)}(t,e):t instanceof Li?function(s,a){return a instanceof Li&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&Fw(c,a.filters[d]),!0):!1}(t,e):void Se(19439)}function qw(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`}(t):t instanceof Li?function(n){return n.op.toString()+" {"+n.getFilters().map(qw).join(" ,")+"}"}(t):"Filter"}class bM extends Lt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class xM extends Lt{constructor(e,n){super(e,"in",n),this.keys=Hw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TM extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Hw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>be.fromName(s.referenceValue))}class EM extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vy(n)&&qu(n.arrayValue,this.value)}}class wM extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class SM extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class AM extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function ex(t,e=null,n=[],s=[],a=null,l=null,c=null){return new CM(t,e,n,s,a,l,c)}function _y(t){const e=Ne(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>fg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ho(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ho(s)).join(",")),e.Ie=n}return e.Ie}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z1(t.startAt,e.startAt)&&Z1(t.endAt,e.endAt)}function mg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function IM(t,e,n,s,a,l,c,d){return new sf(t,e,n,s,a,l,c,d)}function xy(t){return new sf(t)}function tx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NM(t){return t.collectionGroup!==null}function Ru(t){const e=Ne(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new zt(tn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Dd(l,s))}),n.has(tn.keyField().canonicalString())||e.Ee.push(new Dd(tn.keyField(),s))}return e.Ee}function Ri(t){const e=Ne(t);return e.de||(e.de=RM(e,Ru(t))),e.de}function RM(t,e){if(t.limitType==="F")return ex(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Dd(a.field,l)});const n=t.endAt?new Rd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Rd(t.startAt.position,t.startAt.inclusive):null;return ex(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function pg(t,e,n){return new sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return by(Ri(t),Ri(e))&&t.limitType===e.limitType}function Gw(t){return`${_y(Ri(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>qw(a)).join(", ")}]`),tf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ho(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ho(a)).join(",")),`Target(${s})`}(Ri(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of Ru(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(c,d,m){const p=$1(c,d,m);return c.inclusive?p<=0:p<0}(s.startAt,Ru(s),a)||s.endAt&&!function(c,d,m){const p=$1(c,d,m);return c.inclusive?p>=0:p>0}(s.endAt,Ru(s),a))}(t,e)}function DM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yw(t){return(e,n)=>{let s=!1;for(const a of Ru(t)){const l=MM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function MM(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?qo(m,p):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new ft(be.comparator);function Ss(){return PM}const Kw=new ft(be.comparator);function Eu(...t){let e=Kw;for(const n of t)e=e.insert(n.key,n);return e}function Xw(t){let e=Kw;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ha(){return Du()}function Jw(){return Du()}function Du(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const OM=new ft(be.comparator),kM=new zt(be.comparator);function ze(...t){let e=kM;for(const n of t)e=e.add(n);return e}const VM=new zt(Pe);function jM(){return VM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function Ww(t){return{integerValue:""+t}}function LM(t,e){return cM(e)?Ww(e):Ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function UM(t,e,n){return t instanceof Md?function(a,l){const c={fields:{[Pw]:{stringValue:Mw},[kw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&yy(l)&&(l=nf(l)),l&&(c.fields[Ow]=l),{mapValue:c}}(n,e):t instanceof Hu?$w(t,e):t instanceof Gu?Zw(t,e):function(a,l){const c=Qw(a,l),d=nx(c)+nx(a.Re);return dg(c)&&dg(a.Re)?Ww(d):Ty(a.serializer,d)}(t,e)}function zM(t,e,n){return t instanceof Hu?$w(t,e):t instanceof Gu?Zw(t,e):n}function Qw(t,e){return t instanceof Pd?function(s){return dg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Md extends of{}class Hu extends of{constructor(e){super(),this.elements=e}}function $w(t,e){const n=e2(e);for(const s of t.elements)n.some(a=>ji(a,s))||n.push(s);return{arrayValue:{values:n}}}class Gu extends of{constructor(e){super(),this.elements=e}}function Zw(t,e){let n=e2(e);for(const s of t.elements)n=n.filter(a=>!ji(a,s));return{arrayValue:{values:n}}}class Pd extends of{constructor(e,n){super(),this.serializer=e,this.Re=n}}function nx(t){return St(t.integerValue||t.doubleValue)}function e2(t){return vy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BM(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof Hu&&a instanceof Hu||s instanceof Gu&&a instanceof Gu?Fo(s.elements,a.elements,ji):s instanceof Pd&&a instanceof Pd?ji(s.Re,a.Re):s instanceof Md&&a instanceof Md}(t.transform,e.transform)}class FM{constructor(e,n){this.version=e,this.transformResults=n}}class bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ud(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lf{}function t2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i2(t.key,bs.none()):new hc(t.key,t.data,bs.none());{const n=t.data,s=Wn.empty();let a=new zt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Aa(t.key,s,new ui(a.toArray()),bs.none())}}function qM(t,e,n){t instanceof hc?function(a,l,c){const d=a.value.clone(),m=sx(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Aa?function(a,l,c){if(!ud(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=sx(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(n2(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Mu(t,e,n,s){return t instanceof hc?function(l,c,d,m){if(!ud(l.precondition,c))return d;const p=l.value.clone(),y=rx(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof Aa?function(l,c,d,m){if(!ud(l.precondition,c))return d;const p=rx(l.fieldTransforms,m,c),y=c.data;return y.setAll(n2(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(t,e,n,s):function(l,c,d){return ud(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function HM(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=Qw(s.transform,a||null);l!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,l))}return n||null}function ix(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Fo(s,a,(l,c)=>BM(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hc extends lf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Aa extends lf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function n2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function sx(t,e,n){const s=new Map;Xe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,zM(c,d,n[a]))}return s}function rx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,UM(l,c,e))}return s}class i2 extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&qM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Mu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Mu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Jw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=t2(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,s)=>ix(n,s))&&Fo(this.baseMutations,e.baseMutations,(n,s)=>ix(n,s))}}class Ey{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return OM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Ey(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,He;function JM(t){switch(t){case oe.OK:return Se(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function s2(t){if(t===void 0)return ws("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Rt.OK:return oe.OK;case Rt.CANCELLED:return oe.CANCELLED;case Rt.UNKNOWN:return oe.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return oe.INTERNAL;case Rt.UNAVAILABLE:return oe.UNAVAILABLE;case Rt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Rt.NOT_FOUND:return oe.NOT_FOUND;case Rt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Rt.ABORTED:return oe.ABORTED;case Rt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Rt.DATA_LOSS:return oe.DATA_LOSS;default:return Se(39323,{code:t})}}(He=Rt||(Rt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new pr([4294967295,4294967295],0);function ax(t){const e=Cw().encode(t),n=new _w;return n.update(e),new Uint8Array(n.digest())}function ox(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new pr([n,s],0),new pr([a,l],0)]}class wy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(s<0)throw new wu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=pr.fromNumber(this.pe)}we(e,n,s){let a=e.add(n.multiply(pr.fromNumber(s)));return a.compare(WM)===1&&(a=new pr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ax(e),[s,a]=ox(n);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.be(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new wy(l,a,n);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=ax(e),[s,a]=ox(n);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(Ie.min(),a,new ft(Pe),Ss(),ze())}}class dc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new dc(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,s,a){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=a}}class r2{constructor(e,n){this.targetId=e,this.Ce=n}}class a2{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class lx{constructor(){this.Fe=0,this.Me=ux(),this.xe=nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),s=ze();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}}),new dc(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=ux()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class QM{constructor(e){this.ze=e,this.je=new Map,this.He=Ss(),this.Je=Xh(),this.Ye=Xh(),this.Ze=new ft(Pe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,s=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(mg(l))if(s===0){const c=new be(l.path);this.tt(n,c,cn.newNoDocument(c,Ie.min()))}else Xe(s===1,20013,{expectedCount:s});else{const c=this.ut(n);if(c!==s){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=vr(s).toUint8Array()}catch(m){if(m instanceof Dw)return Bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new wy(c,a,l)}catch(m){return Bo(m instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&mg(d.target)){const m=new be(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,cn.newNoDocument(m,e))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let s=ze();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new uf(e,n,this.Ze,this.He,s);return this.He=Ss(),this.Je=Xh(),this.Ye=Xh(),this.Ze=new ft(Pe),a}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new lx,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new zt(Pe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new zt(Pe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lx),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Xh(){return new ft(be.comparator)}function ux(){return new ft(be.comparator)}const $M={asc:"ASCENDING",desc:"DESCENDING"},ZM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e6={and:"AND",or:"OR"};class t6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gg(t,e){return t.useProto3Json||tf(e)?e:{value:e}}function Od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n6(t,e){return Od(t,e.toTimestamp())}function Di(t){return Xe(!!t,49232),Ie.fromTimestamp(function(n){const s=yr(n);return new Ut(s.seconds,s.nanos)}(t))}function Sy(t,e){return yg(t,e).canonicalString()}function yg(t,e){const n=function(a){return new vt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function l2(t){const e=vt.fromString(t);return Xe(f2(e),10190,{key:e.toString()}),e}function vg(t,e){return Sy(t.databaseId,e.path)}function Op(t,e){const n=l2(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(c2(n))}function u2(t,e){return Sy(t.databaseId,e)}function i6(t){const e=l2(t);return e.length===4?vt.emptyPath():c2(e)}function _g(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c2(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cx(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function s6(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?oe.UNKNOWN:s2(p.code);return new _e(y,p.message||"")}(c);n=new a2(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Op(t,s.document.name),l=Di(s.document.updateTime),c=s.document.createTime?Di(s.document.createTime):Ie.min(),d=new Wn({mapValue:{fields:s.document.fields}}),m=cn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new cd(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Op(t,s.document),l=s.readTime?Di(s.readTime):Ie.min(),c=cn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new cd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Op(t,s.document),l=s.removedTargetIds||[];n=new cd([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new XM(a,l),d=s.targetId;n=new r2(d,c)}}return n}function r6(t,e){let n;if(e instanceof hc)n={update:cx(t,e.key,e.value)};else if(e instanceof i2)n={delete:vg(t,e.key)};else if(e instanceof Aa)n={update:cx(t,e.key,e.data),updateMask:m6(e.fieldMask)};else{if(!(e instanceof GM))return Se(16599,{ft:e.type});n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Md)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Pd)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Se(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:n6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(t,e.precondition)),n}function a6(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?Di(a.updateTime):Di(l);return c.isEqual(Ie.min())&&(c=Di(l)),new FM(c,a.transformResults||[])}(n,e))):[]}function o6(t,e){return{documents:[u2(t,e.path)]}}function l6(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=u2(t,a);const l=function(p){if(p.length!==0)return d2(Li.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:wo(E.field),direction:h6(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=gg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function u6(t){let e=i6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Xe(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(b){const E=h2(b);return E instanceof Li&&Bw(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(b){return b.map(E=>function(C){return new Dd(So(C.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(b){let E;return E=typeof b=="object"?b.value:b,tf(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(b){const E=!!b.before,A=b.values||[];return new Rd(A,E)}(n.startAt));let p=null;return n.endAt&&(p=function(b){const E=!b.before,A=b.values||[];return new Rd(A,E)}(n.endAt)),IM(e,a,c,l,d,"F",m,p)}function c6(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=So(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=So(n.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(n.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(n.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(So(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Li.create(n.compositeFilter.filters.map(s=>h2(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function h6(t){return $M[t]}function d6(t){return ZM[t]}function f6(t){return e6[t]}function wo(t){return{fieldPath:t.canonicalString()}}function So(t){return tn.fromServerFormat(t.fieldPath)}function d2(t){return t instanceof Lt?function(n){if(n.op==="=="){if(Q1(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(W1(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q1(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(W1(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:d6(n.op),value:n.value}}}(t):t instanceof Li?function(n){const s=n.getFilters().map(a=>d2(a));return s.length===1?s[0]:{compositeFilter:{op:f6(n.op),filters:s}}}(t):Se(54877,{filter:t})}function m6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,s,a,l=Ie.min(),c=Ie.min(),d=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.wt=e}}function g6(t){const e=u6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.yn=new v6}addToCollectionParentIndex(e,n){return this.yn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(gr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class v6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new zt(vt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new zt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m2=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(m2,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Go(0)}static ir(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="LruGarbageCollector",_6=1048576;function fx([t,e],[n,s]){const a=Pe(t,n);return a===0?Pe(e,s):a}class b6{constructor(e){this.cr=e,this.buffer=new zt(fx),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){de(dx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?de(dx,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Ir(3e5)})}}class T6{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return se.resolve(ef.le);const s=new b6(n);return this.Er.forEachTarget(e,a=>s.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>s.Pr(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(hx)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hx):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,n))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(p=Date.now(),To()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function E6(t,e){return new T6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Mu(s.mutation,a,ui.empty(),Ut.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ze()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ze()){const a=ha();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let c=Eu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=ha();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ze()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,s,a){let l=Ss();const c=Du(),d=function(){return Du()}();return n.forEach((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Aa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Mu(y.mutation,p,y.mutation.getFieldMask(),Ut.now())):c.set(p.key,ui.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var b;return d.set(p,new S6(y,(b=c.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Du();let a=new ft((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||ui.empty();y=d.applyToLocalView(p,y),s.set(m,y);const b=(a.get(d.batchId)||ze()).add(m);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,b=Jw();y.forEach(E=>{if(!l.has(E)){const A=t2(n.get(E),s.get(E));A!==null&&b.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return se.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(ha());let d=zu,m=l;return c.next(p=>se.forEach(p,(y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,ze())).next(y=>({batchId:d,changes:Xw(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(s=>{let a=Eu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(e,l).next(d=>se.forEach(d,m=>{const p=function(b,E){return new sf(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(y=>{y.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,cn.newInvalidDocument(y)))});let d=Eu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Mu(y.mutation,p,ui.empty(),Ut.now()),af(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return se.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Di(a.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:g6(a.bundledQuery),readTime:Di(a.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.overlays=new ft(be.comparator),this.Or=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ha();return se.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.St(e,n,l)}),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Or.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=ha(),l=n.length+1,c=new be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new ft((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ha(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ha(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return se.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(s.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new KM(n,s));let l=this.Or.get(n);l===void 0&&(l=ze(),this.Or.set(n,l)),this.Or.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.Nr=new zt(Yt.Br),this.Lr=new zt(Yt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Yt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Yt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new be(new vt([])),s=new Yt(n,e),a=new Yt(n,e+1),l=[];return this.Lr.forEachInRange([s,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new be(new vt([])),s=new Yt(n,e),a=new Yt(n,e+1);let l=ze();return this.Lr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Yt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return be.comparator(e.key,n.key)||Pe(e.Gr,n.Gr)}static kr(e,n){return Pe(e.Gr,n.Gr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new zt(Yt.Br)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new YM(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Hr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?gy:this.Jn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Yt(n,0),a=new Yt(n,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([s,a],c=>{const d=this.jr(c.Gr);l.push(d)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Pe);return n.forEach(a=>{const l=new Yt(a,0),c=new Yt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{s=s.add(d.Gr)})}),se.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new be(l),0);let d=new zt(Pe);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Gr)),!0)},c),se.resolve(this.Jr(d))}Jr(e){const n=[];return e.forEach(s=>{const a=this.jr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Xe(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return se.forEach(n.mutations,a=>{const l=new Yt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Yt(n,0),a=this.zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.Zr=e,this.docs=function(){return new ft(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=Ss();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ss();const c=n.path,d=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||aM(rM(y),s)<=0||(a.has(y.key)||af(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Se(9500)}Xr(e,n){return se.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new M6(this)}getSize(e){return se.resolve(this.size)}}class M6 extends w6{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(e,a)):this.vr.removeEntry(s)}),se.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.persistence=e,this.ei=new Sa(n=>_y(n),by),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ay,this.targetCount=0,this.ri=Go.rr()}forEachTarget(e,n){return this.ei.forEach((s,a)=>n(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),se.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.ar(n),se.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),se.waitFor(l).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.ii={},this.overlays={},this.si=new ef(0),this.oi=!1,this.oi=!0,this._i=new N6,this.referenceDelegate=e(this),this.ai=new P6(this),this.indexManager=new y6,this.remoteDocumentCache=function(a){return new D6(a)}(s=>this.referenceDelegate.ui(s)),this.serializer=new p6(n),this.ci=new C6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new R6(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new O6(this.si.next());return this.referenceDelegate.li(),s(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,n){return se.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class O6 extends lM{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Ti=new Ay,this.Ii=null}static Ei(e){return new Cy(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,s=>{const a=be.fromPath(s);return this.Ai(e,a).next(l=>{l||n.removeEntry(a,Ie.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return se.or([()=>se.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class kd{constructor(e,n){this.persistence=e,this.Ri=new Sa(s=>hM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=E6(this,n)}static Ei(e,n){return new kd(e,n)}li(){}hi(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return se.forEach(this.Ri,(s,a)=>this.gr(e,s,a).next(l=>l?se.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,n).next(d=>{d||(s++,l.removeEntry(c,Ie.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),se.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=od(e.data.value)),n}gr(e,n,s){return se.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.Ri.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=a}static Ps(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Iy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return dR()?8:uM(dn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.Rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new k6;return this.fs(e,n,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,n,c,d.size)})}).next(()=>l.result)}gs(e,n,s,a){return s.documentReadCount<this.Es?(To()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),se.resolve()):(To()<=Ue.DEBUG&&de("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(To()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):se.resolve())}Rs(e,n){if(tx(n))return se.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=pg(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=ze(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.ps(n,d);return this.ys(n,p,c,m.readTime)?this.Rs(e,pg(n,null,"F")):this.ws(e,p,n,m)}))})))}Vs(e,n,s,a){return tx(n)||a.isEqual(Ie.min())?se.resolve(null):this.As.getDocuments(e,s).next(l=>{const c=this.ps(n,l);return this.ys(n,c,s,a)?se.resolve(null):(To()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eo(n)),this.ws(e,c,n,sM(a,zu)).next(d=>d))})}ps(e,n){let s=new zt(Yw(e));return n.forEach((a,l)=>{af(e,l)&&(s=s.add(l))}),s}ys(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,n,s){return To()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.As.getDocumentsMatchingQuery(e,n,gr.min(),s)}ws(e,n,s,a){return this.As.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LocalStore",j6=3e8;class L6{constructor(e,n,s,a){this.persistence=e,this.bs=n,this.serializer=a,this.Ss=new ft(Pe),this.Ds=new Sa(l=>_y(l),by),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function U6(t,e,n,s){return new L6(t,e,n,s)}async function g2(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=ze();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:d}))})})}function z6(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const b=p.batch,E=b.keys();let A=se.resolve();return E.forEach(C=>{A=A.next(()=>y.getEntry(m,C)).next(V=>{const O=p.docVersions.get(C);Xe(O!==null,48541),V.version.compareTo(O)<0&&(b.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=ze();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function y2(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function B6(t,e){const n=Ne(t),s=e.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const d=[];e.targetChanges.forEach((y,b)=>{const E=a.get(b);if(!E)return;d.push(n.ai.removeMatchingKeys(l,y.removedDocuments,b).next(()=>n.ai.addMatchingKeys(l,y.addedDocuments,b)));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(b,A),function(V,O,R){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=j6?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(E,A,y)&&d.push(n.ai.updateTargetData(l,A))});let m=Ss(),p=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(F6(l,c,e.documentUpdates).next(y=>{m=y.xs,p=y.Os})),!s.isEqual(Ie.min())){const y=n.ai.getLastRemoteSnapshotVersion(l).next(b=>n.ai.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(y)}return se.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ss=a,l))}function F6(t,e,n){let s=ze(),a=ze();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=Ss();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):de(Ny,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:a}})}function q6(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function H6(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.ai.getTargetData(s,e).next(l=>l?(a=l,se.resolve(a)):n.ai.allocateTargetId(s).next(c=>(a=new hr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ss.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function bg(t,e,n){const s=Ne(t),a=s.Ss.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!nl(c))throw c;de(Ny,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(a.target)}function mx(t,e,n){const s=Ne(t);let a=Ie.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const b=Ne(m),E=b.Ds.get(y);return E!==void 0?se.resolve(b.Ss.get(E)):b.ai.getTargetData(p,y)}(s,c,Ri(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.bs.getDocumentsMatchingQuery(c,e,n?a:Ie.min(),n?l:ze())).next(d=>(G6(s,DM(e),d),{documents:d,Ns:l})))}function G6(t,e,n){let s=t.vs.get(e)||Ie.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.vs.set(e,s)}class px{constructor(){this.activeTargetIds=jM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y6{constructor(){this.So=new px,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new px,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="ConnectivityMonitor";class yx{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){de(gx,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){de(gx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function xg(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="RestConnection",X6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J6{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${a}`,this.qo=this.databaseId.database===Id?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Qo(e,n,s,a,l){const c=xg(),d=this.$o(e,n.toUriEncodedString());de(kp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,a,l),this.Ko(e,d,m,s).then(p=>(de(kp,`Received RPC '${e}' ${c}: `,p),p),p=>{throw Bo(kp,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",s),p})}Wo(e,n,s,a,l,c){return this.Qo(e,n,s,a,l)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}$o(e,n){const s=X6[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class Q6 extends J6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,a){const l=xg();return new Promise((c,d)=>{const m=new bw;m.setWithCredentials(!0),m.listenOnce(xw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case ad.NO_ERROR:const y=m.getResponseJson();de(on,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case ad.TIMEOUT:de(on,`RPC '${e}' ${l} timed out`),d(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:const b=m.getStatus();if(de(on,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const C=function(O){const R=O.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(R)>=0?R:oe.UNKNOWN}(A.status);d(new _e(C,A.message))}else d(new _e(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:l,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{de(on,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);de(on,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",p,s,15)})}a_(e,n,s){const a=xg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ww(),d=Ew(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");de(on,`Creating RPC '${e}' stream ${a}: ${y}`,m);const b=c.createWebChannel(y,m);let E=!1,A=!1;const C=new W6({Go:O=>{A?de(on,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(E||(de(on,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),de(on,`RPC '${e}' stream ${a} sending:`,O),b.send(O))},zo:()=>b.close()}),V=(O,R,K)=>{O.listen(R,q=>{try{K(q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return V(b,Tu.EventType.OPEN,()=>{A||(de(on,`RPC '${e}' stream ${a} transport opened.`),C.t_())}),V(b,Tu.EventType.CLOSE,()=>{A||(A=!0,de(on,`RPC '${e}' stream ${a} transport closed`),C.r_())}),V(b,Tu.EventType.ERROR,O=>{A||(A=!0,Bo(on,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),C.r_(new _e(oe.UNAVAILABLE,"The operation could not be completed")))}),V(b,Tu.EventType.MESSAGE,O=>{var R;if(!A){const K=O.data[0];Xe(!!K,16349);const q=K,Z=(q==null?void 0:q.error)||((R=q[0])===null||R===void 0?void 0:R.error);if(Z){de(on,`RPC '${e}' stream ${a} received error:`,Z);const M=Z.status;let $=function(D){const L=Rt[D];if(L!==void 0)return s2(L)}(M),P=Z.message;$===void 0&&($=oe.INTERNAL,P="Unknown error status: "+M+" with message "+Z.message),A=!0,C.r_(new _e($,P)),b.close()}else de(on,`RPC '${e}' stream ${a} received:`,K),C.i_(K)}}),V(d,Tw.STAT_EVENT,O=>{O.stat===ug.PROXY?de(on,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===ug.NOPROXY&&de(on,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function Vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return new t6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="PersistentStream";class _2{constructor(e,n,s,a,l,c,d,m){this.bi=e,this.R_=s,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new v2(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.m_===n&&this.B_(s,a)},s=>{e(()=>{const a=new _e(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(a)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{s(()=>this.L_(a))}),this.stream.onMessage(a=>{s(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return de(vx,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(de(vx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $6 extends _2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=s6(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?Di(c.readTime):Ie.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=_g(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=mg(m)?{documents:o6(l,m)}:{query:l6(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=o2(l,c.resumeToken);const p=gg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Od(l,c.snapshotVersion.toTimestamp());const p=gg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const s=c6(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.F_(n)}}class Z6 extends _2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=a6(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=_g(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>r6(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{}class tP extends eP{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,yg(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(oe.UNKNOWN,l.toString())})}Wo(e,n,s,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,yg(n,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(oe.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class nP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ws(n),this.ea=!1):de("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class iP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{s.enqueueAndForget(async()=>{Ca(this)&&(de(Ta,"Restarting streams for network reachability change."),await async function(m){const p=Ne(m);p.aa.add(4),await fc(p),p.la.set("Unknown"),p.aa.delete(4),await hf(p)}(this))})}),this.la=new nP(s,a)}}async function hf(t){if(Ca(t))for(const e of t.ua)await e(!0)}async function fc(t){for(const e of t.ua)await e(!1)}function b2(t,e){const n=Ne(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Py(n)?My(n):il(n).b_()&&Dy(n,e))}function Ry(t,e){const n=Ne(t),s=il(n);n._a.delete(e),s.b_()&&x2(n,e),n._a.size===0&&(s.b_()?s.v_():Ca(n)&&n.la.set("Unknown"))}function Dy(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(t).U_(e)}function x2(t,e){t.ha.Ke(e),il(t).K_(e)}function My(t){t.ha=new QM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),il(t).start(),t.la.ta()}function Py(t){return Ca(t)&&!il(t).w_()&&t._a.size>0}function Ca(t){return Ne(t).aa.size===0}function T2(t){t.ha=void 0}async function sP(t){t.la.set("Online")}async function rP(t){t._a.forEach((e,n)=>{Dy(t,e)})}async function aP(t,e){T2(t),Py(t)?(t.la.ia(e),My(t)):t.la.set("Unknown")}async function oP(t,e,n){if(t.la.set("Online"),e instanceof a2&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(t,e)}catch(s){de(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vd(t,s)}else if(e instanceof cd?t.ha.Xe(e):e instanceof r2?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ie.min()))try{const s=await y2(t.localStore);n.compareTo(s)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l._a.get(p);y&&l._a.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l._a.get(m);if(!y)return;l._a.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),x2(l,m);const b=new hr(y.target,m,p,y.sequenceNumber);Dy(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(s){de(Ta,"Failed to raise snapshot:",s),await Vd(t,s)}}async function Vd(t,e,n){if(!nl(e))throw e;t.aa.add(1),await fc(t),t.la.set("Offline"),n||(n=()=>y2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(Ta,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await hf(t)})}function E2(t,e){return e().catch(n=>Vd(t,n,e))}async function df(t){const e=Ne(t),n=br(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:gy;for(;lP(e);)try{const a=await q6(e.localStore,s);if(a===null){e.oa.length===0&&n.v_();break}s=a.batchId,uP(e,a)}catch(a){await Vd(e,a)}w2(e)&&S2(e)}function lP(t){return Ca(t)&&t.oa.length<10}function uP(t,e){t.oa.push(e);const n=br(t);n.b_()&&n.W_&&n.G_(e.mutations)}function w2(t){return Ca(t)&&!br(t).w_()&&t.oa.length>0}function S2(t){br(t).start()}async function cP(t){br(t).H_()}async function hP(t){const e=br(t);for(const n of t.oa)e.G_(n.mutations)}async function dP(t,e,n){const s=t.oa.shift(),a=Ey.from(s,e,n);await E2(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await df(t)}async function fP(t,e){e&&br(t).W_&&await async function(s,a){if(function(c){return JM(c)&&c!==oe.ABORTED}(a.code)){const l=s.oa.shift();br(s).D_(),await E2(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await df(s)}}(t,e),w2(t)&&S2(t)}async function _x(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),de(Ta,"RemoteStore received new credentials");const s=Ca(n);n.aa.add(3),await fc(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await hf(n)}async function mP(t,e){const n=Ne(t);e?(n.aa.delete(2),await hf(n)):e||(n.aa.add(2),await fc(n),n.la.set("Unknown"))}function il(t){return t.Pa||(t.Pa=function(n,s,a){const l=Ne(n);return l.Y_(),new $6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{jo:sP.bind(null,t),Jo:rP.bind(null,t),Zo:aP.bind(null,t),Q_:oP.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Py(t)?My(t):t.la.set("Unknown")):(await t.Pa.stop(),T2(t))})),t.Pa}function br(t){return t.Ta||(t.Ta=function(n,s,a){const l=Ne(n);return l.Y_(),new Z6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:cP.bind(null,t),Zo:fP.bind(null,t),z_:hP.bind(null,t),j_:dP.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await df(t)):(await t.Ta.stop(),t.oa.length>0&&(de(Ta,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new Oy(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(t,e){if(ws("AsyncQueue",`${e}: ${t}`),nl(t))return new _e(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Eu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.Ia=new ft(be.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class Yo{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Yo(e,n,jo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class gP{constructor(){this.queries=xx(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const a=Ne(n),l=a.queries;a.queries=xx(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(s)})})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function xx(){return new Sa(t=>Gw(t),rf)}async function yP(t,e){const n=Ne(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Va()&&e.ma()&&(s=2):(l=new pP,s=e.ma()?0:1);try{switch(s){case 0:l.Aa=await n.onListen(a,!0);break;case 1:l.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=ky(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Ra.push(e),e.ga(n.onlineState),l.Aa&&e.pa(l.Aa)&&Vy(n)}async function vP(t,e){const n=Ne(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _P(t,e){const n=Ne(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Ra)d.pa(a)&&(s=!0);c.Aa=a}}s&&Vy(n)}function bP(t,e,n){const s=Ne(t),a=s.queries.get(e);if(a)for(const l of a.Ra)l.onError(n);s.queries.delete(e)}function Vy(t){t.fa.forEach(e=>{e.next()})}var Tg,Tx;(Tx=Tg||(Tg={})).ya="default",Tx.Cache="cache";class xP{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.key=e}}class C2{constructor(e){this.key=e}}class TP{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ze(),this.mutatedKeys=ze(),this.Ua=Yw(e),this.Ka=new jo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new bx,a=n?n.Ka:this.Ka;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,b)=>{const E=a.get(y),A=af(this.query,b)?b:null,C=!!E&&this.mutatedKeys.has(E.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;E&&A?E.data.isEqual(A.data)?C!==V&&(s.track({type:3,doc:A}),O=!0):this.ja(E,A)||(s.track({type:2,doc:A}),O=!0,(m&&this.Ua(A,m)>0||p&&this.Ua(A,p)<0)&&(d=!0)):!E&&A?(s.track({type:0,doc:A}),O=!0):E&&!A&&(s.track({type:1,doc:E}),O=!0,(m||p)&&(d=!0)),O&&(A?(c=c.add(A),l=V?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{Ka:c,za:s,ys:d,mutatedKeys:l}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,b)=>function(A,C){const V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:O})}};return V(A)-V(C)}(y.type,b.type)||this.Ua(y.doc,b.doc)),this.Ha(s),a=a!=null&&a;const d=n&&!a?this.Ja():[],m=this.$a.size===0&&this.current&&!a?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new Yo(this.query,e.Ka,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new bx,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ze(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new C2(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new A2(s))}),n}Xa(e){this.qa=e.Ns,this.$a=ze();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Yo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const jy="SyncEngine";class EP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wP{constructor(e){this.key=e,this.tu=!1}}class SP{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Sa(d=>Gw(d),rf),this.iu=new Map,this.su=new Set,this.ou=new ft(be.comparator),this._u=new Map,this.au=new Ay,this.uu={},this.cu=new Map,this.lu=Go.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function AP(t,e,n=!0){const s=P2(t);let a;const l=s.ru.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await I2(s,e,n,!0),a}async function CP(t,e){const n=P2(t);await I2(n,e,!0,!1)}async function I2(t,e,n,s){const a=await H6(t.localStore,Ri(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await IP(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&b2(t.remoteStore,a),d}async function IP(t,e,n,s,a){t.Pu=(b,E,A)=>async function(V,O,R,K){let q=O.view.Ga(R);q.ys&&(q=await mx(V.localStore,O.query,!1).then(({documents:P})=>O.view.Ga(P,q)));const Z=K&&K.targetChanges.get(O.targetId),M=K&&K.targetMismatches.get(O.targetId)!=null,$=O.view.applyChanges(q,V.isPrimaryClient,Z,M);return wx(V,O.targetId,$.Ya),$.snapshot}(t,b,E,A);const l=await mx(t.localStore,e,!0),c=new TP(e,l.Ns),d=c.Ga(l.documents),m=dc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);wx(t,n,p.Ya);const y=new EP(e,n,c);return t.ru.set(e,y),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),p.snapshot}async function NP(t,e,n){const s=Ne(t),a=s.ru.get(e),l=s.iu.get(a.targetId);if(l.length>1)return s.iu.set(a.targetId,l.filter(c=>!rf(c,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await bg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Ry(s.remoteStore,a.targetId),Eg(s,a.targetId)}).catch(tl)):(Eg(s,a.targetId),await bg(s.localStore,a.targetId,!0))}async function RP(t,e){const n=Ne(t),s=n.ru.get(e),a=n.iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ry(n.remoteStore,s.targetId))}async function DP(t,e,n){const s=LP(t);try{const a=await function(c,d){const m=Ne(c),p=Ut.now(),y=d.reduce((A,C)=>A.add(C.key),ze());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Ss(),V=ze();return m.Cs.getEntries(A,y).next(O=>{C=O,C.forEach((R,K)=>{K.isValidDocument()||(V=V.add(R))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,C)).next(O=>{b=O;const R=[];for(const K of d){const q=HM(K,b.get(K.key).overlayedDocument);q!=null&&R.push(new Aa(K.key,q,Lw(q.value.mapValue),bs.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,R,d)}).next(O=>{E=O;const R=O.applyToLocalDocumentSet(b,V);return m.documentOverlayCache.saveOverlays(A,O.batchId,R)})}).then(()=>({batchId:E.batchId,changes:Xw(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.uu[c.currentUser.toKey()];p||(p=new ft(Pe)),p=p.insert(d,m),c.uu[c.currentUser.toKey()]=p}(s,a.batchId,n),await mc(s,a.changes),await df(s.remoteStore)}catch(a){const l=ky(a,"Failed to persist write");n.reject(l)}}async function N2(t,e){const n=Ne(t);try{const s=await B6(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n._u.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Xe(c.tu,14607):a.removedDocuments.size>0&&(Xe(c.tu,42227),c.tu=!1))}),await mc(n,s,e)}catch(s){await tl(s)}}function Ex(t,e,n){const s=Ne(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ne(c);m.onlineState=d;let p=!1;m.queries.forEach((y,b)=>{for(const E of b.Ra)E.ga(d)&&(p=!0)}),p&&Vy(m)}(s.eventManager,e),a.length&&s.nu.Q_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MP(t,e,n){const s=Ne(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s._u.get(e),l=a&&a.key;if(l){let c=new ft(be.comparator);c=c.insert(l,cn.newNoDocument(l,Ie.min()));const d=ze().add(l),m=new uf(Ie.min(),new Map,new ft(Pe),c,d);await N2(s,m),s.ou=s.ou.remove(l),s._u.delete(e),Ly(s)}else await bg(s.localStore,e,!1).then(()=>Eg(s,e,n)).catch(tl)}async function PP(t,e){const n=Ne(t),s=e.batch.batchId;try{const a=await z6(n.localStore,e);D2(n,s,null),R2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mc(n,a)}catch(a){await tl(a)}}async function OP(t,e,n){const s=Ne(t);try{const a=await function(c,d){const m=Ne(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(b=>(Xe(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(p,b))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(s.localStore,e);D2(s,e,n),R2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mc(s,a)}catch(a){await tl(a)}}function R2(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function D2(t,e,n){const s=Ne(t);let a=s.uu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.uu[s.currentUser.toKey()]=a}}function Eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.iu.get(e))t.ru.delete(s),n&&t.nu.Tu(s,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(s=>{t.au.containsKey(s)||M2(t,s)})}function M2(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Ry(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Ly(t))}function wx(t,e,n){for(const s of n)s instanceof A2?(t.au.addReference(s.key,e),kP(t,s)):s instanceof C2?(de(jy,"Document no longer in limbo: "+s.key),t.au.removeReference(s.key,e),t.au.containsKey(s.key)||M2(t,s.key)):Se(19791,{Iu:s})}function kP(t,e){const n=e.key,s=n.path.canonicalString();t.ou.get(n)||t.su.has(s)||(de(jy,"New document in limbo: "+n),t.su.add(s),Ly(t))}function Ly(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new be(vt.fromString(e)),s=t.lu.next();t._u.set(s,new wP(n)),t.ou=t.ou.insert(n,s),b2(t.remoteStore,new hr(Ri(xy(n.path)),s,"TargetPurposeLimboResolution",ef.le))}}async function mc(t,e,n){const s=Ne(t),a=[],l=[],c=[];s.ru.isEmpty()||(s.ru.forEach((d,m)=>{c.push(s.Pu(m,e,n).then(p=>{var y;if((p||n)&&s.isPrimaryClient){const b=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(p){a.push(p);const b=Iy.Ps(m.targetId,p);l.push(b)}}))}),await Promise.all(c),s.nu.Q_(a),await async function(m,p){const y=Ne(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>se.forEach(p,E=>se.forEach(E.ls,A=>y.persistence.referenceDelegate.addReference(b,E.targetId,A)).next(()=>se.forEach(E.hs,A=>y.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))}catch(b){if(!nl(b))throw b;de(Ny,"Failed to update sequence numbers: "+b)}for(const b of p){const E=b.targetId;if(!b.fromCache){const A=y.Ss.get(E),C=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(C);y.Ss=y.Ss.insert(E,V)}}}(s.localStore,l))}async function VP(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){de(jy,"User change. New user:",e.toKey());const s=await g2(n.localStore,e);n.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new _e(oe.CANCELLED,c))})}),l.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(n,s.Ms)}}function jP(t,e){const n=Ne(t),s=n._u.get(e);if(s&&s.tu)return ze().add(s.key);{let a=ze();const l=n.iu.get(e);if(!l)return a;for(const c of l){const d=n.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}function P2(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MP.bind(null,e),e.nu.Q_=_P.bind(null,e.eventManager),e.nu.Tu=bP.bind(null,e.eventManager),e}function LP(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OP.bind(null,e),e}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return U6(this.persistence,new V6,e.initialUser,this.serializer)}Ru(e){return new p2(Cy.Ei,this.serializer)}Au(e){return new Y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class UP extends jd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Xe(this.persistence.referenceDelegate instanceof kd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new x6(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new p2(s=>kd.Ei(s,n),this.serializer)}}class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ex(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VP.bind(null,this.syncEngine),await mP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gP}()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),s=function(l){return new Q6(l)}(e.databaseInfo);return function(l,c,d,m){return new tP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,c,d){return new iP(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Ex(this.syncEngine,n,0),function(){return yx.C()?new yx:new K6}())}createSyncEngine(e,n){return function(a,l,c,d,m,p,y){const b=new SP(a,l,c,d,m,p);return y&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Ne(a);de(Ta,"RemoteStore shutting down."),l.aa.add(5),await fc(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class BP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{de(xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(de(xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ky(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function jp(t,e){t.asyncQueue.verifyOperationInProgress(),de(xr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await g2(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FP(t);de(xr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>_x(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>_x(e.remoteStore,a)),t._onlineComponents=e}async function FP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(xr,"Using user provided OfflineComponentProvider");try{await jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await jp(t,new jd)}}else de(xr,"Using default OfflineComponentProvider"),await jp(t,new UP(void 0));return t._offlineComponents}async function O2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(xr,"Using user provided OnlineComponentProvider"),await Sx(t,t._uninitializedComponentsProvider._online)):(de(xr,"Using default OnlineComponentProvider"),await Sx(t,new wg))),t._onlineComponents}function qP(t){return O2(t).then(e=>e.syncEngine)}async function Ax(t){const e=await O2(t),n=e.eventManager;return n.onListen=AP.bind(null,e.syncEngine),n.onUnlisten=NP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RP.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e,n){if(!n)throw new _e(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GP(t,e,n,s){if(e===!0&&s===!0)throw new _e(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ix(t){if(!be.isDocumentKey(t))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Lo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uy(t);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firestore.googleapis.com",Nx=!0;class Rx{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V2,this.ssl=Nx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Nx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_6)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k2((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zy{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JD;switch(s.type){case"firstParty":return new ZD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Cx.get(n);s&&(de("ComponentProvider","Removing Datastore"),Cx.delete(n),s.terminate())}(this),Promise.resolve()}}function YP(t,e,n,s={}){var a;const l=(t=Lo(t,zy))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==V2&&l.host!==d&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!ya(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=un.MOCK_USER;else{p=rR(s.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(b)}t._authCredentials=new WD(new Aw(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ff(this.firestore,e,this._query)}}class Qn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Yu extends ff{constructor(e,n,s){super(e,n,xy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new be(e))}withConverter(e){return new Yu(this.firestore,e,this._path)}}function Ao(t,e,...n){if(t=fn(t),arguments.length===1&&(e=Iw.newId()),HP("doc","path",e),t instanceof zy){const s=vt.fromString(e,...n);return Ix(s),new Qn(t,null,new be(s))}{if(!(t instanceof Qn||t instanceof Yu))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return Ix(s),new Qn(t.firestore,t instanceof Yu?t.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="AsyncQueue";class Mx{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new v2(this,"async_queue_retry"),this.ju=()=>{const s=Vp();s&&de(Dx,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new pa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!nl(e))throw e;de(Dx,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ws("INTERNAL UNHANDLED ERROR: ",Px(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const a=Oy.createAndSchedule(this,e,n,s,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&Se(47125,{ec:Px(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Px(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Ld extends zy{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Mx,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mx(e),this._firestoreClient=void 0,await e}}}function KP(t,e){const n=typeof t=="object"?t:kE(),s=typeof t=="string"?t:Id,a=sy(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=iR("firestore");l&&YP(a,...l)}return a}function j2(t){if(t._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XP(t),t._firestoreClient}function XP(t){var e,n,s;const a=t._freezeSettings(),l=function(d,m,p,y){return new mM(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,k2(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new BP(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(nn.fromBase64String(e))}catch(n){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ko(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=/^__.*__$/;class WP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}function U2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:t})}}class Hy{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a.lc(e),a}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ud(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(U2(this.oc)&&JP.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class QP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cf(e)}dc(e,n,s,a=!1){return new Hy({oc:e,methodName:n,Ec:s,path:tn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $P(t){const e=t._freezeSettings(),n=cf(t._databaseId);return new QP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZP(t,e,n,s,a,l={}){const c=t.dc(l.merge||l.mergeFields?2:0,e,n,a);q2("Data must be an object, but it was:",c,s);const d=B2(s,c);let m,p;if(l.merge)m=new ui(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const E=eO(e,b,n);if(!c.contains(E))throw new _e(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);nO(y,E)||y.push(E)}m=new ui(y),p=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,p=c.fieldTransforms;return new WP(new Wn(d),m,p)}function z2(t,e){if(F2(t=fn(t)))return q2("Unsupported field value:",e,t),B2(t,e);if(t instanceof L2)return function(s,a){if(!U2(a.oc))throw a.Tc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=z2(d,a.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ut.fromDate(s);return{timestampValue:Od(a.serializer,l)}}if(s instanceof Ut){const l=new Ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Od(a.serializer,l)}}if(s instanceof Fy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ko)return{bytesValue:o2(a.serializer,s._byteString)};if(s instanceof Qn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof qy)return function(c,d){return{mapValue:{fields:{[Vw]:{stringValue:jw},[Nd]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Ty(d.serializer,p)})}}}}}}(s,a);throw a.Tc(`Unsupported field value: ${Uy(s)}`)}(t,e)}function B2(t,e){const n={};return Rw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(s,a)=>{const l=z2(a,e.uc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function F2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof Fy||t instanceof Ko||t instanceof Qn||t instanceof L2||t instanceof qy)}function q2(t,e,n){if(!F2(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Uy(n);throw s==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+s)}}function eO(t,e,n){if((e=fn(e))instanceof By)return e._internalPath;if(typeof e=="string")return H2(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const tO=new RegExp("[~\\*/\\[\\]]");function H2(t,e,n){if(e.search(tO)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new By(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ud(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new _e(oe.INVALID_ARGUMENT,d+t+m)}function nO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Y2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iO extends G2{data(){return super.data()}}function Y2(t,e){return typeof e=="string"?H2(t,e):e instanceof By?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rO{convertValue(e,n="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return wa(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){var n,s,a;const l=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[Nd].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>St(c.doubleValue));return new qy(l)}convertGeoPoint(e){return new Fy(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=yr(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);Xe(f2(s),9688,{name:e});const a=new Fu(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||ws(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K2 extends G2{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Y2("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class hd extends K2{data(e={}){return super.data(e)}}class oO{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Su(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new hd(this._firestore,this._userDataWriter,s.key,s,new Su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new hd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new hd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:lO(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}class X2 extends rO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function Sg(t,e,n){t=Lo(t,Qn);const s=Lo(t.firestore,Ld),a=aO(t.converter,e,n);return uO(s,[ZP($P(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bs.none())])}function Lp(t,...e){var n,s,a;t=fn(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Ox(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Ox(e[c])){const b=e[c];e[c]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[c+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,p,y;if(t instanceof Qn)p=Lo(t.firestore,Ld),y=xy(t._key.path),m={next:b=>{e[c]&&e[c](cO(p,t,b))},error:e[c+1],complete:e[c+2]};else{const b=Lo(t,ff);p=Lo(b.firestore,Ld),y=b._query;const E=new X2(p);m={next:A=>{e[c]&&e[c](new oO(p,E,b,A))},error:e[c+1],complete:e[c+2]},sO(t._query)}return function(E,A,C,V){const O=new zP(V),R=new xP(A,O,C);return E.asyncQueue.enqueueAndForget(async()=>yP(await Ax(E),R)),()=>{O.yu(),E.asyncQueue.enqueueAndForget(async()=>vP(await Ax(E),R))}}(j2(p),y,d,m)}function uO(t,e){return function(s,a){const l=new pa;return s.asyncQueue.enqueueAndForget(async()=>DP(await qP(s),a,l)),l.promise}(j2(t),e)}function cO(t,e,n){const s=n.docs.get(e._key),a=new X2(t);return new K2(t,a,e._key,s,new Su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){el=a})($o),Uo(new va("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Ld(new QD(s.getProvider("auth-internal")),new eM(c,s.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),mr(L1,U1,e),mr(L1,U1,"esm2017")})();var hO="firebase",dO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(hO,dO,"app");const fO={apiKey:"AIzaSyCPp1rVIDO0JjYZsWIL1m4273RHwdvg84A",authDomain:"clothes-store-500d9.firebaseapp.com",projectId:"clothes-store-500d9",storageBucket:"clothes-store-500d9.appspot.com",messagingSenderId:"848967934568",appId:"1:848967934568:web:41146d8e78c26b9da051dd",measurementId:"G-D4EN8WJMLB"},J2=OE(fO),Ea=KD(J2),Co=KP(J2),mO=[{id:1,name:"Home",link:"/"},{id:2,name:"Top Rated",link:"/top-rated"},{id:3,name:"Kids Wear",link:"/kids-wear"},{id:4,name:"Mens Wear",link:"/mens-wear"},{id:5,name:"Electronics",link:"/electronics"}],pO=[{id:1,name:"Trending Products",link:"/trending-products"},{id:2,name:"Best Selling",link:"/best-selling"},{id:3,name:"Top Rated",link:"/top-rated"}],gO=()=>{const[t,e]=N.useState(!1),[n,s]=N.useState(!1),[a,l]=N.useState(!1),[c,d]=N.useState(0),[m,p]=N.useState(0),[y,b]=N.useState(0),[E,A]=N.useState(""),[C,V]=N.useState([]),[O,R]=N.useState([]),[K,q]=N.useState([]),[Z,M]=N.useState(null),[$,P]=N.useState({show:!1,message:""}),S=Zn(),D=N.useRef(null),L=N.useRef(null),B=["T-shirts","Jeans","Sneakers","Laptops","Headphones"];N.useEffect(()=>{const pe=lw(Ea,Ce=>{if(Ce){const _t={id:Ce.uid,name:Ce.displayName||Ce.email.split("@")[0],email:Ce.email,photoURL:Ce.photoURL||"https://via.placeholder.com/32"};M(_t);const bt=Ao(Co,"users",Ce.uid,"cart","items"),qi=Ao(Co,"users",Ce.uid,"wishlist","items"),Cr=Ao(Co,"users",Ce.uid,"orders","summary");Lp(bt,Mt=>{if(Mt.exists()){const Le=Mt.data(),ei=(Le==null?void 0:Le.items)||[];R(ei),d(ei.length),localStorage.setItem("cart",JSON.stringify(ei))}else{const Le=JSON.parse(localStorage.getItem("cart"))||[];R(Le),d(Le.length)}},Mt=>{F("Failed to load cart: "+Mt.message);const Le=JSON.parse(localStorage.getItem("cart"))||[];R(Le),d(Le.length)}),Lp(qi,Mt=>{if(Mt.exists()){const Le=Mt.data(),ei=(Le==null?void 0:Le.items)||[];q(ei),p(ei.length),localStorage.setItem("wishlist",JSON.stringify(ei))}else{const Le=JSON.parse(localStorage.getItem("wishlist"))||[];q(Le),p(Le.length)}},Mt=>{F("Failed to load wishlist: "+Mt.message);const Le=JSON.parse(localStorage.getItem("wishlist"))||[];q(Le),p(Le.length)}),Lp(Cr,Mt=>{if(Mt.exists()){const Le=Mt.data();b((Le==null?void 0:Le.pendingOrders)||0)}else b(0)},Mt=>{F("Failed to load orders: "+Mt.message),b(0)})}else{M(null);const _t=JSON.parse(localStorage.getItem("cart"))||[],bt=JSON.parse(localStorage.getItem("wishlist"))||[];R(_t),d(_t.length),q(bt),p(bt.length),b(0)}});return()=>pe()},[]),N.useEffect(()=>{if(localStorage.setItem("cart",JSON.stringify(O)),d(O.length),Z){const pe=Ao(Co,"users",Z.id,"cart","items");Sg(pe,{items:O},{merge:!0}).catch(Ce=>{F("Cart sync failed, using local storage: "+Ce.message)})}},[O,Z]),N.useEffect(()=>{if(localStorage.setItem("wishlist",JSON.stringify(K)),p(K.length),Z){const pe=Ao(Co,"users",Z.id,"wishlist","items");Sg(pe,{items:K},{merge:!0}).catch(Ce=>{F("Wishlist sync failed, using local storage: "+Ce.message)})}},[K,Z]),N.useEffect(()=>{const pe=Ce=>{D.current&&!D.current.contains(Ce.target)&&l(!1),L.current&&!L.current.contains(Ce.target)&&V([])};return document.addEventListener("mousedown",pe),()=>{document.removeEventListener("mousedown",pe)}},[]);const F=pe=>{P({show:!0,message:pe}),setTimeout(()=>P({show:!1,message:""}),3e3)},j=()=>{e(!t),s(!1),l(!1),V([])},st=()=>{s(!n)},ce=()=>{l(!a),V([])},X=pe=>{R(Ce=>Ce.find(bt=>bt.id===pe.id)?Ce.map(bt=>bt.id===pe.id?{...bt,quantity:bt.quantity+1}:bt):[...Ce,{...pe,quantity:1}])},ae=pe=>{R(Ce=>Ce.filter(_t=>_t.id!==pe))},fe=pe=>{q(Ce=>Ce.find(_t=>_t.id===pe.id)?Ce:[...Ce,pe])},ke=pe=>{q(Ce=>Ce.filter(_t=>_t.id!==pe))},U=()=>{S("/cart"),e(!1),l(!1),V([])},re=()=>{S("/wishlist"),e(!1),l(!1),V([])},he=()=>{S("/myorders"),e(!1),l(!1),V([])},le=()=>{S("/profile"),e(!1),l(!1),V([])},ye=()=>{S("/settings"),e(!1),l(!1),V([])},Re=async()=>{try{await j3(Ea),M(null),R([]),q([]),b(0),localStorage.removeItem("cart"),localStorage.removeItem("wishlist"),S("/login")}catch(pe){F("Logout failed: "+pe.message)}e(!1),l(!1),V([])},Ee=pe=>{const Ce=pe.target.value;if(A(Ce),Ce.trim()){const _t=B.filter(bt=>bt.toLowerCase().includes(Ce.toLowerCase()));V(_t)}else V([])},ut=pe=>{pe.preventDefault(),E.trim()&&(S(`/search?query=${encodeURIComponent(E)}`),A(""),V([]),e(!1),l(!1))},Je=pe=>{S(`/search?query=${encodeURIComponent(pe)}`),A(""),V([]),e(!1),l(!1)},Pn=pe=>{M({id:pe.id,name:pe.name,email:pe.email,photoURL:pe.photoURL||"https://via.placeholder.com/32"})};return v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"bg-gray-900 text-white shadow-lg relative z-50 min-w-[20rem] w-full",children:[v.jsx("div",{className:"py-3",children:v.jsxs("div",{className:"container mx-auto flex justify-between items-center px-4",children:[v.jsxs(Zt,{to:"/",className:"text-xl font-extrabold flex gap-2 items-center tracking-tight","aria-label":"TrendZone Home",children:[v.jsx("img",{src:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/logo.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL2xvZ28ucG5nIiwiaWF0IjoxNzQzNjc5MDkyLCJleHAiOjE3NzUyMTUwOTJ9.5iu3wayd4jpK-_qc58Cj5JQLe5peP8a5MnYX6VAWJMU",alt:"TrendZone Logo",className:"w-6 rounded-full"}),v.jsx("span",{children:"TrendZone"})]}),v.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[v.jsxs("div",{className:"relative",ref:L,children:[v.jsxs("form",{onSubmit:ut,className:"relative",children:[v.jsx("input",{type:"text",value:E,onChange:Ee,placeholder:"Search products...",className:"w-40 lg:w-56 bg-gray-800 text-white rounded-full border border-gray-700 px-4 py-1.5 focus:outline-none focus:border-blue-500 transition-all duration-300","aria-label":"Search products"}),v.jsx(n1,{className:"text-gray-400 absolute top-1/2 -translate-y-1/2 right-3 cursor-pointer hover:text-blue-500",onClick:ut,"aria-label":"Submit search"})]}),C.length>0&&v.jsx("ul",{className:"absolute left-0 mt-2 w-full bg-gray-800 rounded-lg shadow-xl py-2 z-50",children:C.map((pe,Ce)=>v.jsx("li",{children:v.jsx("button",{className:"block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",onClick:()=>Je(pe),children:pe})},Ce))})]}),v.jsxs("button",{onClick:he,className:"bg-blue-600 hover:bg-blue-700 text-white py-1.5 px-3 rounded-full flex items-center gap-1 relative transition-colors duration-200","aria-label":"View orders",children:[v.jsx(o1,{className:"text-base"}),v.jsx("span",{className:"text-sm",children:"Orders"}),y>0&&v.jsx("span",{className:"absolute top-[-4px] right-[-4px] bg-red-500 rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]",children:y})]}),v.jsxs("button",{onClick:re,className:"bg-blue-600 hover:bg-blue-700 text-white py-1.5 px-3 rounded-full flex items-center gap-1 relative transition-colors duration-200","aria-label":"View wishlist",children:[v.jsx(eg,{className:"text-base"}),m>0&&v.jsx("span",{className:"absolute top-[-4px] right-[-4px] bg-red-500 rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]",children:m})]}),v.jsxs("button",{onClick:U,className:"bg-blue-600 hover:bg-blue-700 text-white py-1.5 px-3 rounded-full flex items-center gap-1 relative transition-colors duration-200","aria-label":"View cart",children:[v.jsx(a1,{className:"text-base"}),c>0&&v.jsx("span",{className:"absolute top-[-4px] right-[-4px] bg-red-500 rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]",children:c})]}),v.jsxs("div",{className:"relative",ref:D,children:[v.jsxs("button",{onClick:ce,className:"bg-blue-600 hover:bg-blue-700 text-white py-1.5 px-3 rounded-full flex items-center gap-1 transition-colors duration-200","aria-label":"Profile menu",children:[Z&&Z.photoURL?v.jsx("img",{src:Z.photoURL,alt:"Profile",className:"w-5 h-5 rounded-full object-cover"}):v.jsx("img",{src:"https://via.placeholder.com/32",alt:"Profile",className:"w-5 h-5 rounded-full object-cover"}),v.jsx("span",{className:"text-sm",children:Z?Z.name:"Profile"}),v.jsx(i1,{className:`text-xs transition-transform duration-200 ${a?"rotate-180":""}`})]}),v.jsx("div",{className:`absolute right-0 mt-2 w-40 bg-gray-800 rounded-lg shadow-xl py-2 transition-all duration-200 ease-in-out z-50 ${a?"opacity-100 scale-y-100":"opacity-0 scale-y-0"} origin-top`,children:Z?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{le(),l(!1)},className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",children:"My Profile"}),v.jsx("button",{onClick:()=>{ye(),l(!1)},className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",children:"Settings"}),v.jsx("button",{onClick:()=>{Re(),l(!1)},className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",children:"Logout"})]}):v.jsx(Zt,{to:"/login",className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",onClick:()=>{e(!1),l(!1)},children:"Login"})})]})]}),v.jsx("div",{className:"flex md:hidden items-center",children:v.jsx("button",{onClick:j,className:"text-xl p-2","aria-label":"Toggle menu",children:t?v.jsx(r1,{}):v.jsx(FN,{})})})]})}),v.jsxs("div",{className:`md:hidden fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-95 transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 z-50`,children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsxs(Zt,{to:"/",className:"text-xl font-extrabold flex gap-2 items-center tracking-tight",onClick:j,"aria-label":"TrendZone Home",children:[v.jsx("img",{src:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/logo.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL2xvZ28ucG5nIiwiaWF0IjoxNzQzNjc5MDkyLCJleHAiOjE3NzUyMTUwOTJ9.5iu3wayd4jpK-_qc58Cj5JQLe5peP8a5MnYX6VAWJMU",alt:"TrendZone Logo",className:"w-6 rounded-full"}),v.jsx("span",{children:"TrendZone"})]}),v.jsx("button",{onClick:j,className:"text-xl p-2","aria-label":"Close menu",children:v.jsx(r1,{})})]}),v.jsxs("div",{className:"px-4 py-3",children:[v.jsxs("div",{className:"relative",ref:L,children:[v.jsxs("form",{onSubmit:ut,className:"relative mb-4",children:[v.jsx("input",{type:"text",value:E,onChange:Ee,placeholder:"Search products...",className:"w-full bg-gray-800 text-white rounded-full border border-gray-700 px-4 py-2 focus:outline-none focus:border-blue-500 transition-all duration-300","aria-label":"Search products"}),v.jsx(n1,{className:"text-gray-400 absolute top-1/2 -translate-y-1/2 right-3 cursor-pointer hover:text-blue-500",onClick:ut,"aria-label":"Submit search"})]}),C.length>0&&v.jsx("ul",{className:"absolute left-0 mt-2 w-full bg-gray-800 rounded-lg shadow-xl py-2 z-50",children:C.map((pe,Ce)=>v.jsx("li",{children:v.jsx("button",{className:"block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",onClick:()=>Je(pe),children:pe})},Ce))})]}),v.jsxs("ul",{className:"flex flex-col gap-2",children:[mO.map(pe=>v.jsx("li",{children:v.jsx(Zt,{to:pe.link,className:"block px-4 py-2 text-gray-200 hover:bg-gray-800 rounded-lg transition-colors duration-200",onClick:()=>{e(!1),s(!1),l(!1)},"aria-label":pe.name,children:pe.name})},pe.id)),v.jsxs("li",{className:"relative",children:[v.jsxs("div",{className:"flex items-center gap-1 px-4 py-2 text-gray-200 hover:bg-gray-800 rounded-lg cursor-pointer transition-colors duration-200",onClick:st,"aria-label":"Toggle trending menu",children:["Trending",v.jsx(i1,{className:`transition-transform duration-200 ${n?"rotate-180":""}`})]}),v.jsx("div",{className:`pl-4 ${n?"block":"hidden"} transition-all duration-200`,children:v.jsx("ul",{className:"flex flex-col gap-1",children:pO.map(pe=>v.jsx("li",{children:v.jsx(Zt,{to:pe.link,className:"block px-4 py-2 text-gray-200 hover:bg-gray-800 rounded-lg transition-colors duration-200",onClick:()=>{e(!1),s(!1),l(!1)},"aria-label":pe.name,children:pe.name})},pe.id))})})]}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>{he(),e(!1)},className:"w-full text-left px-4 py-2 text-gray-200 hover:bg-gray-800 rounded-lg flex items-center gap-2 transition-colors duration-200","aria-label":"View orders",children:[v.jsx(o1,{className:"text-lg"}),v.jsx("span",{children:"My Orders"}),y>0&&v.jsx("span",{className:"bg-red-500 rounded-full w-4 h-4 flex items-center justify-center text-[10px]",children:y})]})}),!Z&&v.jsx("li",{children:v.jsx(Zt,{to:"/login",className:"block px-4 py-2 text-gray-200 hover:bg-gray-800 rounded-lg transition-colors duration-200",onClick:()=>{e(!1),l(!1)},"aria-label":"Login",children:"Login"})})]})]})]}),v.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700 z-50",children:v.jsxs("div",{className:"flex justify-around items-center py-2",children:[v.jsxs(Zt,{to:"/",className:"flex flex-col items-center text-gray-200 hover:text-blue-500",onClick:()=>e(!1),"aria-label":"Home",children:[v.jsx(YN,{className:"text-lg"}),v.jsx("span",{className:"text-xs",children:"Home"})]}),v.jsxs("button",{onClick:re,className:"flex flex-col items-center text-gray-200 hover:text-blue-500 relative","aria-label":"View wishlist",children:[v.jsx(eg,{className:"text-lg"}),m>0&&v.jsx("span",{className:"absolute top-[-4px] right-[-8px] bg-red-500 rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]",children:m}),v.jsx("span",{className:"text-xs",children:"Wishlist"})]}),v.jsxs("button",{onClick:U,className:"flex flex-col items-center text-gray-200 hover:text-blue-500 relative","aria-label":"View cart",children:[v.jsx(a1,{className:"text-lg"}),c>0&&v.jsx("span",{className:"absolute top-[-4px] right-[-8px] bg-red-500 rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]",children:c}),v.jsx("span",{className:"text-xs",children:"Cart"})]}),v.jsxs("div",{className:"relative",ref:D,children:[v.jsxs("button",{onClick:ce,className:"flex flex-col items-center text-gray-200 hover:text-blue-500","aria-label":"Profile menu",children:[Z&&Z.photoURL?v.jsx("img",{src:Z.photoURL,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):v.jsx("img",{src:"https://via.placeholder.com/32",alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}),v.jsx("span",{className:"text-xs",children:Z?"Profile":"Login"})]}),v.jsx("div",{className:`absolute bottom-12 right-0 w-40 bg-gray-800 rounded-lg shadow-xl py-2 transition-all duration-200 ease-in-out z-50 ${a?"opacity-100 scale-y-100":"opacity-0 scale-y-0"} origin-bottom`,children:Z?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{le(),l(!1)},className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",children:"My Profile"}),v.jsx("button",{onClick:()=>{ye(),l(!1)},className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",children:"Settings"}),v.jsx("button",{onClick:()=>{Re(),l(!1)},className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",children:"Logout"})]}):v.jsx(Zt,{to:"/login",className:"block px-3 py-1.5 text-sm text-gray-200 hover:bg-gray-700 w-full text-left",onClick:()=>{e(!1),l(!1)},children:"Login"})})]})]})}),$.show&&v.jsx("div",{className:"fixed bottom-16 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-slide-up",children:$.message})]}),v.jsx(pE,{context:{addToCart:X,removeFromCart:ae,addToWishlist:fe,removeFromWishlist:ke,cartItems:O,wishlistItems:K,user:Z,handleLogin:Pn}})]})},Gy=N.createContext({});function Yy(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ky=typeof window<"u",W2=Ky?N.useLayoutEffect:N.useEffect,mf=N.createContext(null),Xy=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class yO extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vO({children:t,isPresent:e,anchorX:n}){const s=N.useId(),a=N.useRef(null),l=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=N.useContext(Xy);return N.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:y,right:b}=l.current;if(e||!a.current||!d||!m)return;const E=n==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=s;const A=document.createElement("style");return c&&(A.nonce=c),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[e]),v.jsx(yO,{isPresent:e,childRef:a,sizeRef:l,children:N.cloneElement(t,{ref:a})})}const _O=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d})=>{const m=Yy(bO),p=N.useId();let y=!0,b=N.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:E=>{m.set(E,!0);for(const A of m.values())if(!A)return;s&&s()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,s]);return l&&y&&(b={...b}),N.useMemo(()=>{m.forEach((E,A)=>m.set(A,!1))},[n]),N.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=v.jsx(vO,{isPresent:n,anchorX:d,children:t})),v.jsx(mf.Provider,{value:b,children:t})};function bO(){return new Map}function Q2(t=!0){const e=N.useContext(mf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Wh=t=>t.key||"";function kx(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const xO=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left"})=>{const[m,p]=Q2(c),y=N.useMemo(()=>kx(t),[t]),b=c&&!m?[]:y.map(Wh),E=N.useRef(!0),A=N.useRef(y),C=Yy(()=>new Map),[V,O]=N.useState(y),[R,K]=N.useState(y);W2(()=>{E.current=!1,A.current=y;for(let M=0;M<R.length;M++){const $=Wh(R[M]);b.includes($)?C.delete($):C.get($)!==!0&&C.set($,!1)}},[R,b.length,b.join("-")]);const q=[];if(y!==V){let M=[...y];for(let $=0;$<R.length;$++){const P=R[$],S=Wh(P);b.includes(S)||(M.splice($,0,P),q.push(P))}return l==="wait"&&q.length&&(M=q),K(kx(M)),O(y),null}const{forceRender:Z}=N.useContext(Gy);return v.jsx(v.Fragment,{children:R.map(M=>{const $=Wh(M),P=c&&!m?!1:y===R||b.includes($),S=()=>{if(C.has($))C.set($,!0);else return;let D=!0;C.forEach(L=>{L||(D=!1)}),D&&(Z==null||Z(),K(A.current),c&&(p==null||p()),s&&s())};return v.jsx(_O,{isPresent:P,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:P?void 0:S,anchorX:d,children:M},$)})})};function Jy(t,e){t.indexOf(e)===-1&&t.push(e)}function Wy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let $2=()=>{};const Ag={useManualTiming:!1};function Qy(t){let e;return()=>(e===void 0&&(e=t()),e)}const $n=t=>t,Ku=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class $y{constructor(){this.subscriptions=[]}add(e){return Jy(this.subscriptions,e),()=>Wy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mi=t=>t*1e3,Pi=t=>t/1e3;function Z2(t,e){return e?t*(1e3/e):0}const TO=Qy(()=>window.ScrollTimeline!==void 0);class EO{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(TO()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wO extends EO{then(e,n){return this.finished.finally(e).then(()=>{})}}const Vx={value:null},Zy=t=>Array.isArray(t)&&typeof t[0]=="number",SO={};function AO(t,e){const n=Qy(t);return()=>SO[e]??n()}const Xu=AO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eS=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(l/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Au=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Cg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Au([0,.65,.55,1]),circOut:Au([.55,0,1,.45]),backIn:Au([.31,.01,.66,-.59]),backOut:Au([.33,1.53,.69,.99])};function tS(t,e){if(t)return typeof t=="function"&&Xu()?eS(t,e):Zy(t)?Au(t):Array.isArray(t)?t.map(n=>tS(n,e)||Cg.easeOut):Cg[t]}function CO(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const b=tS(d,a);return Array.isArray(b)&&(y.easing=b),t.animate(y,{delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:p})}function e0(t){return typeof t=="function"&&"applyToOptions"in t}function t0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const zd=2e4;function n0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<zd;)e+=n,s=t.next(e);return e>=zd?1/0:e}function IO(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(n0(s),zd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Pi(a)}}function nS(t){return!!(typeof t=="function"&&Xu()||!t||typeof t=="string"&&(t in Cg||Xu())||Zy(t)||Array.isArray(t)&&t.every(nS))}function jx(t,e){t.timeline=e,t.onfinish=null}const Qh=["read","resolveKeyframes","update","preRender","render","postRender"];function NO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function p(b){c.has(b)&&(y.schedule(b),t()),m++,b(d)}const y={schedule:(b,E=!1,A=!1)=>{const V=A&&a?n:s;return E&&c.add(b),V.has(b)||V.add(b),b},cancel:b=>{s.delete(b),c.delete(b)},process:b=>{if(d=b,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),e&&Vx.value&&Vx.value.frameloop[e].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(b))}};return y}const RO=40;function iS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Qh.reduce((R,K)=>(R[K]=NO(l,e?K:void 0),R),{}),{read:d,resolveKeyframes:m,update:p,preRender:y,render:b,postRender:E}=c,A=()=>{const R=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(R-a.timestamp,RO),1),a.timestamp=R,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),b.process(a),E.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(A))},C=()=>{n=!0,s=!0,a.isProcessing||t(A)};return{schedule:Qh.reduce((R,K)=>{const q=c[K];return R[K]=(Z,M=!1,$=!1)=>(n||C(),q.schedule(Z,M,$)),R},{}),cancel:R=>{for(let K=0;K<Qh.length;K++)c[Qh[K]].cancel(R)},state:a,steps:c}}const{schedule:i0}=iS(queueMicrotask,!1),{schedule:at,cancel:Tr,state:$t,steps:Up}=iS(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let dd;function DO(){dd=void 0}const Oi={now:()=>(dd===void 0&&Oi.set($t.isProcessing||Ag.useManualTiming?$t.timestamp:performance.now()),dd),set:t=>{dd=t,queueMicrotask(DO)}},oi={x:!1,y:!1};function sS(){return oi.x||oi.y}function MO(t){return t==="x"||t==="y"?oi[t]?null:(oi[t]=!0,()=>{oi[t]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}function PO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function rS(t,e){const n=PO(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Lx(t){return!(t.pointerType==="touch"||sS())}function OO(t,e,n={}){const[s,a,l]=rS(t,n),c=d=>{if(!Lx(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=b=>{Lx(b)&&(p(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const aS=(t,e)=>e?t===e?!0:aS(t,e.parentElement):!1,s0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VO(t){return kO.has(t.tagName)||t.tabIndex!==-1}const Cu=new WeakSet;function Ux(t){return e=>{e.key==="Enter"&&t(e)}}function zp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jO=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Ux(()=>{if(Cu.has(n))return;zp(n,"down");const a=Ux(()=>{zp(n,"up")}),l=()=>zp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function zx(t){return s0(t)&&!sS()}function LO(t,e,n={}){const[s,a,l]=rS(t,n),c=d=>{const m=d.currentTarget;if(!zx(d)||Cu.has(m))return;Cu.add(m);const p=e(m,d),y=(A,C)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",E),!(!zx(A)||!Cu.has(m))&&(Cu.delete(m),typeof p=="function"&&p(A,{success:C}))},b=A=>{y(A,m===window||m===document||n.useGlobalTarget||aS(m,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d instanceof HTMLElement&&(d.addEventListener("focus",p=>jO(p,a)),!VO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}const Bx=30,UO=t=>!isNaN(parseFloat(t));class zO{constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=Oi.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Oi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $y);const s=this.events[e].add(n);return e==="change"?()=>{s(),at.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Oi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bx);return Z2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ju(t,e){return new zO(t,e)}const oS=N.createContext({strict:!1}),Fx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const t in Fx)Xo[t]={isEnabled:e=>Fx[t].some(n=>!!e[n])};function BO(t){for(const e in t)Xo[e]={...Xo[e],...t[e]}}const FO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FO.has(t)}let lS=t=>!Bd(t);function qO(t){t&&(lS=e=>e.startsWith("on")?!Bd(e):t(e))}try{qO(require("@emotion/is-prop-valid").default)}catch{}function HO(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(lS(a)||n===!0&&Bd(a)||!e&&!Bd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function GO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const pf=N.createContext({});function gf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wu(t){return typeof t=="string"||Array.isArray(t)}const r0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a0=["initial",...r0];function yf(t){return gf(t.animate)||a0.some(e=>Wu(t[e]))}function uS(t){return!!(yf(t)||t.variants)}function YO(t,e){if(yf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Wu(n)?n:void 0,animate:Wu(s)?s:void 0}}return t.inherit!==!1?e:{}}function KO(t){const{initial:e,animate:n}=YO(t,N.useContext(pf));return N.useMemo(()=>({initial:e,animate:n}),[qx(e),qx(n)])}function qx(t){return Array.isArray(t)?t.join(" "):t}const XO=Symbol.for("motionComponentSymbol");function No(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JO(t,e,n){return N.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):No(n)&&(n.current=s))},[e])}const o0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WO="framerAppearId",cS="data-"+o0(WO),hS=N.createContext({});function QO(t,e,n,s,a){var V,O;const{visualElement:l}=N.useContext(pf),c=N.useContext(oS),d=N.useContext(mf),m=N.useContext(Xy).reducedMotion,p=N.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,b=N.useContext(hS);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&$O(p.current,n,a,b);const E=N.useRef(!1);N.useInsertionEffect(()=>{y&&E.current&&y.update(n,d)});const A=n[cS],C=N.useRef(!!A&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,A))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,A)));return W2(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),i0.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),N.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,A)}),C.current=!1))}),y}function $O(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&No(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function dS(t){if(t)return t.options.allowProjection!==!1?t.projection:dS(t.parent)}function ZO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&BO(t);function l(d,m){let p;const y={...N.useContext(Xy),...d,layoutId:ek(d)},{isStatic:b}=y,E=KO(d),A=s(d,b);if(!b&&Ky){tk();const C=nk(y);p=C.MeasureLayout,E.visualElement=QO(a,A,y,e,C.ProjectionNode)}return v.jsxs(pf.Provider,{value:E,children:[p&&E.visualElement?v.jsx(p,{visualElement:E.visualElement,...y}):null,n(a,d,JO(A,E.visualElement,m),A,b,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=N.forwardRef(l);return c[XO]=a,c}function ek({layoutId:t}){const e=N.useContext(Gy).id;return e&&t!==void 0?e+"-"+t:t}function tk(t,e){N.useContext(oS).strict}function nk(t){const{drag:e,layout:n}=Xo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const fS=t=>e=>typeof e=="string"&&e.startsWith(t),l0=fS("--"),ik=fS("var(--"),u0=t=>ik(t)?sk.test(t.split("/*")[0].trim()):!1,sk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qu={};function rk(t){for(const e in t)Qu[e]=t[e],l0(e)&&(Qu[e].isCSSVariable=!0)}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ia=new Set(sl);function mS(t,{layout:e,layoutId:n}){return Ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qu[t]||t==="opacity")}const hn=t=>!!(t&&t.getVelocity),pS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,As=(t,e,n)=>n>e?e:n<t?t:n,rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$u={...rl,transform:t=>As(0,1,t)},$h={...rl,default:1},pc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rr=pc("deg"),ki=pc("%"),Te=pc("px"),ak=pc("vh"),ok=pc("vw"),Hx={...ki,parse:t=>ki.parse(t)/100,transform:t=>ki.transform(t*100)},lk={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},uk={rotate:rr,rotateX:rr,rotateY:rr,rotateZ:rr,scale:$h,scaleX:$h,scaleY:$h,scaleZ:$h,skew:rr,skewX:rr,skewY:rr,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:$u,originX:Hx,originY:Hx,originZ:Te},Gx={...rl,transform:Math.round},c0={...lk,...uk,zIndex:Gx,size:Te,fillOpacity:$u,strokeOpacity:$u,numOctaves:Gx},ck={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hk=sl.length;function dk(t,e,n){let s="",a=!0;for(let l=0;l<hk;l++){const c=sl[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=pS(d,c0[c]);if(!m){a=!1;const y=ck[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function h0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(Ia.has(m)){c=!0;continue}else if(l0(m)){a[m]=p;continue}else{const y=pS(p,c0[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=dk(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const d0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gS(t,e,n){for(const s in e)!hn(e[s])&&!mS(s,n)&&(t[s]=e[s])}function fk({transformTemplate:t},e){return N.useMemo(()=>{const n=d0();return h0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mk(t,e){const n=t.style||{},s={};return gS(s,n,t),Object.assign(s,fk(t,e)),s}function pk(t,e){const n={},s=mk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const gk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(t){return typeof t!="string"||t.includes("-")?!1:!!(gk.indexOf(t)>-1||/[A-Z]/u.test(t))}const yk={offset:"stroke-dashoffset",array:"stroke-dasharray"},vk={offset:"strokeDashoffset",array:"strokeDasharray"};function _k(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?yk:vk;t[l.offset]=Te.transform(-s);const c=Te.transform(e),d=Te.transform(n);t[l.array]=`${c} ${d}`}function Yx(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function bk(t,e,n){const s=Yx(e,t.x,t.width),a=Yx(n,t.y,t.height);return`${s} ${a}`}function m0(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:m=0,...p},y,b){if(h0(t,p,b),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:A,dimensions:C}=t;E.transform&&(C&&(A.transform=E.transform),delete E.transform),C&&(a!==void 0||l!==void 0||A.transform)&&(A.transformOrigin=bk(C,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),c!==void 0&&_k(E,c,d,m,!1)}const yS=()=>({...d0(),attrs:{}}),p0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xk(t,e,n,s){const a=N.useMemo(()=>{const l=yS();return m0(l,e,p0(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};gS(l,t.style,t),a.style={...l,...a.style}}return a}function Tk(t=!1){return(n,s,a,{latestValues:l},c)=>{const m=(f0(n)?xk:pk)(s,l,c,n),p=HO(s,typeof n=="string",t),y=n!==N.Fragment?{...p,...m,ref:a}:{},{children:b}=s,E=N.useMemo(()=>hn(b)?b.get():b,[b]);return N.createElement(n,{...y,children:E})}}function Kx(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function g0(t,e,n,s){if(typeof e=="function"){const[a,l]=Kx(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Kx(s);e=e(n!==void 0?n:t.custom,a,l)}return e}const Ig=t=>Array.isArray(t),Ek=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wk=t=>Ig(t)?t[t.length-1]||0:t;function fd(t){const e=hn(t)?t.get():t;return Ek(e)?e.toValue():e}function Sk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,l){const c={latestValues:Ak(s,a,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:s,current:d,...c}),c.onUpdate=d=>n(d)),c}const vS=t=>(e,n)=>{const s=N.useContext(pf),a=N.useContext(mf),l=()=>Sk(t,e,s,a);return n?l():Yy(l)};function Ak(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=fd(l[E]);let{initial:c,animate:d}=t;const m=yf(t),p=uS(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const b=y?d:c;if(b&&typeof b!="boolean"&&!gf(b)){const E=Array.isArray(b)?b:[b];for(let A=0;A<E.length;A++){const C=g0(t,E[A]);if(C){const{transitionEnd:V,transition:O,...R}=C;for(const K in R){let q=R[K];if(Array.isArray(q)){const Z=y?q.length-1:0;q=q[Z]}q!==null&&(a[K]=q)}for(const K in V)a[K]=V[K]}}}return a}function y0(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(hn(s[c])||e.style&&hn(e.style[c])||mS(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const Ck={useVisualState:vS({scrapeMotionValuesFromProps:y0,createRenderState:d0})};function _S(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function bS(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const xS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TS(t,e,n,s){bS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(xS.has(a)?a:o0(a),e.attrs[a])}function ES(t,e,n){const s=y0(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const Xx=["x","y","width","height","cx","cy","r"],Ik={useVisualState:vS({scrapeMotionValuesFromProps:ES,createRenderState:yS,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in a)if(Ia.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<Xx.length;d++){const m=Xx[d];t[m]!==e[m]&&(c=!0)}c&&at.read(()=>{_S(n,s),at.render(()=>{m0(s,a,p0(n.tagName),t.transformTemplate),TS(n,s)})})}})};function Nk(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...f0(s)?Ik:Ck,preloadedFeatures:t,useRender:Tk(a),createVisualElement:e,Component:s};return ZO(c)}}function Zu(t,e,n){const s=t.getProps();return g0(s,e,n!==void 0?n:s.custom,t)}const wS=new Set(["width","height","top","left","right","bottom",...sl]);function Rk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ju(n))}function Dk(t,e){const n=Zu(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=wk(l[c]);Rk(t,c,d)}}function Mk(t){return!!(hn(t)&&t.add)}function Ng(t,e){const n=t.getValue("willChange");if(Mk(n))return n.add(e);if(!n&&Ag.WillChange){const s=new Ag.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function SS(t){return t.props[cS]}const AS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Pk=1e-7,Ok=12;function kk(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=AS(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>Pk&&++d<Ok);return c}function gc(t,e,n,s){if(t===e&&n===s)return $n;const a=l=>kk(l,0,1,t,n);return l=>l===0||l===1?l:AS(a(l),e,s)}const CS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IS=t=>e=>1-t(1-e),NS=gc(.33,1.53,.69,.99),v0=IS(NS),RS=CS(v0),DS=t=>(t*=2)<1?.5*v0(t):.5*(2-Math.pow(2,-10*(t-1))),_0=t=>1-Math.sin(Math.acos(t)),MS=IS(_0),PS=CS(_0),OS=t=>/^0[^.\s]+$/u.test(t);function Vk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OS(t):!0}const Pu=t=>Math.round(t*1e5)/1e5,b0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jk(t){return t==null}const Lk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x0=(t,e)=>n=>!!(typeof n=="string"&&Lk.test(n)&&n.startsWith(t)||e&&!jk(n)&&Object.prototype.hasOwnProperty.call(n,e)),kS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(b0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Uk=t=>As(0,255,t),Bp={...rl,transform:t=>Math.round(Uk(t))},da={test:x0("rgb","red"),parse:kS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Bp.transform(t)+", "+Bp.transform(e)+", "+Bp.transform(n)+", "+Pu($u.transform(s))+")"};function zk(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Rg={test:x0("#"),parse:zk,transform:da.transform},Ro={test:x0("hsl","hue"),parse:kS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ki.transform(Pu(e))+", "+ki.transform(Pu(n))+", "+Pu($u.transform(s))+")"},ln={test:t=>da.test(t)||Rg.test(t)||Ro.test(t),parse:t=>da.test(t)?da.parse(t):Ro.test(t)?Ro.parse(t):Rg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?da.transform(t):Ro.transform(t)},Bk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fk(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(b0))==null?void 0:e.length)||0)+(((n=t.match(Bk))==null?void 0:n.length)||0)>0}const VS="number",jS="color",qk="var",Hk="var(",Jx="${}",Gk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(Gk,m=>(ln.test(m)?(s.color.push(l),a.push(jS),n.push(ln.parse(m))):m.startsWith(Hk)?(s.var.push(l),a.push(qk),n.push(m)):(s.number.push(l),a.push(VS),n.push(parseFloat(m))),++l,Jx)).split(Jx);return{values:n,split:d,indexes:s,types:a}}function LS(t){return ec(t).values}function US(t){const{split:e,types:n}=ec(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===VS?l+=Pu(a[c]):d===jS?l+=ln.transform(a[c]):l+=a[c]}return l}}const Yk=t=>typeof t=="number"?0:t;function Kk(t){const e=LS(t);return US(t)(e.map(Yk))}const Er={test:Fk,parse:LS,createTransformer:US,getAnimatableNone:Kk},Xk=new Set(["brightness","contrast","saturate","opacity"]);function Jk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(b0)||[];if(!s)return t;const a=n.replace(s,"");let l=Xk.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const Wk=/\b([a-z-]*)\(.*?\)/gu,Dg={...Er,getAnimatableNone:t=>{const e=t.match(Wk);return e?e.map(Jk).join(" "):t}},Qk={...c0,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Dg,WebkitFilter:Dg},zS=t=>Qk[t];function BS(t,e){let n=zS(t);return n!==Dg&&(n=Er),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $k=new Set(["auto","none","0"]);function Zk(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!$k.has(l)&&ec(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=BS(n,a)}const fa=t=>t*180/Math.PI,Mg=t=>{const e=fa(Math.atan2(t[1],t[0]));return Pg(e)},eV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mg,rotateZ:Mg,skewX:t=>fa(Math.atan(t[1])),skewY:t=>fa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Pg=t=>(t=t%360,t<0&&(t+=360),t),Wx=Mg,Qx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$x=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qx,scaleY:$x,scale:t=>(Qx(t)+$x(t))/2,rotateX:t=>Pg(fa(Math.atan2(t[6],t[5]))),rotateY:t=>Pg(fa(Math.atan2(-t[2],t[0]))),rotateZ:Wx,rotate:Wx,skewX:t=>fa(Math.atan(t[4])),skewY:t=>fa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zx(t){return t.includes("scale")?1:0}function Og(t,e){if(!t||t==="none")return Zx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=tV,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=eV,a=d}if(!a)return Zx(e);const l=s[e],c=a[1].split(",").map(iV);return typeof l=="function"?l(c):c[l]}const nV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Og(n,e)};function iV(t){return parseFloat(t.trim())}const eT=t=>t===rl||t===Te,sV=new Set(["x","y","z"]),rV=sl.filter(t=>!sV.has(t));function aV(t){const e=[];return rV.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Jo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Og(e,"x"),y:(t,{transform:e})=>Og(e,"y")};Jo.translateX=Jo.x;Jo.translateY=Jo.y;const ga=new Set;let kg=!1,Vg=!1;function FS(){if(Vg){const t=Array.from(ga).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=aV(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vg=!1,kg=!1,ga.forEach(t=>t.complete()),ga.clear()}function qS(){ga.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vg=!0)})}function oV(){qS(),FS()}class T0{constructor(e,n,s,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ga.add(this),kg||(kg=!0,at.read(qS),at.resolveKeyframes(FS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const m=s.readValue(n,d);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=d),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ga.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ga.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const HS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),lV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uV(t){const e=lV.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function GS(t,e,n=1){const[s,a]=uV(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return HS(c)?parseFloat(c):c}return u0(a)?GS(a,e,n+1):a}const YS=t=>e=>e.test(t),cV={test:t=>t==="auto",parse:t=>t},KS=[rl,Te,ki,rr,ok,ak,cV],tT=t=>KS.find(YS(t));class XS extends T0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),u0(p))){const y=GS(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!wS.has(s)||e.length!==2)return;const[a,l]=e,c=tT(a),d=tT(l);if(c!==d)if(eT(c)&&eT(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)Vk(e[a])&&s.push(a);s.length&&Zk(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Jo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const nT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Er.test(t)||t==="0")&&!t.startsWith("url("));function hV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dV(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=nT(a,e),d=nT(l,e);return!c||!d?!1:hV(t)||(n==="spring"||e0(n))&&s}const fV=t=>t!==null;function vf(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(fV),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const mV=40;class JS{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Oi.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oV(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Oi.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:c,onComplete:d,onUpdate:m,isGenerator:p}=this.options;if(!p&&!dV(e,s,a,l))if(c)this.options.duration=0;else{m&&m(vf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,n)=>t+(e-t)*n;function Fp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pV({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=Fp(m,d,t+1/3),l=Fp(m,d,t),c=Fp(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Fd(t,e){return n=>n>0?e:t}const qp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},gV=[Rg,da,Ro],yV=t=>gV.find(e=>e.test(t));function iT(t){const e=yV(t);if(!e)return!1;let n=e.parse(t);return e===Ro&&(n=pV(n)),n}const sT=(t,e)=>{const n=iT(t),s=iT(e);if(!n||!s)return Fd(t,e);const a={...n};return l=>(a.red=qp(n.red,s.red,l),a.green=qp(n.green,s.green,l),a.blue=qp(n.blue,s.blue,l),a.alpha=ht(n.alpha,s.alpha,l),da.transform(a))},vV=(t,e)=>n=>e(t(n)),yc=(...t)=>t.reduce(vV),jg=new Set(["none","hidden"]);function _V(t,e){return jg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bV(t,e){return n=>ht(t,e,n)}function E0(t){return typeof t=="number"?bV:typeof t=="string"?u0(t)?Fd:ln.test(t)?sT:EV:Array.isArray(t)?WS:typeof t=="object"?ln.test(t)?sT:xV:Fd}function WS(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>E0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function xV(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=E0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function TV(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const EV=(t,e)=>{const n=Er.createTransformer(e),s=ec(t),a=ec(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?jg.has(t)&&!a.values.length||jg.has(e)&&!s.values.length?_V(t,e):yc(WS(TV(s,a),a.values),n):Fd(t,e)};function QS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):E0(t)(t,e)}const wV=5;function $S(t,e,n){const s=Math.max(e-wV,0);return Z2(n-t(s),e-s)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rT=.001;function SV({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:s=yt.mass}){let a,l,c=1-e;c=As(yt.minDamping,yt.maxDamping,c),t=As(yt.minDuration,yt.maxDuration,Pi(t)),c<1?(a=p=>{const y=p*c,b=y*t,E=y-n,A=Lg(p,c),C=Math.exp(-b);return rT-E/A*C},l=p=>{const b=p*c*t,E=b*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,C=Math.exp(-b),V=Lg(Math.pow(p,2),c);return(-a(p)+rT>0?-1:1)*((E-A)*C)/V}):(a=p=>{const y=Math.exp(-p*t),b=(p-n)*t+1;return-.001+y*b},l=p=>{const y=Math.exp(-p*t),b=(n-p)*(t*t);return y*b});const d=5/t,m=CV(a,l,d);if(t=Mi(t),isNaN(m))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const AV=12;function CV(t,e,n){let s=n;for(let a=1;a<AV;a++)s=s-t(s)/e(s);return s}function Lg(t,e){return t*Math.sqrt(1-e*e)}const IV=["duration","bounce"],NV=["stiffness","damping","mass"];function aT(t,e){return e.some(n=>t[n]!==void 0)}function RV(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!aT(t,NV)&&aT(t,IV))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*As(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yt.mass,stiffness:a,damping:l}}else{const n=SV(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function qd(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:b,velocity:E,isResolvedFromDuration:A}=RV({...n,velocity:-Pi(n.velocity||0)}),C=E||0,V=p/(2*Math.sqrt(m*y)),O=c-l,R=Pi(Math.sqrt(m/y)),K=Math.abs(O)<5;s||(s=K?yt.restSpeed.granular:yt.restSpeed.default),a||(a=K?yt.restDelta.granular:yt.restDelta.default);let q;if(V<1){const M=Lg(R,V);q=$=>{const P=Math.exp(-V*R*$);return c-P*((C+V*R*O)/M*Math.sin(M*$)+O*Math.cos(M*$))}}else if(V===1)q=M=>c-Math.exp(-R*M)*(O+(C+R*O)*M);else{const M=R*Math.sqrt(V*V-1);q=$=>{const P=Math.exp(-V*R*$),S=Math.min(M*$,300);return c-P*((C+V*R*O)*Math.sinh(S)+M*O*Math.cosh(S))/M}}const Z={calculatedDuration:A&&b||null,next:M=>{const $=q(M);if(A)d.done=M>=b;else{let P=0;V<1&&(P=M===0?Mi(C):$S(q,M,$));const S=Math.abs(P)<=s,D=Math.abs(c-$)<=a;d.done=S&&D}return d.value=d.done?c:$,d},toString:()=>{const M=Math.min(n0(Z),zd),$=eS(P=>Z.next(M*P).value,M,30);return M+"ms "+$},toTransition:()=>{}};return Z}qd.applyToOptions=t=>{const e=IO(t,100,qd);return t.ease=Xu()?e.ease:"easeOut",t.duration=Mi(e.duration),t.type="keyframes",t};function oT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const b=t[0],E={done:!1,value:b},A=S=>d!==void 0&&S<d||m!==void 0&&S>m,C=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let V=n*e;const O=b+V,R=c===void 0?O:c(O);R!==O&&(V=R-b);const K=S=>-V*Math.exp(-S/s),q=S=>R+K(S),Z=S=>{const D=K(S),L=q(S);E.done=Math.abs(D)<=p,E.value=E.done?R:L};let M,$;const P=S=>{A(E.value)&&(M=S,$=qd({keyframes:[E.value,C(E.value)],velocity:$S(q,S,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return P(0),{calculatedDuration:null,next:S=>{let D=!1;return!$&&M===void 0&&(D=!0,Z(S),P(S)),M!==void 0&&S>=M?$.next(S-M):(!D&&Z(S),E)}}}const DV=gc(.42,0,1,1),MV=gc(0,0,.58,1),ZS=gc(.42,0,.58,1),PV=t=>Array.isArray(t)&&typeof t[0]!="number",OV={linear:$n,easeIn:DV,easeInOut:ZS,easeOut:MV,circIn:_0,circInOut:PS,circOut:MS,backIn:v0,backInOut:RS,backOut:NS,anticipate:DS},lT=t=>{if(Zy(t)){$2(t.length===4);const[e,n,s,a]=t;return gc(e,n,s,a)}else if(typeof t=="string")return OV[t];return t};function kV(t,e,n){const s=[],a=n||QS,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||$n:e;d=yc(m,d)}s.push(d)}return s}function VV(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if($2(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=kV(e,s,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const E=Ku(t[b],t[b+1],y);return d[b](E)};return n?y=>p(As(t[0],t[l-1],y)):p}function jV(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Ku(0,e,s);t.push(ht(n,1,a))}}function LV(t){const e=[0];return jV(e,t.length-1),e}function UV(t,e){return t.map(n=>n*e)}function zV(t,e){return t.map(()=>e||ZS).splice(0,t.length-1)}function Hd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=PV(s)?s.map(lT):lT(s),l={done:!1,value:e[0]},c=UV(n&&n.length===e.length?n:LV(e),t),d=VV(c,e,{ease:Array.isArray(a)?a:zV(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const BV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>at.update(e,!0),stop:()=>Tr(e),now:()=>$t.isProcessing?$t.timestamp:Oi.now()}},FV={decay:oT,inertia:oT,tween:Hd,keyframes:Hd,spring:qd},qV=t=>t/100;class w0 extends JS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:n,motionValue:s,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||T0,d=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,d,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,d=e0(n)?n:FV[n]||Hd;let m,p;d!==Hd&&typeof e[0]!="number"&&(m=yc(qV,QS(e[0],e[1])),e=[0,100]);const y=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=n0(y));const{calculatedDuration:b}=y,E=b+a,A=E*(s+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:b,resolvedDuration:E,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:p,totalDuration:y,resolvedDuration:b}=s;if(this.startTime===null)return l.next(0);const{delay:E,repeat:A,repeatType:C,repeatDelay:V,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-E*(this.speed>=0?1:-1),K=this.speed>=0?R<0:R>y;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let q=this.currentTime,Z=l;if(A){const S=Math.min(this.currentTime,y)/b;let D=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&D--,D=Math.min(D,A+1),!!(D%2)&&(C==="reverse"?(L=1-L,V&&(L-=V/b)):C==="mirror"&&(Z=c)),q=As(0,1,L)*b}const M=K?{done:!1,value:m[0]}:Z.next(q);d&&(M.value=d(M.value));let{done:$}=M;!K&&p!==null&&($=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return P&&a!==void 0&&(M.value=vf(m,this.options,a)),O&&O(M.value),P&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Pi(e.calculatedDuration):0}get time(){return Pi(this.currentTime)}set time(e){e=Mi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=BV,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const HV=new Set(["opacity","clipPath","filter","transform"]),GV=Qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gd=10,YV=2e4;function KV(t){return e0(t.type)||t.type==="spring"||!nS(t.ease)}function XV(t,e){const n=new w0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let l=0;for(;!s.done&&l<YV;)s=n.sample(l),a.push(s.value),l+=Gd;return{times:void 0,keyframes:a,duration:l-Gd,ease:"linear"}}const eA={anticipate:DS,backInOut:RS,circInOut:PS};function JV(t){return t in eA}class uT extends JS{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new XS(l,(c,d)=>this.onKeyframesResolved(c,d),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:l,type:c,motionValue:d,name:m,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Xu()&&JV(l)&&(l=eA[l]),KV(this.options)){const{onComplete:b,onUpdate:E,motionValue:A,element:C,...V}=this.options,O=XV(e,V);e=O.keyframes,e.length===1&&(e[1]=e[0]),s=O.duration,a=O.times,l=O.ease,c="keyframes"}const y=CO(d.owner.current,m,e,{...this.options,duration:s,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(jx(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:b}=this.options;d.set(vf(e,this.options,n)),b&&b(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:s,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Pi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Pi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Mi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return $n;const{animation:s}=n;jx(s,e)}return $n}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:b,element:E,...A}=this.options,C=new w0({...A,keyframes:s,duration:a,type:l,ease:c,times:d,isGenerator:!0}),V=Mi(this.time);p.setWithVelocity(C.sample(V-Gd).value,C.sample(V).value,Gd)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=n.owner.getProps();return GV()&&s&&HV.has(s)&&(s!=="transform"||!p)&&!m&&!a&&l!=="mirror"&&c!==0&&d!=="inertia"}}const WV={type:"spring",stiffness:500,damping:25,restSpeed:10},QV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$V={type:"keyframes",duration:.8},ZV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ej=(t,{keyframes:e})=>e.length>2?$V:Ia.has(t)?t.startsWith("scale")?QV(e[1]):WV:ZV;function tj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const S0=(t,e,n,s={},a,l)=>c=>{const d=t0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Mi(m);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};tj(d)||(y={...y,...ej(t,y)}),y.duration&&(y.duration=Mi(y.duration)),y.repeatDelay&&(y.repeatDelay=Mi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(b=!0)),y.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const E=vf(y.keyframes,d);if(E!==void 0)return at.update(()=>{y.onUpdate(E),y.onComplete()}),new wO([])}return!l&&uT.supports(y)?new uT(y):new w0(y)};function nj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function tA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const b=t.getValue(y,t.latestValues[y]??null),E=d[y];if(E===void 0||p&&nj(p,y))continue;const A={delay:n,...t0(l||{},y)};let C=!1;if(window.MotionHandoffAnimation){const O=SS(t);if(O){const R=window.MotionHandoffAnimation(O,y,at);R!==null&&(A.startTime=R,C=!0)}}Ng(t,y),b.start(S0(y,b,E,t.shouldReduceMotion&&wS.has(y)?{type:!1}:A,t,C));const V=b.animation;V&&m.push(V)}return c&&Promise.all(m).then(()=>{at.update(()=>{c&&Dk(t,c)})}),m}function Ug(t,e,n={}){var m;const s=Zu(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(tA(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:b,staggerDirection:E}=a;return ij(t,e,y+p,b,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,y]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function ij(t,e,n=0,s=0,a=1,l){const c=[],d=(t.variantChildren.size-1)*s,m=a===1?(p=0)=>p*s:(p=0)=>d-p*s;return Array.from(t.variantChildren).sort(sj).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(Ug(p,e,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function sj(t,e){return t.sortNodePosition(e)}function rj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ug(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ug(t,e,n);else{const a=typeof e=="function"?Zu(t,e,n.custom):e;s=Promise.all(tA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function nA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const aj=a0.length;function iA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<aj;n++){const s=a0[n],a=t.props[s];(Wu(a)||a===!1)&&(e[s]=a)}return e}const oj=[...r0].reverse(),lj=r0.length;function uj(t){return e=>Promise.all(e.map(({animation:n,options:s})=>rj(t,n,s)))}function cj(t){let e=uj(t),n=cT(),s=!0;const a=m=>(p,y)=>{var E;const b=Zu(t,y,m==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(b){const{transition:A,transitionEnd:C,...V}=b;p={...p,...V,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=iA(t.parent)||{},b=[],E=new Set;let A={},C=1/0;for(let O=0;O<lj;O++){const R=oj[O],K=n[R],q=p[R]!==void 0?p[R]:y[R],Z=Wu(q),M=R===m?K.isActive:null;M===!1&&(C=O);let $=q===y[R]&&q!==p[R]&&Z;if($&&s&&t.manuallyAnimateOnMount&&($=!1),K.protectedKeys={...A},!K.isActive&&M===null||!q&&!K.prevProp||gf(q)||typeof q=="boolean")continue;const P=hj(K.prevProp,q);let S=P||R===m&&K.isActive&&!$&&Z||O>C&&Z,D=!1;const L=Array.isArray(q)?q:[q];let B=L.reduce(a(R),{});M===!1&&(B={});const{prevResolvedValues:F={}}=K,j={...F,...B},st=ae=>{S=!0,E.has(ae)&&(D=!0,E.delete(ae)),K.needsAnimating[ae]=!0;const fe=t.getValue(ae);fe&&(fe.liveStyle=!1)};for(const ae in j){const fe=B[ae],ke=F[ae];if(A.hasOwnProperty(ae))continue;let U=!1;Ig(fe)&&Ig(ke)?U=!nA(fe,ke):U=fe!==ke,U?fe!=null?st(ae):E.add(ae):fe!==void 0&&E.has(ae)?st(ae):K.protectedKeys[ae]=!0}K.prevProp=q,K.prevResolvedValues=B,K.isActive&&(A={...A,...B}),s&&t.blockInitialAnimation&&(S=!1),S&&(!($&&P)||D)&&b.push(...L.map(ae=>({animation:ae,options:{type:R}})))}if(E.size){const O={};if(typeof p.initial!="boolean"){const R=Zu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);R&&R.transition&&(O.transition=R.transition)}E.forEach(R=>{const K=t.getBaseTarget(R),q=t.getValue(R);q&&(q.liveStyle=!0),O[R]=K??null}),b.push({animation:O})}let V=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),s=!1,V?e(b):Promise.resolve()}function d(m,p){var b;if(n[m].isActive===p)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cT(),s=!0}}}function hj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nA(e,t):!1}function la(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cT(){return{animate:la(!0),whileInView:la(),whileHover:la(),whileTap:la(),whileDrag:la(),whileFocus:la(),exit:la()}}class Sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dj extends Sr{constructor(e){super(e),e.animationState||(e.animationState=cj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let fj=0;class mj extends Sr{constructor(){super(...arguments),this.id=fj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pj={animation:{Feature:dj},exit:{Feature:mj}};function tc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function vc(t){return{point:{x:t.pageX,y:t.pageY}}}const gj=t=>e=>s0(e)&&t(e,vc(e));function Ou(t,e,n,s){return tc(t,e,gj(n),s)}function sA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function yj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const rA=1e-4,_j=1-rA,bj=1+rA,aA=.01,xj=0-aA,Tj=0+aA;function _n(t){return t.max-t.min}function Ej(t,e,n){return Math.abs(t-e)<=n}function hT(t,e,n,s=.5){t.origin=s,t.originPoint=ht(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_j&&t.scale<=bj||isNaN(t.scale))&&(t.scale=1),(t.translate>=xj&&t.translate<=Tj||isNaN(t.translate))&&(t.translate=0)}function ku(t,e,n,s){hT(t.x,e.x,n.x,s?s.originX:void 0),hT(t.y,e.y,n.y,s?s.originY:void 0)}function dT(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function wj(t,e,n){dT(t.x,e.x,n.x),dT(t.y,e.y,n.y)}function fT(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function Vu(t,e,n){fT(t.x,e.x,n.x),fT(t.y,e.y,n.y)}const mT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:mT(),y:mT()}),pT=()=>({min:0,max:0}),wt=()=>({x:pT(),y:pT()});function Xn(t){return[t("x"),t("y")]}function Hp(t){return t===void 0||t===1}function zg({scale:t,scaleX:e,scaleY:n}){return!Hp(t)||!Hp(e)||!Hp(n)}function ca(t){return zg(t)||oA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oA(t){return gT(t.x)||gT(t.y)}function gT(t){return t&&t!=="0%"}function Yd(t,e,n){const s=t-n,a=e*s;return n+a}function yT(t,e,n,s,a){return a!==void 0&&(t=Yd(t,a,s)),Yd(t,n,s)+e}function Bg(t,e=0,n=1,s,a){t.min=yT(t.min,e,n,s,a),t.max=yT(t.max,e,n,s,a)}function lA(t,{x:e,y:n}){Bg(t.x,e.translate,e.scale,e.originPoint),Bg(t.y,n.translate,n.scale,n.originPoint)}const vT=.999999999999,_T=1.0000000000001;function Sj(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Po(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,lA(t,c)),s&&ca(l.latestValues)&&Po(t,l.latestValues))}e.x<_T&&e.x>vT&&(e.x=1),e.y<_T&&e.y>vT&&(e.y=1)}function Mo(t,e){t.min=t.min+e,t.max=t.max+e}function bT(t,e,n,s,a=.5){const l=ht(t.min,t.max,a);Bg(t,e,n,l,s)}function Po(t,e){bT(t.x,e.x,e.scaleX,e.scale,e.originX),bT(t.y,e.y,e.scaleY,e.scale,e.originY)}function uA(t,e){return sA(vj(t.getBoundingClientRect(),e))}function Aj(t,e,n){const s=uA(t,n),{scroll:a}=e;return a&&(Mo(s.x,a.offset.x),Mo(s.y,a.offset.y)),s}const cA=({current:t})=>t?t.ownerDocument.defaultView:null,xT=(t,e)=>Math.abs(t-e);function Cj(t,e){const n=xT(t.x,e.x),s=xT(t.y,e.y);return Math.sqrt(n**2+s**2)}class hA{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Yp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=Cj(b.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:C}=b,{timestamp:V}=$t;this.history.push({...C,timestamp:V});const{onStart:O,onMove:R}=this.handlers;E||(O&&O(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,b)},this.handlePointerMove=(b,E)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Gp(E,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(b,E)=>{this.end();const{onEnd:A,onSessionEnd:C,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Yp(b.type==="pointercancel"?this.lastMoveEventInfo:Gp(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(b,O),C&&C(b,O)},!s0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=vc(e),d=Gp(c,this.transformPagePoint),{point:m}=d,{timestamp:p}=$t;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Yp(d,this.history)),this.removeListeners=yc(Ou(this.contextWindow,"pointermove",this.handlePointerMove),Ou(this.contextWindow,"pointerup",this.handlePointerUp),Ou(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tr(this.updatePoint)}}function Gp(t,e){return e?{point:e(t.point)}:t}function TT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yp({point:t},e){return{point:t,delta:TT(t,dA(e)),offset:TT(t,Ij(e)),velocity:Nj(e,.1)}}function Ij(t){return t[0]}function dA(t){return t[t.length-1]}function Nj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=dA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Mi(e)));)n--;if(!s)return{x:0,y:0};const l=Pi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Rj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ht(n,t,s.max):Math.min(t,n)),t}function ET(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Dj(t,{top:e,left:n,bottom:s,right:a}){return{x:ET(t.x,n,a),y:ET(t.y,e,s)}}function wT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Mj(t,e){return{x:wT(t.x,e.x),y:wT(t.y,e.y)}}function Pj(t,e){let n=.5;const s=_n(t),a=_n(e);return a>s?n=Ku(e.min,e.max-s,t.min):s>a&&(n=Ku(t.min,t.max-a,e.min)),As(0,1,n)}function Oj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fg=.35;function kj(t=Fg){return t===!1?t=0:t===!0&&(t=Fg),{x:ST(t,"left","right"),y:ST(t,"top","bottom")}}function ST(t,e,n){return{min:AT(t,e),max:AT(t,n)}}function AT(t,e){return typeof t=="number"?t:t[e]||0}const Vj=new WeakMap;class jj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vc(y).point)},l=(y,b)=>{const{drag:E,dragPropagation:A,onDragStart:C}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MO(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(O=>{let R=this.getAxisMotionValue(O).get()||0;if(ki.test(R)){const{projection:K}=this.visualElement;if(K&&K.layout){const q=K.layout.layoutBox[O];q&&(R=_n(q)*(parseFloat(R)/100))}}this.originPoint[O]=R}),C&&at.postRender(()=>C(y,b)),Ng(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},c=(y,b)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:C,onDrag:V}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:O}=b;if(A&&this.currentDirection===null){this.currentDirection=Lj(O),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,O),this.updateAxis("y",b.point,O),this.visualElement.render(),V&&V(y,b)},d=(y,b)=>this.stop(y,b),m=()=>Xn(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)==null?void 0:b.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new hA(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:cA(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&at.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Zh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Rj(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&No(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Dj(s.layoutBox,e):this.constraints=!1,this.elastic=kj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Oj(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!No(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Aj(s,a.root,this.visualElement.getTransformPagePoint());let c=Mj(a.layout.layoutBox,l);if(n){const d=n(yj(c));this.hasMutatedConstraints=!!d,d&&(c=sA(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Xn(y=>{if(!Zh(y,n,this.currentDirection))return;let b=m&&m[y]||{};c&&(b={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,C={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ng(this.visualElement,e),s.start(S0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:s}=this.getProps();if(!Zh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-ht(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!No(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=Pj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(c=>{if(!Zh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(ht(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;Vj.set(this.visualElement,this);const e=this.visualElement.current,n=Ou(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();No(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),at.read(s);const c=tc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xn(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Fg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Zh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Lj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Uj extends Sr{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new jj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const CT=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class zj extends Sr{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new hA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:CT(e),onStart:CT(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&at.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ou(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=IT(t,e.target.x),s=IT(t,e.target.y);return`${n}% ${s}%`}},Bj={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Er.parse(t);if(a.length>5)return s;const l=Er.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=ht(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class Fj extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;rk(qj),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||at.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),i0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fA(t){const[e,n]=Q2(),s=N.useContext(Gy);return v.jsx(Fj,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(hS),isPresent:e,safeToRemove:n})}const qj={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:Bj};function Hj(t,e,n){const s=hn(t)?t:Ju(t);return s.start(S0("",s,e,n)),s.animation}function Gj(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Yj=(t,e)=>t.depth-e.depth;class Kj{constructor(){this.children=[],this.isDirty=!1}add(e){Jy(this.children,e),this.isDirty=!0}remove(e){Wy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yj),this.isDirty=!1,this.children.forEach(e)}}function Xj(t,e){const n=Oi.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Tr(s),t(l-e))};return at.read(s,!0),()=>Tr(s)}const mA=["TopLeft","TopRight","BottomLeft","BottomRight"],Jj=mA.length,NT=t=>typeof t=="string"?parseFloat(t):t,RT=t=>typeof t=="number"||Te.test(t);function Wj(t,e,n,s,a,l){a?(t.opacity=ht(0,n.opacity??1,Qj(s)),t.opacityExit=ht(e.opacity??1,0,$j(s))):l&&(t.opacity=ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<Jj;c++){const d=`border${mA[c]}Radius`;let m=DT(e,d),p=DT(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||RT(m)===RT(p)?(t[d]=Math.max(ht(NT(m),NT(p),s),0),(ki.test(p)||ki.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,s))}function DT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Qj=pA(0,.5,MS),$j=pA(.5,.95,$n);function pA(t,e,n){return s=>s<t?0:s>e?1:n(Ku(t,e,s))}function MT(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){MT(t.x,e.x),MT(t.y,e.y)}function PT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OT(t,e,n,s,a){return t-=e,t=Yd(t,1/n,s),a!==void 0&&(t=Yd(t,1/a,s)),t}function Zj(t,e=0,n=1,s=.5,a,l=t,c=t){if(ki.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ht(l.min,l.max,s);t===l&&(d-=e),t.min=OT(t.min,e,n,d,a),t.max=OT(t.max,e,n,d,a)}function kT(t,e,[n,s,a],l,c){Zj(t,e[n],e[s],e[a],e.scale,l,c)}const e5=["x","scaleX","originX"],t5=["y","scaleY","originY"];function VT(t,e,n,s){kT(t.x,e,e5,n?n.x:void 0,s?s.x:void 0),kT(t.y,e,t5,n?n.y:void 0,s?s.y:void 0)}function jT(t){return t.translate===0&&t.scale===1}function gA(t){return jT(t.x)&&jT(t.y)}function LT(t,e){return t.min===e.min&&t.max===e.max}function n5(t,e){return LT(t.x,e.x)&&LT(t.y,e.y)}function UT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yA(t,e){return UT(t.x,e.x)&&UT(t.y,e.y)}function zT(t){return _n(t.x)/_n(t.y)}function BT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class i5{constructor(){this.members=[]}add(e){Jy(this.members,e),e.scheduleRender()}remove(e){if(Wy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function s5(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:b,rotateY:E,skewX:A,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),E&&(s+=`rotateY(${E}deg) `),A&&(s+=`skewX(${A}deg) `),C&&(s+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Kp=["","X","Y","Z"],r5={visibility:"hidden"},FT=1e3;let a5=0;function Xp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function vA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&vA(s)}function _A({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=a5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u5),this.nodes.forEach(m5),this.nodes.forEach(p5),this.nodes.forEach(c5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kj)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new $y),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Gj(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||m)&&(this.isLayoutDirty=!0),t){let b;const E=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,b&&b(),b=Xj(E,250),md.hasAnimatedSinceResize&&(md.hasAnimatedSinceResize=!1,this.nodes.forEach(HT))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||y.getDefaultTransition()||b5,{onLayoutAnimationStart:O,onLayoutAnimationComplete:R}=y.getProps(),K=!this.targetLayout||!yA(this.targetLayout,C),q=!E&&A;if(this.options.layoutRoot||this.resumeFrom||q||E&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(b,q);const Z={...t0(V,"layout"),onPlay:O,onComplete:R};(y.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else E||HT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qT);return}this.isUpdating||this.nodes.forEach(d5),this.isUpdating=!1,this.nodes.forEach(f5),this.nodes.forEach(o5),this.nodes.forEach(l5),this.clearAllSnapshots();const d=Oi.now();$t.delta=As(0,1e3/60,d-$t.timestamp),$t.timestamp=d,$t.isProcessing=!0,Up.update.process($t),Up.preRender.process($t),Up.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h5),this.sharedNodes.forEach(y5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!gA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(d||ca(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),x5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return wt();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(T5))){const{scroll:y}=this.root;y&&(Mo(d.x,y.offset.x),Mo(d.y,y.offset.y))}return d}removeElementScroll(c){var m;const d=wt();if(Yn(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:b,options:E}=y;y!==this.root&&b&&E.layoutScroll&&(b.wasRoot&&Yn(d,c),Mo(d.x,b.offset.x),Mo(d.y,b.offset.y))}return d}applyTransform(c,d=!1){const m=wt();Yn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Po(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ca(y.latestValues)&&Po(m,y.latestValues)}return ca(this.latestValues)&&Po(m,this.latestValues),m}removeTransform(c){const d=wt();Yn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ca(p.latestValues))continue;zg(p.latestValues)&&p.updateSnapshot();const y=wt(),b=p.measurePageBox();Yn(y,b),VT(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ca(this.latestValues)&&VT(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),lA(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Vu(this.relativeTargetOrigin,this.target,A.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zg(this.parent.latestValues)||oA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Yn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;Sj(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=wt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PT(this.prevProjectionDelta.x,this.projectionDelta.x),PT(this.prevProjectionDelta.y,this.projectionDelta.y)),ku(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!BT(this.projectionDelta.x,this.prevProjectionDelta.x)||!BT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},b=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=wt(),A=m?m.source:void 0,C=this.layout?this.layout.source:void 0,V=A!==C,O=this.getStack(),R=!O||O.members.length<=1,K=!!(V&&!R&&this.options.crossfade===!0&&!this.path.some(_5));this.animationProgress=0;let q;this.mixTargetDelta=Z=>{const M=Z/1e3;GT(b.x,c.x,M),GT(b.y,c.y,M),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v5(this.relativeTarget,this.relativeTargetOrigin,E,M),q&&n5(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=wt()),Yn(q,this.relativeTarget)),V&&(this.animationValues=y,Wj(y,p,this.latestValues,M,K,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{md.hasAnimatedSinceResize=!0,this.currentAnimation=Hj(0,FT,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&bA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||wt();const b=_n(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const E=_n(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Yn(d,m),Po(d,y),ku(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new i5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Xp("z",c,p,this.animationValues);for(let y=0;y<Kp.length;y++)Xp(`rotate${Kp[y]}`,c,p,this.animationValues),Xp(`skew${Kp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return r5;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=fd(c==null?void 0:c.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=fd(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=s5(this.projectionDeltaWithTransform,this.treeScale,y),m&&(d.transform=m(y,d.transform));const{x:b,y:E}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,p.animationValues?d.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const A in Qu){if(y[A]===void 0)continue;const{correct:C,applyTo:V,isCSSVariable:O}=Qu[A],R=d.transform==="none"?y[A]:C(y[A],p);if(V){const K=V.length;for(let q=0;q<K;q++)d[V[q]]=R}else O?this.options.visualElement.renderState.vars[A]=R:d[A]=R}return this.options.layoutId&&(d.pointerEvents=p===this?fd(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(qT),this.root.sharedNodes.clear()}}}function o5(t){t.updateLayout()}function l5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Xn(b=>{const E=c?e.measuredBox[b]:e.layoutBox[b],A=_n(E);E.min=s[b].min,E.max=E.min+A}):bA(l,e.layoutBox,s)&&Xn(b=>{const E=c?e.measuredBox[b]:e.layoutBox[b],A=_n(s[b]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+A)});const d=Do();ku(d,s,e.layoutBox);const m=Do();c?ku(m,t.applyTransform(a,!0),e.measuredBox):ku(m,s,e.layoutBox);const p=!gA(d);let y=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:E,layout:A}=b;if(E&&A){const C=wt();Vu(C,e.layoutBox,E.layoutBox);const V=wt();Vu(V,s,A.layoutBox),yA(C,V)||(y=!0),b.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=C,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function u5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h5(t){t.clearSnapshot()}function qT(t){t.clearMeasurements()}function d5(t){t.isLayoutDirty=!1}function f5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function m5(t){t.resolveTargetDelta()}function p5(t){t.calcProjection()}function g5(t){t.resetSkewAndRotation()}function y5(t){t.removeLeadSnapshot()}function GT(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YT(t,e,n,s){t.min=ht(e.min,n.min,s),t.max=ht(e.max,n.max,s)}function v5(t,e,n,s){YT(t.x,e.x,n.x,s),YT(t.y,e.y,n.y,s)}function _5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const b5={duration:.45,ease:[.4,0,.1,1]},KT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),XT=KT("applewebkit/")&&!KT("chrome/")?Math.round:$n;function JT(t){t.min=XT(t.min),t.max=XT(t.max)}function x5(t){JT(t.x),JT(t.y)}function bA(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ej(zT(e),zT(n),.2)}function T5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const E5=_A({attachResizeListener:(t,e)=>tc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},xA=_A({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jp.current){const t=new E5({});t.mount(window),t.setOptions({layoutScroll:!0}),Jp.current=t}return Jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w5={pan:{Feature:zj},drag:{Feature:Uj,ProjectionNode:xA,MeasureLayout:fA}};function WT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&at.postRender(()=>l(e,vc(e)))}class S5 extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=OO(e,(n,s)=>(WT(this.node,s,"Start"),a=>WT(this.node,a,"End"))))}unmount(){}}class A5 extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yc(tc(this.node.current,"focus",()=>this.onFocus()),tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&at.postRender(()=>l(e,vc(e)))}class C5 extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=LO(e,(n,s)=>(QT(this.node,s,"Start"),(a,{success:l})=>QT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qg=new WeakMap,Wp=new WeakMap,I5=t=>{const e=qg.get(t.target);e&&e(t)},N5=t=>{t.forEach(I5)};function R5({root:t,...e}){const n=t||document;Wp.has(n)||Wp.set(n,{});const s=Wp.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(N5,{root:t,...e})),s[a]}function D5(t,e,n){const s=R5(e);return qg.set(t,n),s.observe(t),()=>{qg.delete(t),s.unobserve(t)}}const M5={some:0,all:1};class P5 extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:M5[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),E=p?y:b;E&&E(m)};return D5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O5(e,n))&&this.startObserver()}unmount(){}}function O5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k5={inView:{Feature:P5},tap:{Feature:C5},focus:{Feature:A5},hover:{Feature:S5}},V5={layout:{ProjectionNode:xA,MeasureLayout:fA}},Hg={current:null},TA={current:!1};function j5(){if(TA.current=!0,!!Ky)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hg.current=t.matches;t.addListener(e),e()}else Hg.current=!1}const L5=[...KS,ln,Er],U5=t=>L5.find(YS(t)),z5=new WeakMap;function B5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(hn(a))t.addValue(s,a);else if(hn(l))t.addValue(s,Ju(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Ju(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const $T=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class F5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=T0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Oi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,at.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=yf(n),this.isVariantNode=uS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const C=E[A];m[A]!==void 0&&hn(C)&&C.set(m[A],!1)}}mount(e){this.current=e,z5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),TA.current||j5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Tr(this.notifyUpdate),Tr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ia.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&at.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xo){const n=Xo[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$T.length;s++){const a=$T[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=B5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ju(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(HS(s)||OS(s))?s=parseFloat(s):!U5(s)&&Er.test(n)&&(s=BS(e,n)),this.setBaseTarget(e,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=g0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $y),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class EA extends F5{constructor(){super(...arguments),this.KeyframeResolver=XS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function q5(t){return window.getComputedStyle(t)}class H5 extends EA{constructor(){super(...arguments),this.type="html",this.renderInstance=bS}readValueFromInstance(e,n){if(Ia.has(n))return nV(e,n);{const s=q5(e),a=(l0(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uA(e,n)}build(e,n,s){h0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return y0(e,n,s)}}class G5 extends EA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&_S(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ia.has(n)){const s=zS(n);return s&&s.default||0}return n=xS.has(n)?n:o0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ES(e,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&at.postRender(this.updateDimensions)}build(e,n,s){m0(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){TS(e,n,s,a)}mount(e){this.isSVGTag=p0(e.tagName),super.mount(e)}}const Y5=(t,e)=>f0(t)?new G5(e):new H5(e,{allowProjection:t!==N.Fragment}),K5=Nk({...pj,...k5,...w5,...V5},Y5),Kd=GO(K5);function X5(t){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function J5(t){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(t)}const _u=[{title:"Women Summer Trend Style",subtitle:"Introducing the Ambuz women’s autumn / summer Fashion",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/women.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL3dvbWVuLnBuZyIsImlhdCI6MTc0Mzc2NTI1MSwiZXhwIjoxNzc1MzAxMjUxfQ.frrCVfGi2TRwAiWPW70Far-Bfgy6dKAegR3uzsgx0rk",price:30},{title:"Fresh Looks for Every Season",subtitle:"Discover styles that match your vibe and your wardrobe.",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/shopping.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL3Nob3BwaW5nLnBuZyIsImlhdCI6MTc0Mzc2NTk0NSwiZXhwIjoxNzc1MzAxOTQ1fQ._EnPMFECfBjd65hux_MIjwoSrQOcr2ejXwBONU0vUxk",price:40},{title:"Elegant & Cool",subtitle:"Chic styles, perfect for sunny days and warm nights.",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/sale.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL3NhbGUucG5nIiwiaWF0IjoxNzQzNzY1ODMzLCJleHAiOjE3NzUzMDE4MzN9.y_wwG-Iw6cVutq7kOEeYJ7eEOkgQBvN-6IqWq7fuqa4",price:25}],W5={initial:{opacity:0,scale:1.5},animate:{opacity:1,scale:1,transition:{duration:.6,ease:"easeOut"}},exit:{opacity:0,scale:.9,transition:{duration:.4,ease:"easeIn"}}},Q5={initial:{opacity:0,x:100},animate:{opacity:1,x:0,transition:{duration:1,ease:"easeOut"}},exit:{opacity:0,x:-100,transition:{duration:.8,ease:"easeIn"}}},$5=()=>{const[t,e]=N.useState(0),n=Zn(),s=()=>e(l=>(l+1)%_u.length),a=()=>e(l=>(l-1+_u.length)%_u.length);return v.jsxs("div",{className:"relative w-full h-[500px] bg-white overflow-hidden flex items-center justify-center",children:[v.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{transform:`translateX(-${t*100}%)`},children:_u.map((l,c)=>v.jsx("div",{className:"min-w-full h-full flex items-center px-4 sm:px-6 md:px-10",children:v.jsxs("div",{className:"max-w-6xl w-full flex flex-col md:grid md:grid-cols-2 items-center gap-6 text-center md:text-left",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx(xO,{mode:"wait",children:c===t&&v.jsx(Kd.img,{src:l.image,alt:l.title,className:"w-[90%] max-h-[200px] sm:max-h-[250px] md:max-h-[350px] object-contain",variants:W5,initial:"initial",animate:"animate",exit:"exit"},l.image)})}),v.jsxs(Kd.div,{variants:Q5,initial:"initial",animate:c===t?"animate":"initial",exit:"exit",children:[v.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-5xl font-bold text-gray-900 leading-tight",children:[l.title.split(" ").slice(0,2).join(" ")," ",v.jsx("br",{}),v.jsx("span",{className:"block",children:l.title.split(" ").slice(2).join(" ")})]}),v.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-3",children:l.subtitle}),v.jsx("button",{onClick:()=>n("/product",{state:l}),className:"mt-5 bg-black text-white px-4 sm:px-5 py-2 sm:py-2.5 rounded-full hover:bg-gray-800 transition",children:"Shop Collection →"})]})]})},c))}),v.jsx("button",{onClick:a,disabled:t===0,className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-md text-white ${t===0?"bg-gray-300 cursor-not-allowed":"bg-black hover:bg-gray-800"} transition`,children:v.jsx(X5,{size:24})}),v.jsx("button",{onClick:s,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-md bg-black hover:bg-gray-800 text-white transition",children:v.jsx(J5,{size:24})}),v.jsx("div",{className:"absolute bottom-5 flex gap-2 justify-center w-full",children:_u.map((l,c)=>v.jsx("button",{onClick:()=>e(c),className:`h-2.5 w-2.5 rounded-full transition-all duration-300 ${c===t?"bg-black scale-110":"bg-gray-300"}`},c))})]})},Z5=[{title:"Worldwide Shipping",subtitle:"World Wide Free Shipping.",icon:"🌍"},{title:"Secured Payment",subtitle:"Safe & Secured Payments",icon:"💳"},{title:"30-Days Free Returns",subtitle:"Within 30 Days for an Exchange",icon:"🔄"},{title:"Surprise Gift",subtitle:"Free gift cards & vouchers",icon:"🎁"}],eL={hidden:{opacity:0,y:30},visible:t=>({opacity:1,y:0,transition:{delay:t*.5,duration:.9,ease:"easeOut"}})};function tL(){return v.jsx("div",{className:"bg-white py-10 px-4 md:px-16 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 text-center border-t border-gray-200",children:Z5.map((t,e)=>v.jsxs(Kd.div,{className:"flex flex-col items-center space-y-3",custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:eL,children:[v.jsx(Kd.div,{className:"text-4xl",children:t.icon}),v.jsx("h3",{className:"font-semibold text-lg",children:t.title}),v.jsx("p",{className:"text-gray-500 text-sm",children:t.subtitle})]},e))})}/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ZT=t=>{const e=iL(t);return e.charAt(0).toUpperCase()+e.slice(1)},wA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),sL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>N.createElement("svg",{ref:m,...rL,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:wA("lucide",a),...!l&&!sL(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>N.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=(t,e)=>{const n=N.forwardRef(({className:s,...a},l)=>N.createElement(aL,{ref:l,iconNode:e,className:wA(`lucide-${nL(ZT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=ZT(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],A0=al("chevron-left",oL);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uL=al("chevron-right",lL);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hL=al("eye",cL);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],SA=al("heart",dL);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],AA=al("share-2",fL);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pL=al("shopping-cart",mL),eE=[{title:"Kid's Fashion",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/pexels-photo-1620826.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvcGV4ZWxzLXBob3RvLTE2MjA4MjYud2VicCIsImlhdCI6MTc0NTMwOTEwMSwiZXhwIjoxNzc2ODQ1MTAxfQ.4l44LzLq-vZAcUjgGKkP-V0gNwISeeMjd01RUEjRlP4"},{title:"Men's Fashion",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/Men%20shirts.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvTWVuIHNoaXJ0cy53ZWJwIiwiaWF0IjoxNzQ1MzA5Mzg1LCJleHAiOjE3NzY4NDUzODV9.PV_wl-Tf7A_JamvGbtBxbNEJH7pIjeOnACLUCczwZtY"},{title:"New Arrivals",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/ks8dv_1200.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3UnofficialAPI:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ1bm9mZmljaWFsIiwibmJmIjoxNzI3NzE2MzkyLCJleHAiOjE3Mjc3NTk1OTIsImlzcyI6InVub2ZmaWNpYWwiLCJzaWQiOiI5YzVhNjFlNC1jODkwLTQ4NzktYjJiOC04NzVhZWE2YzZiOWEifQ.2W3gVIBN_5uTqF8IIsD6Mw3kSmjH4D2Qz2QXH2TKNfo"},{title:"Top Sale's",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/images.jpeg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvaW1hZ2VzLmpwZWciLCJpYXQiOjE3NDUzMDk2NjEsImV4cCI6MTc3Njg0NTY2MX0.BL5heLSwhkTSHK9a1bxfdjLttMTuKGb9L33NU7ustxw"}],gL="https://via.placeholder.com/300x400?text=Image+Not+Found";function yL(){const t=N.useRef(null),e=Zn(),[n,s]=N.useState(!1),[a,l]=N.useState(!0),[c,d]=N.useState(!0),[m,p]=N.useState(!1),[y,b]=N.useState(0),[E,A]=N.useState(0),C=N.useCallback(()=>{if(t.current){const{scrollLeft:Z,scrollWidth:M,clientWidth:$}=t.current;s(Z>0),l(Z<M-$-1)}},[]),V=Z=>{Z==="left"&&n?t.current.scrollBy({left:-300,behavior:"smooth"}):Z==="right"&&a&&t.current.scrollBy({left:300,behavior:"smooth"})};N.useEffect(()=>{if(!c)return;const Z=setInterval(()=>{a?V("right"):t.current.scrollTo({left:0,behavior:"smooth"})},6e3);return()=>clearInterval(Z)},[c,a]),N.useEffect(()=>{const Z=t.current;return Z.addEventListener("scroll",C),C(),()=>Z.removeEventListener("scroll",C)},[C]);const O=Z=>{p(!0),b(Z.touches[0].clientX),A(t.current.scrollLeft)},R=Z=>{if(!m)return;const M=Z.touches[0].clientX,$=(y-M)*2;t.current.scrollLeft=E+$},K=()=>{p(!1),C()},q=Z=>{console.log(`Category clicked: ${Z}`)};return v.jsxs("div",{className:"px-6 py-12 bg-white dark:bg-gray-900",onMouseEnter:()=>d(!1),onMouseLeave:()=>d(!0),children:[v.jsxs("div",{className:"flex items-center justify-between mb-10 px-2 sm:px-6",children:[v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white relative inline-block after:content-[''] after:block after:w-24 after:h-1 after:bg-black dark:after:bg-white after:mt-2",children:"Categories"}),v.jsx("button",{onClick:()=>{q("View All"),e("/categoriespage",{state:{categories:eE}})},className:"text-primary hover:underline font-medium","aria-label":"View all categories",children:"View All"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>V("left"),disabled:!n,className:`absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white dark:bg-gray-800 shadow-md p-2 rounded-full hidden md:block ${n?"":"opacity-50 cursor-not-allowed"}`,"aria-label":"Scroll categories left",children:v.jsx(A0,{className:"w-6 h-6 text-black dark:text-white"})}),v.jsx("button",{onClick:()=>V("right"),disabled:!a,className:`absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white dark:bg-gray-800 shadow-md p-2 rounded-full hidden md:block ${a?"":"opacity-50 cursor-not-allowed"}`,"aria-label":"Scroll categories right",children:v.jsx(uL,{className:"w-6 h-6 text-black dark:text-white"})}),v.jsx("div",{ref:t,className:"flex gap-6 overflow-x-auto no-scrollbar scroll-smooth px-1",onTouchStart:O,onTouchMove:R,onTouchEnd:K,role:"region","aria-label":"Category carousel",children:eE.map((Z,M)=>v.jsxs("div",{className:"relative min-w-[250px] sm:min-w-[280px] md:min-w-[300px] lg:min-w-[320px] h-96 rounded-2xl overflow-hidden group shadow-md flex-shrink-0",children:[v.jsx("img",{src:Z.image,alt:`${Z.title} category`,className:"w-full h-full object-cover",onError:$=>$.target.src=gL,loading:"lazy"}),v.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-30 group-hover:bg-opacity-40 transition duration-300 flex flex-col justify-center items-center text-white text-center px-4",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:Z.title}),v.jsx("button",{onClick:()=>{q(Z.title),e("/CategeriesItems",{state:{category:Z.title}})},className:"bg-white text-black px-6 py-2 rounded-full font-medium hover:bg-gray-100 transition","aria-label":`Shop ${Z.title} category`,children:"Shop Now"})]})]},M))})]})]})}let vL={data:""},_L=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vL,bL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xL=/\/\*[^]*?\*\/|  +/g,tE=/\n+/g,cr=(t,e)=>{let n="",s="",a="";for(let l in t){let c=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":s+=l[1]=="f"?cr(c,l):l+"{"+cr(c,l[1]=="k"?"":e)+"}":typeof c=="object"?s+=cr(c,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=cr.p?cr.p(l,c):l+":"+c+";")}return n+(e&&a?e+"{"+a+"}":a)+s},ps={},CA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+CA(t[n]);return e}return t},TL=(t,e,n,s,a)=>{let l=CA(t),c=ps[l]||(ps[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!ps[c]){let m=l!==t?t:(p=>{let y,b,E=[{}];for(;y=bL.exec(p.replace(xL,""));)y[4]?E.shift():y[3]?(b=y[3].replace(tE," ").trim(),E.unshift(E[0][b]=E[0][b]||{})):E[0][y[1]]=y[2].replace(tE," ").trim();return E[0]})(t);ps[c]=cr(a?{["@keyframes "+c]:m}:m,n?"":"."+c)}let d=n&&ps.g?ps.g:null;return n&&(ps.g=ps[c]),((m,p,y,b)=>{b?p.data=p.data.replace(b,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(ps[c],e,s,d),c},EL=(t,e,n)=>t.reduce((s,a,l)=>{let c=e[l];if(c&&c.call){let d=c(n),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=m?"."+m:d&&typeof d=="object"?d.props?"":cr(d,""):d===!1?"":d}return s+a+(c??"")},"");function _f(t){let e=this||{},n=t.call?t(e.p):t;return TL(n.unshift?n.raw?EL(n,[].slice.call(arguments,1),e.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):n,_L(e.target),e.g,e.o,e.k)}let IA,Gg,Yg;_f.bind({g:1});let Cs=_f.bind({k:1});function wL(t,e,n,s){cr.p=e,IA=t,Gg=n,Yg=s}function Ar(t,e){let n=this||{};return function(){let s=arguments;function a(l,c){let d=Object.assign({},l),m=d.className||a.className;n.p=Object.assign({theme:Gg&&Gg()},d),n.o=/ *go\d+/.test(m),d.className=_f.apply(n,s)+(m?" "+m:"");let p=t;return t[0]&&(p=d.as||t,delete d.as),Yg&&p[0]&&Yg(d),IA(p,d)}return a}}var SL=t=>typeof t=="function",Kg=(t,e)=>SL(t)?t(e):t,AL=(()=>{let t=0;return()=>(++t).toString()})(),CL=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),IL=20,NA=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,IL)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return NA(t,{type:t.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},NL=[],Qp={toasts:[],pausedAt:void 0},C0=t=>{Qp=NA(Qp,t),NL.forEach(e=>{e(Qp)})},RL=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||AL()}),_c=t=>(e,n)=>{let s=RL(e,t,n);return C0({type:2,toast:s}),s.id},vn=(t,e)=>_c("blank")(t,e);vn.error=_c("error");vn.success=_c("success");vn.loading=_c("loading");vn.custom=_c("custom");vn.dismiss=t=>{C0({type:3,toastId:t})};vn.remove=t=>C0({type:4,toastId:t});vn.promise=(t,e,n)=>{let s=vn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let l=e.success?Kg(e.success,a):void 0;return l?vn.success(l,{id:s,...n,...n==null?void 0:n.success}):vn.dismiss(s),a}).catch(a=>{let l=e.error?Kg(e.error,a):void 0;l?vn.error(l,{id:s,...n,...n==null?void 0:n.error}):vn.dismiss(s)}),t};var DL=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ML=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PL=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OL=Ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ML} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${PL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,kL=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VL=Ar("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${kL} 1s linear infinite;
`,jL=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LL=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UL=Ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zL=Ar("div")`
  position: absolute;
`,BL=Ar("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FL=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qL=Ar("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,HL=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?N.createElement(qL,null,e):e:n==="blank"?null:N.createElement(BL,null,N.createElement(VL,{...s}),n!=="loading"&&N.createElement(zL,null,n==="error"?N.createElement(OL,{...s}):N.createElement(UL,{...s})))},GL=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YL=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,KL="0%{opacity:0;} 100%{opacity:1;}",XL="0%{opacity:1;} 100%{opacity:0;}",JL=Ar("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,WL=Ar("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QL=(t,e)=>{let n=t.includes("top")?1:-1,[s,a]=CL()?[KL,XL]:[GL(n),YL(n)];return{animation:e?`${Cs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};N.memo(({toast:t,position:e,style:n,children:s})=>{let a=t.height?QL(t.position||e||"top-center",t.visible):{opacity:0},l=N.createElement(HL,{toast:t}),c=N.createElement(WL,{...t.ariaProps},Kg(t.message,t));return N.createElement(JL,{className:t.className,style:{...a,...n,...t.style}},typeof s=="function"?s({icon:l,message:c}):N.createElement(N.Fragment,null,l,c))});wL(N.createElement);_f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const $L=[{title:"Vintage-Inspired Floral Midi Dress",price:70,originalPrice:90,discount:"-22%",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/dp11176921.avif?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvZHAxMTE3NjkyMS5hdmlmIiwiaWF0IjoxNzQ1MzEzMDUxLCJleHAiOjE3NzY4NDkwNTF9.xxBHPS27gau7XabEu_WuzR0PgleeRTQ1pMqmEXufo-o"},{title:"Trendy Denim Jacket with Patches",price:70,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/Front_68230255-8dde-494d-8b8e-f9b21aba14fd.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvRnJvbnRfNjgyMzAyNTUtOGRkZS00OTRkLThiOGUtZjliMjFhYmExNGZkLndlYnAiLCJpYXQiOjE3NDUzMTMwNzMsImV4cCI6MTc3Njg0OTA3M30._NdUkIUtv4gX3LK_HjUNjKLEil2J1mK80tV-emgiFcE"},{title:"Statement Geometric Print Scarf",price:50,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/Shajar_Dress_-_Baise_Gaba-7491311.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvU2hhamFyX0RyZXNzXy1fQmFpc2VfR2FiYS03NDkxMzExLndlYnAiLCJpYXQiOjE3NDUzMTMxMTAsImV4cCI6MTc3Njg0OTExMH0.aPsfu8fLwBulnCEW-odwLCvr7TKtaqtIuR2KwaBG01c",from:!0},{title:"Modern Slim Fit Suit",price:70,originalPrice:90,discount:"-22%",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/shopping.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3Qvc2hvcHBpbmcud2VicCIsImlhdCI6MTc0NTMxMzEyNywiZXhwIjoxNzc2ODQ5MTI3fQ.XG-CvYY_Sc88w4jz7srhbe9oWM1gLZMZLAaISVy5zQo"}],ZL=()=>{const t=Zn(),e=N.useRef(),[n,s]=N.useState(null),[a,l]=N.useState([]),[c,d]=N.useState(!1),[m,p]=N.useState(!0),y=C=>{e.current.scrollBy({left:C,behavior:"smooth"})},b=()=>{const{scrollLeft:C,scrollWidth:V,clientWidth:O}=e.current;d(C>0),p(C+O<V)};N.useEffect(()=>{const C=e.current;return C.addEventListener("scroll",b),b(),()=>C.removeEventListener("scroll",b)},[]);const E=C=>{vn.success(`${C.title} added to cart!`)},A=C=>{a.includes(C)?(l(a.filter(V=>V!==C)),vn.success(`${C.title} removed from wishlist`)):(l([...a,C]),vn.success(`${C.title} added to wishlist`))};return v.jsxs("div",{className:"px-6 py-10",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-3xl font-bold relative inline-block after:content-[''] after:absolute after:left-0 after:-bottom-2 after:w-full after:h-1 after:bg-black",children:"Trending Products"}),v.jsx("button",{onClick:()=>t("/all-products"),className:"text-primary font-medium hover:underline",children:"View All"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>y(-300),disabled:!c,className:`absolute left-0 z-10 top-1/2 -translate-y-1/2 bg-white shadow rounded-full p-3 hidden md:block ${c?"":"opacity-50 cursor-not-allowed"}`,children:v.jsx(qN,{})}),v.jsx("div",{ref:e,className:"flex overflow-x-auto gap-4 scroll-smooth pb-4 no-scrollbar",children:$L.map((C,V)=>v.jsxs("div",{className:"min-w-[250px] bg-white rounded-xl shadow p-4 relative group cursor-pointer",onClick:()=>t(`/category/${C.category}`),children:[v.jsx("img",{src:C.image,alt:C.title,className:"rounded-xl mb-4 h-72 w-full object-cover"}),C.discount&&v.jsxs("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-2 py-1 text-sm rounded-full",children:[C.discount," sale"]}),v.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-3 opacity-0 group-hover:opacity-100 transition",children:[v.jsx("button",{onClick:O=>{O.stopPropagation(),s(C)},className:"bg-white p-2 rounded-full shadow-md hover:bg-gray-200",children:v.jsx(GN,{className:"w-4 h-4"})}),v.jsx("button",{onClick:O=>{O.stopPropagation(),A(C)},className:"bg-white p-2 rounded-full shadow-md hover:bg-gray-200",children:v.jsx(eg,{className:`w-4 h-4 ${a.includes(C)?"text-red-500":""}`})})]}),v.jsxs("button",{onClick:O=>{O.stopPropagation(),E(C)},className:"absolute bottom-20 left-1/2 -translate-x-1/2 bg-black text-white px-6 py-2 rounded-full flex items-center justify-center gap-2 hover:bg-gray-800 opacity-0 group-hover:opacity-100 transition",children:[v.jsx(KN,{})," Add To Cart"]}),v.jsx("h3",{className:"text-md font-semibold",children:C.title}),v.jsxs("p",{className:"text-sm text-gray-600",children:[C.from?"From ":"",v.jsxs("span",{className:"text-black font-bold",children:["Tk ",C.price,".00 BDT"]})]}),C.originalPrice&&v.jsxs("p",{className:"text-sm text-gray-400 line-through",children:["Tk ",C.originalPrice,".00 BDT"]})]},V))}),v.jsx("button",{onClick:()=>y(300),disabled:!m,className:`absolute right-0 z-10 top-1/2 -translate-y-1/2 bg-white shadow rounded-full p-3 hidden md:block ${m?"":"opacity-50 cursor-not-allowed"}`,children:v.jsx(HN,{})})]}),n&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-sm w-full relative",children:[v.jsx("button",{onClick:()=>s(null),className:"absolute top-2 right-2 text-gray-500 hover:text-black",children:"✖"}),v.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover rounded"}),v.jsx("h2",{className:"text-xl font-bold mt-4",children:n.title}),v.jsxs("p",{className:"text-lg font-semibold text-black",children:["Tk ",n.price,".00 BDT"]})]})})]})};function e9(){const t=[{text:"Limited Offer Sales!",className:"glow-blue"},{text:"Hot Deal Products!",className:"glow-red"},{text:"Best Selling Items",className:"glow-green"},{text:"New Arrivals!",className:"glow-purple"},{text:"Flash Deals!",className:"glow-yellow"},{text:"Seasonal Picks!",className:"glow-pink"},{text:"Mega Discounts!",className:"glow-orange"},{text:"Exclusive Launches!",className:"glow-cyan"}];return v.jsx("div",{className:"bg-gray-100 py-6 overflow-hidden",children:v.jsx("div",{className:"whitespace-nowrap animate-marquee flex gap-20 text-2xl font-semibold",children:t.map((e,n)=>v.jsx("span",{className:`text-white ${e.className} transition-all duration-500`,children:e.text},n))})})}const t9=[{title:"Product Quality!",stars:5,text:"I absolutely love shopping here! The selection is fantastic, the prices are competitive, Highly recommend.",name:"Wade Warren",role:"Customer",image:"https://randomuser.me/api/portraits/women/65.jpg"},{title:"Delivery Services!",stars:5,text:"I had a great experience shopping on this website. The interface is user-friendly, making it easy to find",name:"Kristin Watson",role:"Customer",image:"https://randomuser.me/api/portraits/women/70.jpg"},{title:"Product Price!",stars:5,text:"I’m so impressed with the level of customer service I received. I had an issue with my order, and the support",name:"Esther Howard",role:"Designer",image:"https://randomuser.me/api/portraits/men/76.jpg"}];function n9(){return v.jsxs("section",{className:"bg-gray-50 py-10 px-4 md:px-16",children:[v.jsxs("div",{className:"flex items-center justify-between mb-10",children:[v.jsx("div",{children:v.jsx("h2",{className:"text-3xl font-bold relative inline-block after:content-[''] after:absolute after:left-0 after:-bottom-2 after:w-full after:h-1 after:bg-black",children:"Customers Review"})}),v.jsx("button",{onClick:()=>alert("View All clicked"),className:"text-primary font-medium hover:underline",children:"View All"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t9.map((t,e)=>v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md text-center",children:[v.jsx("h3",{className:"font-semibold text-lg",children:t.title}),v.jsx("div",{className:"flex justify-center text-yellow-400 my-2 text-lg",children:"★".repeat(t.stars)}),v.jsxs("p",{className:"text-gray-700 text-sm mb-6",children:["“",t.text,"”"]}),v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx("img",{src:t.image,alt:t.name,className:"w-14 h-14 rounded-full object-cover"}),v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"font-semibold",children:t.name}),v.jsx("p",{className:"text-sm text-gray-500",children:t.role})]})]})]},e))})]})}const i9=[{id:1,name:"Cargo Shorts for Active Boys",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/dp11176921.avif?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvZHAxMTE3NjkyMS5hdmlmIiwiaWF0IjoxNzQ1MzEzMDUxLCJleHAiOjE3NzY4NDkwNTF9.xxBHPS27gau7XabEu_WuzR0PgleeRTQ1pMqmEXufo-o",discount:"-23%",oldPrice:78,newPrice:75},{id:2,name:"Classic Black Denim Jacket",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/women.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJjbG90aGVzL3dvbWVuLnBuZyIsImlhdCI6MTc0NTMxNzcwNSwiZXhwIjoxNzc2ODUzNzA1fQ.816Jqav2CYL7g6fVsB20shaBZPZnovCwnzz5Hunh3Zc",discount:"-20%",oldPrice:100,newPrice:80},{id:3,name:"Classic Button-Down Shirt",image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/Shajar_Dress_-_Baise_Gaba-7491311.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvU2hhamFyX0RyZXNzXy1fQmFpc2VfR2FiYS03NDkxMzExLndlYnAiLCJpYXQiOjE3NDUzMTMxMTAsImV4cCI6MTc3Njg0OTExMH0.aPsfu8fLwBulnCEW-odwLCvr7TKtaqtIuR2KwaBG01c",discount:"-17%",oldPrice:120,newPrice:100}];function s9(){return v.jsxs("section",{className:"px-4 md:px-16 py-10 bg-white",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-bold",children:"Featured collection"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"Follow the most popular trends and get exclusive items from Foesta shop."})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:i9.map(t=>v.jsxs("div",{className:"relative bg-gray-100 p-4 rounded-2xl group",children:[v.jsxs("span",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 text-xs rounded-full",children:[t.discount," sale"]}),v.jsx("div",{className:"absolute top-4 right-4 flex flex-col gap-3 opacity-0 group-hover:opacity-100 transition",children:[hL,AA,SA].map((e,n)=>v.jsx("button",{className:"bg-white p-2 rounded-full shadow-md hover:bg-gray-200",children:v.jsx(e,{className:"w-4 h-4"})},n))}),v.jsx("img",{src:t.image,alt:t.name,className:"w-full h-80 object-contain"}),v.jsx("button",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 bg-black text-white px-6 py-2 rounded-full flex items-center gap-2 hover:bg-gray-800 opacity-0 group-hover:opacity-100 transition",children:"🛒 Add To Cart"}),v.jsxs("div",{className:"mt-6 text-center",children:[v.jsx("h3",{className:"text-lg font-medium",children:t.name}),v.jsxs("p",{className:"text-gray-500 line-through",children:["Tk ",t.oldPrice,".00 BDT"]}),v.jsxs("p",{className:"text-black font-semibold",children:["Tk ",t.newPrice,".00 BDT"]})]})]},t.id))})]})}function r9(){return v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col md:flex-row transition-all duration-300 ease-in-out",children:[v.jsx("img",{src:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/dp11176921.avif?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvZHAxMTE3NjkyMS5hdmlmIiwiaWF0IjoxNzQ1MzEzMDUxLCJleHAiOjE3NzY4NDkwNTF9.xxBHPS27gau7XabEu_WuzR0PgleeRTQ1pMqmEXufo-o",alt:"Dark Pink Shirt",className:"w-full h-auto md:w-1/2 md:h-full object-cover transition-transform duration-300 hover:scale-105"}),v.jsxs("div",{className:"p-6 md:w-1/2 space-y-4",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 leading-snug",children:"NIVICK NEUVEST Men's Solid Spread Collar Dark Pink Shirt"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-lg",children:[v.jsx("span",{className:"font-bold text-pink-700",children:"₹309"}),v.jsx("span",{className:"line-through text-gray-400 text-sm",children:"₹332"}),v.jsx("span",{className:"text-green-600 text-sm",children:"7% off"})]}),v.jsx("p",{className:"bg-green-100 text-green-800 text-sm p-2 rounded-md",children:"✅ UPI Offer applied for you!!"}),v.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[v.jsx("p",{children:"₹317 with COD"}),v.jsx("p",{children:"₹15 off | Good Shopper Discount"}),v.jsx("p",{className:"text-green-600 font-medium",children:"Free Delivery"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded",children:"4.2★"}),v.jsx("span",{className:"text-gray-500",children:"(6983)"}),v.jsx("span",{className:"bg-purple-200 text-purple-800 px-2 py-1 rounded text-xs",children:"Trusted"})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mt-4",children:[v.jsxs("button",{className:"flex-1 border border-pink-700 text-pink-700 py-2 rounded-md transition hover:bg-pink-50",children:[v.jsx(pL,{size:16,className:"inline mr-2"}),"Add to Cart"]}),v.jsx("button",{className:"flex-1 bg-pink-700 text-white py-2 rounded-md transition hover:bg-pink-800",children:"Buy Now"})]}),v.jsxs("div",{className:"flex justify-between mt-4 text-gray-500 text-lg",children:[v.jsx(SA,{className:"cursor-pointer hover:text-pink-600 transition"}),v.jsx(AA,{className:"cursor-pointer hover:text-pink-600 transition"})]}),v.jsxs("div",{className:"pt-6 border-t",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"font-semibold",children:"Select Size"}),v.jsx("button",{className:"text-sm text-pink-600 hover:underline",children:"SIZE CHART"})]}),v.jsx("div",{className:"flex gap-3 mt-3 flex-wrap",children:["M","L","XL","XXL"].map((t,e)=>v.jsxs("div",{className:"border px-3 py-1 rounded-md text-sm text-center hover:bg-gray-100 transition",children:[v.jsx("div",{className:"font-medium",children:t}),v.jsxs("div",{className:"text-xs text-gray-500",children:["₹",317+e*10]})]},e))})]}),v.jsxs("div",{className:"pt-6 border-t",children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Sold by"}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:v.jsx("img",{src:"/shop-icon.svg",alt:"Shop Icon",className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"KYNEEV ENTERPRISE"}),v.jsxs("div",{className:"text-gray-500 text-sm flex gap-2 flex-wrap mt-1",children:[v.jsx("span",{className:"text-green-600 font-semibold",children:"4.1★"}),v.jsx("span",{children:"9,191 ratings"}),v.jsx("span",{children:"90 Followers"}),v.jsx("span",{children:"12 Products"})]})]})]}),v.jsx("button",{className:"mt-2 md:mt-0 border border-pink-600 text-pink-600 px-3 py-1 rounded text-sm transition hover:bg-pink-50",children:"View Shop"})]})]}),v.jsxs("div",{className:"pt-6 border-t",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"font-semibold",children:"Product Highlights"}),v.jsx("button",{className:"text-sm text-pink-600 hover:underline",children:"COPY"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2 text-sm text-gray-700",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Occasion:"})," Casual"]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Color:"})," Pink"]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Stretchability:"})," No"]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Fit/Shape:"})," Regular"]})]})]}),v.jsxs("div",{className:"mt-10 border-t pt-6",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"You might also like"}),v.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[{name:"Comfy Designer Men Shirts",price:275,originalPrice:310,discount:"11% off",rating:3.8,ratingCount:28508,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/dp11176921.avif?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvZHAxMTE3NjkyMS5hdmlmIiwiaWF0IjoxNzQ1MzEzMDUxLCJleHAiOjE3NzY4NDkwNTF9.xxBHPS27gau7XabEu_WuzR0PgleeRTQ1pMqmEXufo-o"},{name:"Comfy Retro Men Shirts",price:311,originalPrice:334,discount:"7% off",rating:4,ratingCount:2607,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/trendingproduct/dp11176921.avif?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJ0cmVuZGluZ3Byb2R1Y3QvZHAxMTE3NjkyMS5hdmlmIiwiaWF0IjoxNzQ1MzEzMDUxLCJleHAiOjE3NzY4NDkwNTF9.xxBHPS27gau7XabEu_WuzR0PgleeRTQ1pMqmEXufo-o"}].map((t,e)=>v.jsxs("div",{className:"min-w-[160px] border rounded-md p-2",children:[v.jsx("img",{src:t.image,alt:t.name,className:"h-36 w-full object-cover rounded"}),v.jsxs("div",{className:"mt-2",children:[v.jsx("h4",{className:"text-sm font-medium leading-tight line-clamp-2",children:t.name}),v.jsxs("div",{className:"flex items-center gap-2 text-sm mt-1",children:[v.jsxs("span",{className:"font-bold text-gray-800",children:["₹",t.price]}),v.jsxs("span",{className:"line-through text-gray-400 text-xs",children:["₹",t.originalPrice]}),v.jsx("span",{className:"text-green-600 text-xs",children:t.discount})]}),v.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["⭐ ",t.rating," (",t.ratingCount,")"]})]})]},e))})]})]})]})}const a9=()=>{const t=[{id:1,name:"Clothing",subCategories:[{id:1,name:"T-shirts"},{id:2,name:"Jeans"},{id:3,name:"Jackets"}]},{id:2,name:"Accessories",subCategories:[{id:1,name:"Belts"},{id:2,name:"Gloves"},{id:3,name:"Scarves"},{id:4,name:"Hats"}]}];return v.jsxs(v.Fragment,{children:[v.jsx(pE,{}),v.jsx("footer",{className:"bg-gray-800 text-white py-8",children:v.jsxs("div",{className:"mx-auto w-full max-w-screen-xl p-4",children:[v.jsxs("div",{className:"md:flex md:justify-between",children:[v.jsx("div",{className:"mb-6 md:mb-0",children:v.jsx("a",{href:"#",className:"flex items-center",children:v.jsx("img",{src:"https://demoprestashop.aeipix.com/AX02/megadeal23/img/kenzy-fashion-logo-1542786700.jpg",className:"h-12 me-3",alt:"Logo"})})}),v.jsxs("div",{className:"grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-300 uppercase",children:"Products"}),v.jsx("ul",{className:"text-gray-400 font-medium",children:t.map(e=>v.jsxs("div",{children:[v.jsx("li",{className:"mb-2 hover:underline text-lg font-bold",children:e.name}),v.jsx("ul",{className:"pl-4",children:e.subCategories.map(n=>v.jsx("li",{className:"mb-2 text-gray-500 hover:underline",children:n.name},n.id))})]},e.id))})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-300 uppercase",children:"Follow Us"}),v.jsxs("ul",{className:"text-gray-400 font-medium",children:[v.jsx("li",{className:"mb-4",children:v.jsx("a",{href:"https://www.instagram.com",className:"hover:underline",children:"Instagram"})}),v.jsx("li",{className:"mb-4",children:v.jsx("a",{href:"https://twitter.com",className:"hover:underline",children:"Twitter"})}),v.jsx("li",{children:v.jsx("a",{href:"https://www.facebook.com",className:"hover:underline",children:"Facebook"})})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-300 uppercase",children:"Legal"}),v.jsxs("ul",{className:"text-gray-400 font-medium",children:[v.jsx("li",{className:"mb-4",children:v.jsx("a",{href:"#",className:"hover:underline",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Terms & Conditions"})})]})]})]})]}),v.jsx("hr",{className:"my-6 border-gray-700"}),v.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[v.jsxs("span",{className:"text-sm text-gray-400 sm:text-center",children:["© 2023 ",v.jsx("a",{href:"https://flowbite.com",className:"hover:underline",children:"Flowbite™"}),". All Rights Reserved."]}),v.jsxs("div",{className:"flex mt-4 sm:justify-center sm:mt-0",children:[v.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 mx-2",children:[v.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 8 19",children:v.jsx("path",{fillRule:"evenodd",d:"M6.135 3H8V0H6.135a4.147 4.147 0 0 0-4.142 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z",clipRule:"evenodd"})}),v.jsx("span",{className:"sr-only",children:"Facebook"})]}),v.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 mx-2",children:[v.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 21 16",children:v.jsx("path",{d:"M16.942 1.556a16.3 16.3 0 0 0-4.126-1.3 12.04 12.04 0 0 0-.529 1.1 15.175 15.175 0 0 0-4.573 0 11.585 11.585 0 0 0-.535-1.1 16.274 16.274 0 0 0-4.129 1.3A17.392 17.392 0 0 0 .182 13.218a15.785 15.785 0 0 0 4.963 2.521c.41-.564.773-1.16 1.084-1.785a10.63 10.63 0 0 1-1.706-.83c.143-.106.283-.217.418-.33a11.664 11.664 0 0 0 10.118 0c.137.113.277.224.418.33-.544.328-1.116.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595 17.286 17.286 0 0 0-2.973-11.59ZM6.678 10.813a1.941 1.941 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.919 1.919 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Zm6.644 0a1.94 1.94 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.918 1.918 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Z"})}),v.jsx("span",{className:"sr-only",children:"Discord"})]}),v.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 mx-2",children:[v.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z",clipRule:"evenodd"})}),v.jsx("span",{className:"sr-only",children:"GitHub"})]})]})]})]})})]})},o9=()=>{const t=Zn(),[e,n]=N.useState([{id:1,title:"JAINX Blue Silicone Band Analog...",rating:4.2,reviews:7490,originalPrice:1799,discountedPrice:231,discount:87,delivery:"2 days, Wed",quantity:1,imageUrl:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/pexels-photo-1620826.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvcGV4ZWxzLXBob3RvLTE2MjA4MjYud2VicCIsImlhdCI6MTc0NTMwOTEwMSwiZXhwIjoxNzc2ODQ1MTAxfQ.4l44LzLq-vZAcUjgGKkP-V0gNwISeeMjd01RUEjRlP4"},{id:2,title:"VeBNoR Men Solid Formal Maroon...",rating:4.1,reviews:114996,originalPrice:999,discountedPrice:270,discount:72,delivery:"2 days, Wed",quantity:1,imageUrl:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/Men%20shirts.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvTWVuIHNoaXJ0cy53ZWJwIiwiaWF0IjoxNzQ1MzA5Mzg1LCJleHAiOjE3NzY4NDUzODV9.PV_wl-Tf7A_JamvGbtBxbNEJH7pIjeOnACLUCczwZtY"}]),[s,a]=N.useState([]),[l,c]=N.useState({name:"Charan BP",pincode:"570018",street:"Jana seva kendra opposite road, #732..."}),[d,m]=N.useState(!1),[p,y]=N.useState(""),[b,E]=N.useState(43),[A,C]=N.useState(!1),[V,O]=N.useState(""),R=ce=>{O(ce),C(!0),setTimeout(()=>C(!1),3e3)},K=ce=>{n(e.filter(X=>X.id!==ce)),R("Item removed from cart")},q=ce=>{n(e.map(X=>X.id===ce?{...X,quantity:X.quantity+1}:X))},Z=ce=>{n(e.map(X=>X.id===ce&&X.quantity>1?{...X,quantity:X.quantity-1}:X))},M=ce=>{const X=e.find(ae=>ae.id===ce);X&&(a([...s,X]),n(e.filter(ae=>ae.id!==ce)),R("Item saved for later"))},$=ce=>{const X=s.find(ae=>ae.id===ce);X&&(n([...e,X]),a(s.filter(ae=>ae.id!==ce)),R("Item moved to cart"))},P=ce=>{const X=e.find(ae=>ae.id===ce);R(`Proceeding to checkout for ${X.title}`),t("/checkout",{state:{cartItems:[X],address:l,finalAmount:X.discountedPrice*X.quantity+F-b,discountTotal:(X.originalPrice-X.discountedPrice)*X.quantity,couponDiscount:b,packagingFee:F,deliveryCharges:0}})},S=()=>{if(!l.name||!l.pincode||!l.street){R("Please complete address details");return}t("/checkout",{state:{cartItems:e,address:l,finalAmount:st,discountTotal:B,couponDiscount:b,packagingFee:F,deliveryCharges:j}})},D=()=>{p.toUpperCase()==="SAVE10"?(E(100),R("Coupon applied successfully!")):(E(43),R("Invalid coupon code"))},L=e.reduce((ce,X)=>ce+X.originalPrice*X.quantity,0),B=e.reduce((ce,X)=>ce+(X.originalPrice-X.discountedPrice)*X.quantity,0),F=29,j=e.length>0?0:120,st=e.reduce((ce,X)=>ce+X.discountedPrice*X.quantity,0)-b+F+j;return v.jsxs("div",{className:"min-h-screen bg-white p-4 flex flex-col justify-between",children:[A&&v.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg",children:V}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"My Cart"}),v.jsx("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:d?v.jsxs("div",{className:"flex flex-col space-y-2",children:[v.jsx("input",{type:"text",value:l.name,onChange:ce=>c({...l,name:ce.target.value}),placeholder:"Name",className:"border p-2 rounded"}),v.jsx("input",{type:"text",value:l.pincode,onChange:ce=>c({...l,pincode:ce.target.value}),placeholder:"Pincode",className:"border p-2 rounded"}),v.jsx("input",{type:"text",value:l.street,onChange:ce=>c({...l,street:ce.target.value}),placeholder:"Street Address",className:"border p-2 rounded"}),v.jsx("button",{onClick:()=>{m(!1),R("Address updated successfully")},className:"mt-2 bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Address"})]}):v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-sm text-gray-600",children:["Deliver to:"," ",v.jsxs("span",{className:"font-semibold text-black",children:[l.name,", ",l.pincode]})]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.street}),v.jsx("button",{onClick:()=>m(!0),className:"mt-2 text-blue-600 text-sm font-medium hover:underline",children:"Change"})]})}),e.length===0?v.jsx("p",{className:"text-center text-gray-600",children:"Your cart is empty."}):e.map(ce=>v.jsxs("div",{className:"border p-4 rounded-lg mb-4 shadow-sm",children:[v.jsxs("div",{className:"flex",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("img",{src:ce.imageUrl,alt:ce.title,className:"w-24 h-24 object-cover rounded"}),v.jsxs("div",{className:"flex items-center mt-2",children:[v.jsx("button",{onClick:()=>Z(ce.id),className:"px-2 py-1 border rounded-l text-lg font-bold hover:bg-gray-100",children:"-"}),v.jsx("span",{className:"px-4 py-1 border-t border-b",children:ce.quantity}),v.jsx("button",{onClick:()=>q(ce.id),className:"px-2 py-1 border rounded-r text-lg font-bold hover:bg-gray-100",children:"+"})]})]}),v.jsxs("div",{className:"ml-4 flex-1",children:[v.jsx("h2",{className:"text-base font-semibold",children:ce.title}),v.jsxs("div",{className:"flex items-center text-sm text-green-600 mt-1",children:[v.jsx("span",{className:"font-bold",children:ce.rating}),v.jsxs("span",{className:"text-gray-500 ml-2",children:["(",ce.reviews," reviews)"]})]}),v.jsxs("div",{className:"flex items-center mt-2",children:[v.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["₹",ce.discountedPrice]}),v.jsxs("span",{className:"line-through text-gray-400 ml-2 text-sm",children:["₹",ce.originalPrice]}),v.jsxs("span",{className:"text-green-600 ml-2 text-sm",children:[ce.discount,"% off"]})]}),v.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Delivery by ",ce.delivery]})]})]}),v.jsxs("div",{className:"flex justify-between text-sm text-blue-600 mt-4",children:[v.jsx("button",{onClick:()=>K(ce.id),className:"hover:underline",children:"Remove"}),v.jsx("button",{onClick:()=>M(ce.id),className:"hover:underline",children:"Save for later"}),v.jsx("button",{onClick:()=>P(ce.id),className:"hover:underline",children:"Buy this now"})]})]},ce.id)),s.length>0&&v.jsxs("div",{className:"mt-10",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Saved for Later"}),s.map(ce=>v.jsx("div",{className:"border p-4 rounded-lg mb-4 shadow-sm",children:v.jsxs("div",{className:"flex",children:[v.jsx("img",{src:ce.imageUrl,alt:ce.title,className:"w-24 h-24 object-cover rounded"}),v.jsxs("div",{className:"ml-4 flex-1",children:[v.jsx("h2",{className:"text-base font-semibold",children:ce.title}),v.jsxs("div",{className:"flex items-center mt-2",children:[v.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["₹",ce.discountedPrice]}),v.jsxs("span",{className:"line-through text-gray-400 ml-2 text-sm",children:["₹",ce.originalPrice]}),v.jsxs("span",{className:"text-green-600 ml-2 text-sm",children:[ce.discount,"% off"]})]}),v.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Delivery by ",ce.delivery]}),v.jsx("button",{onClick:()=>$(ce.id),className:"mt-2 text-blue-600 text-sm font-medium hover:underline",children:"Move to Cart"})]})]})},ce.id))]})]}),e.length>0&&v.jsxs("div",{className:"border-t pt-4 mt-6",children:[v.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-4",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Price Details"}),v.jsxs("div",{className:"flex justify-between mb-2",children:[v.jsxs("span",{children:["Price (",e.length," items)"]}),v.jsxs("span",{children:["₹",L]})]}),v.jsxs("div",{className:"flex justify-between text-green-700 mb-2",children:[v.jsx("span",{children:"Discount"}),v.jsxs("span",{children:["-₹",B]})]}),v.jsxs("div",{className:"flex justify-between mb-2",children:[v.jsx("span",{children:"Secured Packaging Fee"}),v.jsxs("span",{children:["₹",F]})]}),v.jsxs("div",{className:"flex justify-between mb-2",children:[v.jsx("span",{children:"Delivery Charges"}),v.jsx("span",{children:j===0?v.jsx("span",{className:"text-green-700",children:"FREE"}):v.jsxs("span",{children:["₹",j]})})]}),v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"text",value:p,onChange:ce=>y(ce.target.value),placeholder:"Enter coupon code",className:"border p-2 rounded text-sm"}),v.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Apply"})]}),v.jsxs("span",{className:"text-green-700",children:["-₹",b]})]}),v.jsx("hr",{className:"my-2"}),v.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[v.jsx("span",{children:"Total Amount"}),v.jsxs("span",{children:["₹",st]})]}),v.jsxs("p",{className:"text-green-600 mt-2 font-medium",children:["You will save ₹",B+b," on this order"]})]}),v.jsxs("button",{onClick:S,className:"w-full bg-yellow-400 hover:bg-yellow-500 text-white font-semibold py-3 rounded-xl",children:["Continue (₹",st,")"]})]})]})},nE=[{title:"Kid's Fashion",price:"₹6,200",originalPrice:"₹25,000",discount:"75%",rating:3.5,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/pexels-photo-1620826.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvcGV4ZWxzLXBob3RvLTE2MjA4MjYud2VicCIsImlhdCI6MTc0NTMwOTEwMSwiZXhwIjoxNzc2ODQ1MTAxfQ.4l44LzLq-vZAcUjgGKkP-V0gNwISeeMjd01RUEjRlP4"},{title:"Men's Fashion",price:"₹6,799",originalPrice:"₹36,899",discount:"81%",rating:4,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/Men%20shirts.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvTWVuIHNoaXJ0cy53ZWJwIiwiaWF0IjoxNzQ1MzA5Mzg1LCJleHAiOjE3NzY4NDUzODV9.PV_wl-Tf7A_JamvGbtBxbNEJH7pIjeOnACLUCczwZtY"},{title:"New Arrivals",price:"₹8,499",originalPrice:"₹35,999",discount:"76%",rating:4.5,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/ks8dv_1200.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMva3M4ZHZfMTIwMC5qcGciLCJpYXQiOjE3NDUzMDk1MTUsImV4cCI6MTc3Njg0NTUxNX0.Az3QqHKN6Fddoi6K39DKo0Q-nQgG6Ir-1DgbYnwC3MM"},{title:"Top Sale's",price:"₹1,478",originalPrice:"₹2,390",discount:"38%",rating:4,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/images.jpeg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvaW1hZ2VzLmpwZWciLCJpYXQiOjE3NDUzMDk2NjEsImV4cCI6MTc3Njg0NTY2MX0.BL5heLSwhkTSHK9a1bxfdjLttMTuKGb9L33NU7ustxw"},{title:"Kid's Fashion",price:"₹6,200",originalPrice:"₹25,000",discount:"75%",rating:3.5,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/pexels-photo-1620826.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvcGV4ZWxzLXBob3RvLTE2MjA4MjYud2VicCIsImlhdCI6MTc0NTMwOTEwMSwiZXhwIjoxNzc2ODQ1MTAxfQ.4l44LzLq-vZAcUjgGKkP-V0gNwISeeMjd01RUEjRlP4"},{title:"Men's Fashion",price:"₹6,799",originalPrice:"₹36,899",discount:"81%",rating:4,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/Men%20shirts.webp?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvTWVuIHNoaXJ0cy53ZWJwIiwiaWF0IjoxNzQ1MzA5Mzg1LCJleHAiOjE3NzY4NDUzODV9.PV_wl-Tf7A_JamvGbtBxbNEJH7pIjeOnACLUCczwZtY"},{title:"New Arrivals",price:"₹8,499",originalPrice:"₹35,999",discount:"76%",rating:4.5,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/ks8dv_1200.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMva3M4ZHZfMTIwMC5qcGciLCJpYXQiOjE3NDUzMDk1MTUsImV4cCI6MTc3Njg0NTUxNX0.Az3QqHKN6Fddoi6K39DKo0Q-nQgG6Ir-1DgbYnwC3MM"},{title:"Top Sale's",price:"₹1,478",originalPrice:"₹2,390",discount:"38%",rating:4,image:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/kidsfashions/images.jpeg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5Xzg3MDU3MDllLWJlYjUtNDNhNy04YWQ4LTZkNWU5NDU4MmI5NiJ9.eyJ1cmwiOiJraWRzZmFzaGlvbnMvaW1hZ2VzLmpwZWciLCJpYXQiOjE3NDUzMDk2NjEsImV4cCI6MTc3Njg0NTY2MX0.BL5heLSwhkTSHK9a1bxfdjLttMTuKGb9L33NU7ustxw"}],l9=()=>{const[t,e]=N.useState(1),[n,s]=N.useState(!1),[a,l]=N.useState([]),[c,d]=N.useState(null),m=y=>{l([...a,y]),e(t+1),d(y.title),setTimeout(()=>d(null),2e3)},p=()=>{s(!n)};return v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsxs("header",{className:"bg-blue-600 text-white p-4 flex items-center justify-between sticky top-0 z-10",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("button",{className:"mr-3 focus:outline-none",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),v.jsx("h1",{className:"text-lg font-semibold",children:"My Wishlist"})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:p,className:"focus:outline-none bg-white bg-opacity-20 rounded-full p-2 hover:bg-opacity-30 transition-all",children:[v.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm-1 14H5V8h14v10z"}),v.jsx("path",{d:"M12 11l4-4m0 0l-4 4m4-4v8"})]}),v.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold animate-pulse",children:t})]}),n&&v.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white text-black rounded-lg shadow-lg p-4 z-20",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cart Preview"}),a.length>0?v.jsx("ul",{children:a.map((y,b)=>v.jsxs("li",{className:"py-1",children:[y.title," - ",y.price]},b))}):v.jsx("p",{className:"text-gray-500",children:"Your cart is empty"})]})]})]}),v.jsxs("div",{className:"p-4 flex items-center",children:[v.jsx("svg",{className:"w-5 h-5 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 11c1.104 0 2-.896 2-2s-.896-2-2-2-2 .896-2 2 .896 2 2 2zm0 2c-2.209 0-4 1.791-4 4v1h8v-1c0-2.209-1.791-4-4-4z"})}),v.jsxs("span",{className:"text-gray-600",children:["Private • ",nE.length," items"]})]}),v.jsx("div",{className:"p-4",children:v.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:nE.map((y,b)=>v.jsxs("div",{className:"border rounded-lg p-3 shadow hover:shadow-lg transition bg-white",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:y.image,alt:y.title,className:"w-full h-40 object-cover mb-2 rounded"}),v.jsx("button",{className:"absolute top-2 right-2 focus:outline-none bg-white rounded-full p-1 shadow-md hover:bg-gray-100",children:v.jsx("svg",{className:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v.01M12 12v.01M12 18v.01"})})})]}),v.jsx("h2",{className:"text-sm font-semibold truncate",children:y.title}),v.jsxs("div",{className:"flex items-center gap-2 text-sm my-1",children:[v.jsxs("span",{className:"text-green-600 font-semibold",children:["↓",y.discount]}),v.jsx("span",{className:"line-through text-gray-400",children:y.originalPrice}),v.jsx("span",{className:"font-bold text-black",children:y.price})]}),v.jsxs("div",{className:"text-yellow-500 mb-2",children:["★".repeat(Math.floor(y.rating)),y.rating%1?"½":"","☆".repeat(5-Math.ceil(y.rating))]}),v.jsx("button",{onClick:()=>m(y),className:"w-full bg-blue-600 text-white py-1 rounded hover:bg-blue-700 transition",children:c===y.title?"Added!":"Add to Cart"})]},b))})})]})},u9=[{date:"Feb 13",title:"HIMALAYA Happy Baby Gift Pack",status:"Delivered",showRating:!0},{date:"Feb 14",title:"LAKSIMA Short For Baby Boys & Girls",status:"Delivered",showRating:!0},{date:"Feb 07",title:"₹197 Recharge Successful",status:"BSNL Recharge",user:"Charan2 • 9xxxxxx8281"},{date:"Jan 12",title:"Aarsh Tech usb 2.0 wireless 300Mbps",status:"Delivered",rating:4},{date:"Jan 07",title:"rionix CORE I5 2ND GAMING INT...",status:"Cancelled"}];function c9(){return v.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[v.jsx("h1",{className:"text-xl font-semibold mb-4",children:"My Orders"}),u9.map((t,e)=>v.jsxs("div",{className:"border-b py-4",children:[v.jsxs("div",{className:"text-gray-600",children:[t.status," on ",t.date]}),v.jsx("div",{className:"font-medium",children:t.title}),t.user&&v.jsx("div",{className:"text-sm text-gray-500",children:t.user}),t.showRating&&v.jsxs("div",{className:"flex items-center gap-1 text-gray-400 mt-1",children:[Array(5).fill().map((n,s)=>v.jsx(s1,{},s)),v.jsx("span",{className:"ml-2 text-sm",children:"Rate this product now"})]}),t.rating&&v.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[Array(5).fill().map((n,s)=>v.jsx(s1,{className:s<t.rating?"text-green-500":"text-gray-300"},s)),v.jsx("span",{className:"ml-2 text-sm text-blue-500 cursor-pointer",children:"Write a Review"})]})]},e))]})}const h9=()=>{const{state:t}=Bi(),e=Zn(),[n,s]=N.useState({cartItems:(t==null?void 0:t.cartItems)||[],address:(t==null?void 0:t.address)||{name:"",pincode:"",street:""},finalAmount:(t==null?void 0:t.finalAmount)||0,discountTotal:(t==null?void 0:t.discountTotal)||0,couponDiscount:(t==null?void 0:t.couponDiscount)||0,packagingFee:(t==null?void 0:t.packagingFee)||0,deliveryCharges:(t==null?void 0:t.deliveryCharges)||0}),[a,l]=N.useState(!1),[c,d]=N.useState(""),[m,p]=N.useState("cod"),[y,b]=N.useState(n.address),[E,A]=N.useState(!1),[C,V]=N.useState(""),O=[{code:"SAVE10",discount:10,minAmount:500},{code:"SAVE20",discount:20,minAmount:1e3}],R=n.cartItems.reduce((M,$)=>M+$.originalPrice*$.quantity,0),K=M=>{if(M.preventDefault(),!y.name||!y.pincode||!y.street){V("All address fields are required");return}s($=>({...$,address:y})),l(!1),V("")},q=()=>{const M=O.find(P=>P.code===c.toUpperCase());if(!M){V("Invalid coupon code");return}if(R<M.minAmount){V(`Minimum order amount for this coupon is ₹${M.minAmount}`);return}const $=R*M.discount/100;s(P=>({...P,couponDiscount:$,finalAmount:P.finalAmount-$+P.couponDiscount})),d(""),V("")},Z=async()=>{A(!0),V("");try{await new Promise($=>setTimeout($,1e3));const M={...n,paymentMethod:m,orderDate:new Date().toISOString(),orderId:`ORD${Math.random().toString(36).substr(2,9)}`};localStorage.setItem("lastOrder",JSON.stringify(M)),e("/order-confirmation",{state:M})}catch{V("Failed to place order. Please try again.")}finally{A(!1)}};return v.jsxs("div",{className:"min-h-screen bg-white p-4",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Checkout"}),C&&v.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:C}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Delivery Address"}),v.jsx("button",{onClick:()=>l(!a),className:"text-blue-600 text-sm",children:a?"Cancel":"Edit"})]}),a?v.jsxs("form",{onSubmit:K,className:"space-y-2",children:[v.jsx("input",{type:"text",placeholder:"Name",value:y.name,onChange:M=>b($=>({...$,name:M.target.value})),className:"w-full p-2 border rounded"}),v.jsx("input",{type:"text",placeholder:"Pincode",value:y.pincode,onChange:M=>b($=>({...$,pincode:M.target.value})),className:"w-full p-2 border rounded"}),v.jsx("input",{type:"text",placeholder:"Street Address",value:y.street,onChange:M=>b($=>({...$,street:M.target.value})),className:"w-full p-2 border rounded"}),v.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Save Address"})]}):v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-sm text-gray-600",children:[v.jsx("span",{className:"font-semibold",children:n.address.name}),", ",n.address.pincode]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.address.street})]})]}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Apply Coupon"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",placeholder:"Enter coupon code",value:c,onChange:M=>d(M.target.value),className:"flex-1 p-2 border rounded"}),v.jsx("button",{onClick:q,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Apply"})]}),v.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Available coupons: ",O.map(M=>M.code).join(", ")]})]}),v.jsxs("div",{className:"border p-4 rounded-lg mb-6",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),n.cartItems.map(M=>v.jsxs("div",{className:"flex mb-4",children:[v.jsx("img",{src:M.imageUrl,alt:M.title,className:"w-24 h-24 object-cover rounded"}),v.jsxs("div",{className:"ml-4 flex-1",children:[v.jsx("h3",{className:"text-base font-semibold",children:M.title}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",M.quantity]}),v.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₹",M.discountedPrice*M.quantity]}),v.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Delivery by ",M.delivery]})]})]},M.id))]}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Price Details"}),v.jsxs("div",{className:"flex justify-between mb-2",children:[v.jsxs("span",{children:["Price (",n.cartItems.length," items)"]}),v.jsxs("span",{children:["₹",R]})]}),v.jsxs("div",{className:"flex justify-between text-green-700 mb-2",children:[v.jsx("span",{children:"Discount"}),v.jsxs("span",{children:["-₹",n.discountTotal]})]}),v.jsxs("div",{className:"flex justify-between mb-2",children:[v.jsx("span",{children:"Secured Packaging Fee"}),v.jsxs("span",{children:["₹",n.packagingFee]})]}),v.jsxs("div",{className:"flex justify-between mb-2",children:[v.jsx("span",{children:"Delivery Charges"}),v.jsx("span",{children:n.deliveryCharges===0?v.jsx("span",{className:"text-green-700",children:"FREE"}):v.jsxs("span",{children:["₹",n.deliveryCharges]})})]}),v.jsxs("div",{className:"flex justify-between mb-2",children:[v.jsx("span",{children:"Coupon Discount"}),v.jsxs("span",{className:"text-green-700",children:["-₹",n.couponDiscount]})]}),v.jsx("hr",{className:"my-2"}),v.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[v.jsx("span",{children:"Total Amount"}),v.jsxs("span",{children:["₹",n.finalAmount]})]}),v.jsxs("p",{className:"text-green-600 mt-2 font-medium",children:["You saved ₹",n.discountTotal+n.couponDiscount," on this order"]})]}),v.jsx("button",{onClick:Z,disabled:E,className:`w-full py-3 rounded-xl text-white font-semibold
          ${E?"bg-gray-400 cursor-not-allowed":"bg-yellow-400 hover:bg-yellow-500"}`,children:E?"Processing...":`Place Order (₹${n.finalAmount})`})]})},d9="https://via.placeholder.com/300x400?text=Image+Not+Found";function f9(){var O;const t=Zn(),n=((O=Bi().state)==null?void 0:O.categories)||[],[s,a]=N.useState(""),[l,c]=N.useState("default"),[d,m]=N.useState(8),[p,y]=N.useState(!0),b=[{title:"Women's Fashion",image:"https://images.unsplash.com/photo-1541099649105-f69ad21f3246?auto=format&fit=crop&w=600&q=60"},{title:"Accessories",image:"https://images.unsplash.com/photo-1600180758890-6be201edc1d4?auto=format&fit=crop&w=600&q=60"},{title:"Footwear",image:"https://images.unsplash.com/photo-1606811842647-47e4683caa4d?auto=format&fit=crop&w=600&q=60"},{title:"Winter Collection",image:"https://images.unsplash.com/photo-1514996937319-344454492b37?auto=format&fit=crop&w=600&q=60"},{title:"Ethnic Wear",image:"https://images.unsplash.com/photo-1621043823489-366c9bdfc9f3?auto=format&fit=crop&w=600&q=60"}],A=[...n,...b].filter(R=>R.title.toLowerCase().includes(s.toLowerCase())).sort((R,K)=>l==="asc"?R.title.localeCompare(K.title):l==="desc"?K.title.localeCompare(R.title):0);N.useEffect(()=>{y(!0);const R=setTimeout(()=>y(!1),1e3);return()=>clearTimeout(R)},[]);const C=()=>{m(R=>R+8)},V=N.useCallback(R=>{console.log(`Category clicked: ${R}`)},[]);return v.jsxs("div",{className:"px-4 sm:px-6 py-12 bg-white dark:bg-gray-900 min-h-screen",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-8",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("button",{onClick:()=>t("/"),className:"flex items-center text-primary hover:underline font-medium","aria-label":"Back to home",children:[v.jsx(A0,{className:"w-5 h-5 mr-1"}),"Back to Home"]}),v.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:"All Categories"})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-4 sm:mt-0",children:[v.jsx("input",{type:"text",placeholder:"Search categories...",value:s,onChange:R=>a(R.target.value),className:"px-4 py-2 rounded-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary w-full sm:w-64","aria-label":"Search categories"}),v.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"px-4 py-2 rounded-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Sort categories",children:[v.jsx("option",{value:"default",children:"Default"}),v.jsx("option",{value:"asc",children:"A-Z"}),v.jsx("option",{value:"desc",children:"Z-A"})]})]})]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:p?Array.from({length:8}).map((R,K)=>v.jsxs("div",{className:"relative h-80 rounded-2xl overflow-hidden shadow-md animate-pulse",children:[v.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700"}),v.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex flex-col justify-center items-center text-white text-center px-4",children:[v.jsx("div",{className:"h-6 w-24 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),v.jsx("div",{className:"h-10 w-32 bg-gray-300 dark:bg-gray-600 rounded-full"})]})]},K)):A.slice(0,d).map((R,K)=>v.jsxs("div",{className:"relative h-80 rounded-2xl overflow-hidden group shadow-md cursor-pointer",role:"button",tabIndex:0,onClick:()=>{V(R.title),t("/CategeriesItems",{state:{category:R.title}})},onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&(V(R.title),t("/CategeriesItems",{state:{category:R.title}}))},"aria-label":`View ${R.title} category`,children:[v.jsx("img",{src:R.image,alt:`${R.title} category`,className:"w-full h-full object-cover",onError:q=>q.target.src=d9,loading:"lazy"}),v.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-30 group-hover:bg-opacity-40 transition duration-300 flex flex-col justify-center items-center text-white text-center px-4",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:R.title}),v.jsx("button",{onClick:q=>{q.stopPropagation(),V(R.title),t("/CategeriesItems",{state:{category:R.title}})},className:"bg-white text-black px-6 py-2 rounded-full font-medium hover:bg-gray-100 transition","aria-label":`Shop ${R.title} category`,children:"Shop Now"})]})]},K))}),d<A.length&&!p&&v.jsx("div",{className:"flex justify-center mt-8",children:v.jsx("button",{onClick:C,className:"bg-primary text-white px-6 py-2 rounded-full font-medium hover:bg-primary-dark transition","aria-label":"Load more categories",children:"Load More"})}),!p&&A.length===0&&v.jsx("div",{className:"text-center text-gray-600 dark:text-gray-400 mt-8",children:"No categories found matching your search."})]})}const m9="https://via.placeholder.com/300x200?text=Image+Not+Found";function p9(){var Z;const t=Bi(),e=Zn(),n=((Z=t.state)==null?void 0:Z.category)||"All Items",[s,a]=N.useState(""),[l,c]=N.useState("default"),[d,m]=N.useState([0,2e3]),[p,y]=N.useState(()=>{const M=localStorage.getItem("cart");return M?JSON.parse(M):[]}),[b,E]=N.useState(8),[A,C]=N.useState(!0),V=[{title:"Kids T-Shirt",image:"https://images.unsplash.com/photo-1618354691261-58f98969d3d3?auto=format&fit=crop&w=600&q=60",category:"Kid's Fashion",price:399},{title:"Kids Dress",image:"https://images.unsplash.com/photo-1520975911115-8bc3f1bdfcdc?auto=format&fit=crop&w=600&q=60",category:"Kid's Fashion",price:599},{title:"Boys Jacket",image:"https://images.unsplash.com/photo-1602810316521-3e4f8ae13577?auto=format&fit=crop&w=600&q=60",category:"Kid's Fashion",price:749},{title:"Girls Skirt",image:"https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=600&q=60",category:"Kid's Fashion",price:299},{title:"Women's Handbag",image:"https://images.unsplash.com/photo-1600180758890-6be201edc1d4?auto=format&fit=crop&w=600&q=60",category:"Accessories",price:899},{title:"Men's Shoes",image:"https://images.unsplash.com/photo-1606811842647-47e4683caa4d?auto=format&fit=crop&w=600&q=60",category:"Footwear",price:1299}];N.useEffect(()=>{C(!0);const M=setTimeout(()=>C(!1),1e3);return()=>clearTimeout(M)},[]),N.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(p))},[p]);const O=V.filter(M=>(n==="All Items"||M.category===n)&&M.title.toLowerCase().includes(s.toLowerCase())&&M.price>=d[0]&&M.price<=d[1]).sort((M,$)=>l==="priceAsc"?M.price-$.price:l==="priceDesc"?$.price-M.price:l==="titleAsc"?M.title.localeCompare($.title):l==="titleDesc"?$.title.localeCompare(M.title):0),R=N.useCallback(M=>{if(p.some($=>$.title===M.title)){alert(`${M.title} is already in the cart!`);return}y($=>[...$,M]),alert(`${M.title} added to cart!`),q(M.title)},[p]),K=()=>{E(M=>M+8)},q=N.useCallback(M=>{console.log(`Item added to cart: ${M}`)},[]);return v.jsxs("div",{className:"px-4 sm:px-6 py-12 bg-white dark:bg-gray-900 min-h-screen",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-8",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("button",{onClick:()=>e("/categoriespage"),className:"flex items-center text-primary hover:underline font-medium","aria-label":"Back to categories",children:[v.jsx(A0,{className:"w-5 h-5 mr-1"}),"Back to Categories"]}),v.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:n})]}),v.jsx("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:v.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Cart: ",p.length," items"]})})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-8 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Search items...",value:s,onChange:M=>a(M.target.value),className:"w-full sm:w-1/3 p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Search items"}),v.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"w-full sm:w-1/4 p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Sort items",children:[v.jsx("option",{value:"default",children:"Default"}),v.jsx("option",{value:"priceAsc",children:"Price: Low to High"}),v.jsx("option",{value:"priceDesc",children:"Price: High to Low"}),v.jsx("option",{value:"titleAsc",children:"Title: A-Z"}),v.jsx("option",{value:"titleDesc",children:"Title: Z-A"})]}),v.jsxs("div",{className:"w-full sm:w-1/3",children:[v.jsxs("label",{className:"text-gray-600 dark:text-gray-300 block mb-2",children:["Price Range: ₹",d[0]," - ₹",d[1]]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"range",min:"0",max:"2000",value:d[0],onChange:M=>m([Number(M.target.value),d[1]]),className:"w-1/2","aria-label":"Minimum price"}),v.jsx("input",{type:"range",min:"0",max:"2000",value:d[1],onChange:M=>m([d[0],Number(M.target.value)]),className:"w-1/2","aria-label":"Maximum price"})]})]})]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:A?Array.from({length:8}).map((M,$)=>v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-xl overflow-hidden animate-pulse",children:[v.jsx("div",{className:"w-full h-48 bg-gray-200 dark:bg-gray-700"}),v.jsxs("div",{className:"p-4 text-center",children:[v.jsx("div",{className:"h-6 w-3/4 bg-gray-300 dark:bg-gray-600 rounded mb-1 mx-auto"}),v.jsx("div",{className:"h-4 w-1/2 bg-gray-300 dark:bg-gray-600 rounded mb-3 mx-auto"}),v.jsx("div",{className:"h-10 w-32 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto"})]})]},$)):O.slice(0,b).map((M,$)=>v.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-xl overflow-hidden hover:shadow-xl transition",role:"button",tabIndex:0,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&R(M)},"aria-label":`Add ${M.title} to cart`,children:[v.jsx("img",{src:M.image,alt:M.title,className:"w-full h-48 object-cover",onError:P=>P.target.src=m9,loading:"lazy"}),v.jsxs("div",{className:"p-4 text-center",children:[v.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-1",children:M.title}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:["₹",M.price]}),v.jsx("button",{onClick:()=>R(M),className:"bg-black text-white px-4 py-2 rounded-full hover:bg-gray-800 transition","aria-label":`Add ${M.title} to cart`,children:"Add to Cart"})]})]},$))}),!A&&O.length===0&&v.jsx("div",{className:"col-span-full text-center text-gray-500 dark:text-gray-300 mt-8",children:"No items found."}),b<O.length&&!A&&v.jsx("div",{className:"flex justify-center mt-8",children:v.jsx("button",{onClick:K,className:"bg-primary text-white px-6 py-2 rounded-full font-medium hover:bg-primary-dark transition","aria-label":"Load more items",children:"Load More"})})]})}const g9=()=>{const[t,e]=N.useState(""),[n,s]=N.useState(""),[a,l]=N.useState({}),[c,d]=N.useState(!1),[m,p]=N.useState(!1),[y,b]=N.useState(!1),[E,A]=N.useState(0),C=Zn(),V=Wg()||{handleLogin:()=>console.log("Login not implemented")},{handleLogin:O,user:R}=V;N.useEffect(()=>{const M=localStorage.getItem("rememberedEmail"),$=localStorage.getItem("rememberedPassword"),P=localStorage.getItem("rememberMe")==="true";M&&$&&P&&(e(M),s($),b(!0))},[]),N.useEffect(()=>{R&&C("/")},[R,C]);const K=()=>{const M={};return t.trim()?/\S+@\S+\.\S+/.test(t)||(M.email="Invalid email format"):M.email="Email is required",n?n.length<8&&(M.password="Password must be at least 8 characters"):M.password="Password is required",M},q=async M=>{M.preventDefault(),d(!0),l({});const $=K();if(Object.keys($).length>0){l($),d(!1);return}try{await O3(Ea,y?hw:dy);const S=(await D3(Ea,t,n)).user;y?(localStorage.setItem("rememberedEmail",t),localStorage.setItem("rememberedPassword",n),localStorage.setItem("rememberMe","true")):(localStorage.removeItem("rememberedEmail"),localStorage.removeItem("rememberedPassword"),localStorage.removeItem("rememberMe")),O({name:S.displayName||t.split("@")[0],email:S.email,id:S.uid}),A(0),C("/")}catch(P){let S="Login failed. Please check your credentials.";switch(P.code){case"auth/user-not-found":S="No account found with this email.";break;case"auth/wrong-password":S="Incorrect password.";break;case"auth/too-many-requests":S="Too many failed attempts. Please try again later.";break;default:S=P.message}l({general:S}),A(D=>D+1)}finally{d(!1)}},Z=(M,$)=>{M==="email"&&e($),M==="password"&&s($);const P=K();l(S=>({...S,[M]:P[M]||null}))};return v.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-xl shadow-lg space-y-6",children:[v.jsx("div",{className:"text-center",children:v.jsxs(Zt,{to:"/",className:"flex justify-center items-center gap-2",children:[v.jsx("img",{src:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/logo.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL2xvZ28ucG5nIiwiaWF0IjoxNzQzNjc5MDkyLCJleHAiOjE3NzUyMTUwOTJ9.5iu3wayd4jpK-_qc58Cj5JQLe5peP8a5MnYX6VAWJMU",alt:"TrendZone Logo",className:"w-10 h-10 rounded-full"}),v.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"TrendZone"})]})}),a.general&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:a.general}),v.jsxs("form",{onSubmit:q,className:"space-y-6","aria-label":"Login form",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"relative",children:[v.jsx(ty,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),v.jsx("input",{type:"email",value:t,onChange:M=>Z("email",M.target.value),placeholder:"Email address",className:`w-full pl-10 pr-3 py-2 border ${a.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base`,"aria-invalid":!!a.email,"aria-describedby":a.email?"email-error":void 0})]}),a.email&&v.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-500",children:a.email})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"relative",children:[v.jsx(SE,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),v.jsx("input",{type:m?"text":"password",value:n,onChange:M=>Z("password",M.target.value),placeholder:"Password",className:`w-full pl-10 pr-10 py-2 border ${a.password?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base`,"aria-invalid":!!a.password,"aria-describedby":a.password?"password-error":void 0}),v.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":m?"Hide password":"Show password",children:m?v.jsx(EE,{}):v.jsx(wE,{})})]}),a.password&&v.jsx("p",{id:"password-error",className:"mt-1 text-sm text-red-500",children:a.password})]}),v.jsxs("div",{className:"flex justify-between text-sm flex-col sm:flex-row gap-2 sm:gap-0",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",checked:y,onChange:M=>b(M.target.checked),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500","aria-label":"Remember me"}),v.jsx("span",{className:"ml-2 text-gray-900",children:"Remember me"})]}),v.jsx(Zt,{to:"/forgot-password",className:"text-blue-600 hover:text-blue-500","aria-label":"Forgot password",children:"Forgot password?"})]}),v.jsx("button",{type:"submit",disabled:c||E>=3,className:`w-full py-2 px-4 rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base ${c||E>=3?"opacity-50 cursor-not-allowed":""}`,"aria-label":c?"Signing in":"Sign in",children:c?"Signing in...":"Sign in"})]}),v.jsxs("p",{className:"text-center text-sm text-gray-600",children:["No account?"," ",v.jsx(Zt,{to:"/signup",className:"text-blue-600 hover:text-blue-500","aria-label":"Sign up",children:"Sign up"})]})]})})},y9=()=>{const[t,e]=N.useState(""),[n,s]=N.useState(""),[a,l]=N.useState(""),[c,d]=N.useState({}),[m,p]=N.useState(!1),[y,b]=N.useState(!1),[E,A]=N.useState(!1),C=Zn(),V=Wg()||{handleLogin:()=>console.log("Login not implemented")},{handleLogin:O,user:R}=V;N.useEffect(()=>{const M=localStorage.getItem("rememberedName"),$=localStorage.getItem("rememberedEmail"),P=localStorage.getItem("rememberedPassword"),S=localStorage.getItem("rememberMe")==="true";M&&$&&P&&S&&(e(M),s($),l(P),A(!0))},[]),N.useEffect(()=>{R&&C("/")},[R,C]);const K=()=>{const M={};return t.trim()?t.length<2&&(M.name="Name must be at least 2 characters"):M.name="Name is required",n.trim()?/\S+@\S+\.\S+/.test(n)||(M.email="Invalid email format"):M.email="Email is required",a?a.length<8&&(M.password="Password must be at least 8 characters"):M.password="Password is required",M},q=async M=>{M.preventDefault(),p(!0),d({});const $=K();if(Object.keys($).length>0){d($),p(!1);return}try{const S=(await R3(Ea,n,a)).user;await P3(S,{displayName:t}),await Sg(Ao(Co,"users",S.uid),{name:t,email:S.email,createdAt:new Date}),E?(localStorage.setItem("rememberedName",t),localStorage.setItem("rememberedEmail",n),localStorage.setItem("rememberedPassword",a),localStorage.setItem("rememberMe","true")):(localStorage.removeItem("rememberedName"),localStorage.removeItem("rememberedEmail"),localStorage.removeItem("rememberedPassword"),localStorage.removeItem("rememberMe")),O({name:t,email:S.email,id:S.uid}),C("/")}catch(P){let S="Signup failed. Please try again.";switch(P.code){case"auth/email-already-in-use":S="This email is already registered.";break;case"auth/invalid-email":S="Invalid email format.";break;case"auth/weak-password":S="Password is too weak.";break;default:S=P.message}d({general:S})}finally{p(!1)}},Z=(M,$)=>{M==="name"&&e($),M==="email"&&s($),M==="password"&&l($);const P=K();d(S=>({...S,[M]:P[M]||null}))};return v.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-xl shadow-lg space-y-6",children:[v.jsx("div",{className:"text-center",children:v.jsxs(Zt,{to:"/",className:"flex justify-center items-center gap-2",children:[v.jsx("img",{src:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/logo.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL2xvZ28ucG5nIiwiaWF0IjoxNzQzNjc5MDkyLCJleHAiOjE3NzUyMTUwOTJ9.5iu3wayd4jpK-_qc58Cj5JQLe5peP8a5MnYX6VAWJMU",alt:"TrendZone Logo",className:"w-10 h-10 rounded-full"}),v.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"TrendZone"})]})}),c.general&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:c.general}),v.jsxs("form",{onSubmit:q,className:"space-y-6","aria-label":"Signup form",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"relative",children:[v.jsx(XN,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),v.jsx("input",{type:"text",value:t,onChange:M=>Z("name",M.target.value),placeholder:"Full name",className:`w-full pl-10 pr-3 py-2 border ${c.name?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base`,"aria-invalid":!!c.name,"aria-describedby":c.name?"name-error":void 0})]}),c.name&&v.jsx("p",{id:"name-error",className:"mt-1 text-sm text-red-500",children:c.name})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"relative",children:[v.jsx(ty,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),v.jsx("input",{type:"email",value:n,onChange:M=>Z("email",M.target.value),placeholder:"Email address",className:`w-full pl-10 pr-3 py-2 border ${c.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base`,"aria-invalid":!!c.email,"aria-describedby":c.email?"email-error":void 0})]}),c.email&&v.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-500",children:c.email})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"relative",children:[v.jsx(SE,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),v.jsx("input",{type:y?"text":"password",value:a,onChange:M=>Z("password",M.target.value),placeholder:"Password",className:`w-full pl-10 pr-10 py-2 border ${c.password?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base`,"aria-invalid":!!c.password,"aria-describedby":c.password?"password-error":void 0}),v.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":y?"Hide password":"Show password",children:y?v.jsx(EE,{}):v.jsx(wE,{})})]}),c.password&&v.jsx("p",{id:"password-error",className:"mt-1 text-sm text-red-500",children:c.password})]}),v.jsx("div",{className:"flex justify-between text-sm flex-col sm:flex-row gap-2 sm:gap-0",children:v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",checked:E,onChange:M=>A(M.target.checked),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500","aria-label":"Remember me"}),v.jsx("span",{className:"ml-2 text-gray-900",children:"Remember me"})]})}),v.jsx("button",{type:"submit",disabled:m,className:`w-full py-2 px-4 rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base ${m?"opacity-50 cursor-not-allowed":""}`,"aria-label":m?"Signing up":"Sign up",children:m?"Signing up...":"Sign up"})]}),v.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",v.jsx(Zt,{to:"/login",className:"text-blue-600 hover:text-blue-500","aria-label":"Sign in",children:"Sign in"})]})]})})},v9=()=>{const[t,e]=N.useState(""),[n,s]=N.useState({}),[a,l]=N.useState(!1),[c,d]=N.useState(""),m=Zn(),p=Wg()||{},{user:y}=p;N.useEffect(()=>{y&&m("/")},[y,m]);const b=()=>{const C={};return t.trim()?/\S+@\S+\.\S+/.test(t)||(C.email="Invalid email format"):C.email="Email is required",C},E=async C=>{C.preventDefault(),l(!0),s({}),d("");const V=b();if(Object.keys(V).length>0){s(V),l(!1);return}try{await N3(Ea,t),d("Password reset email sent! Please check your inbox."),e("")}catch(O){let R="Failed to send reset email. Please try again.";switch(O.code){case"auth/user-not-found":R="No account found with this email.";break;case"auth/invalid-email":R="Invalid email format.";break;default:R=O.message}s({general:R})}finally{l(!1)}},A=C=>{e(C);const V=b();s(O=>({...O,email:V.email||null}))};return v.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-xl shadow-lg space-y-6",children:[v.jsx("div",{className:"text-center",children:v.jsxs(Zt,{to:"/",className:"flex justify-center items-center gap-2",children:[v.jsx("img",{src:"https://nmquritpryrthvxcvkxi.supabase.co/storage/v1/object/sign/clothes/logo.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJjbG90aGVzL2xvZ28ucG5nIiwiaWF0IjoxNzQzNjc5MDkyLCJleHAiOjE3NzUyMTUwOTJ9.5iu3wayd4jpK-_qc58Cj5JQLe5peP8a5MnYX6VAWJMU",alt:"TrendZone Logo",className:"w-10 h-10 rounded-full"}),v.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"TrendZone"})]})}),n.general&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:n.general}),c&&v.jsx("p",{className:"text-green-500 text-sm text-center",children:c}),v.jsxs("form",{onSubmit:E,className:"space-y-6","aria-label":"Forgot password form",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"relative",children:[v.jsx(ty,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),v.jsx("input",{type:"email",value:t,onChange:C=>A(C.target.value),placeholder:"Email address",className:`w-full pl-10 pr-3 py-2 border ${n.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base`,"aria-invalid":!!n.email,"aria-describedby":n.email?"email-error":void 0})]}),n.email&&v.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-500",children:n.email})]}),v.jsx("button",{type:"submit",disabled:a,className:`w-full py-2 px-4 rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base ${a?"opacity-50 cursor-not-allowed":""}`,"aria-label":a?"Sending reset email":"Send reset email",children:a?"Sending...":"Send reset email"})]}),v.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Back to"," ",v.jsx(Zt,{to:"/login",className:"text-blue-600 hover:text-blue-500","aria-label":"Sign in",children:"Sign in"})]})]})})},_9=()=>v.jsxs(v.Fragment,{children:[v.jsx(gO,{}),v.jsx($5,{}),v.jsx(tL,{}),v.jsx(yL,{}),v.jsx(ZL,{}),v.jsx(e9,{}),v.jsx(n9,{}),v.jsx(s9,{}),v.jsx(a9,{})]}),b9=()=>v.jsx(SN,{children:v.jsxs(tN,{children:[v.jsx(Kn,{path:"/",element:v.jsx(_9,{})}),v.jsx(Kn,{path:"/product",element:v.jsx(r9,{})}),v.jsx(Kn,{path:"/cart",element:v.jsx(o9,{})})," ",v.jsx(Kn,{path:"/wishlist",element:v.jsx(l9,{})}),v.jsx(Kn,{path:"/checkout",element:v.jsx(h9,{})}),v.jsx(Kn,{path:"/myorders",element:v.jsx(c9,{})}),v.jsx(Kn,{path:"/categoriespage",element:v.jsx(f9,{})}),v.jsx(Kn,{path:"/CategeriesItems",element:v.jsx(p9,{})}),v.jsx(Kn,{path:"/login",element:v.jsx(g9,{})}),v.jsx(Kn,{path:"/signup",element:v.jsx(y9,{})}),v.jsx(Kn,{path:"/forgot-password",element:v.jsx(v9,{})})]})}),x9=N.createContext(),T9=({children:t})=>{const[e,n]=N.useState(null),s=l=>n(l),a=()=>n(null);return N.useEffect(()=>{const l=lw(Ea,c=>{n(c?{name:c.displayName||c.email.split("@")[0],email:c.email,id:c.uid}:null)});return()=>l()},[]),v.jsx(x9.Provider,{value:{user:e,handleLogin:s,handleLogout:a},children:t})},E9=document.getElementById("root");cI.createRoot(E9).render(v.jsx(N.StrictMode,{children:v.jsxs(T9,{children:["   ",v.jsx(b9,{})]})}));
